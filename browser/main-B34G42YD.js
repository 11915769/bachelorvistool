var xse=Object.create;var yD=Object.defineProperty,wse=Object.defineProperties,Dse=Object.getOwnPropertyDescriptor,Sse=Object.getOwnPropertyDescriptors,Ise=Object.getOwnPropertyNames,gD=Object.getOwnPropertySymbols,Ese=Object.getPrototypeOf,UR=Object.prototype.hasOwnProperty,fj=Object.prototype.propertyIsEnumerable;var VR=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e);var uj=(e,t,n)=>t in e?yD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||={})UR.call(t,n)&&uj(e,n,t[n]);if(gD)for(var n of gD(t))fj.call(t,n)&&uj(e,n,t[n]);return e},V=(e,t)=>wse(e,Sse(t));var dj=e=>typeof e=="symbol"?e:e+"",Y=(e,t)=>{var n={};for(var r in e)UR.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gD)for(var r of gD(e))t.indexOf(r)<0&&fj.call(e,r)&&(n[r]=e[r]);return n};var jR=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),tf=(e,t)=>{for(var n in t)yD(e,n,{get:t[n],enumerable:!0})},Tse=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ise(t))!UR.call(e,i)&&i!==n&&yD(e,i,{get:()=>t[i],enumerable:!(r=Dse(t,i))||r.enumerable});return e};var hj=(e,t,n)=>(n=e!=null?xse(Ese(e)):{},Tse(t||!e||!e.__esModule?yD(n,"default",{value:e,enumerable:!0}):n,e));var ce=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(u){i(u)}},s=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())}),Cse=function(e,t){this[0]=e,this[1]=t};var fl=e=>{var t=e[VR("asyncIterator")],n=!1,r,i={};return t==null?(t=e[VR("iterator")](),r=o=>i[o]=s=>t[o](s)):(t=t.call(e),r=o=>i[o]=s=>{if(n){if(n=!1,o==="throw")throw s;return s}return n=!0,{done:!1,value:new Cse(new Promise(a=>{var c=t[o](s);if(!(c instanceof Object))throw TypeError("Object expected");a(c)}),1)}}),i[VR("iterator")]=()=>i,r("next"),"throw"in t?r("throw"):i.throw=o=>{throw o},"return"in t&&r("return"),i};var aG=jR((OI,sG)=>{"use strict";(function(e,t){typeof OI=="object"&&typeof sG<"u"?t(OI):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.leaflet={}))})(OI,function(e){"use strict";var t="1.9.4";function n(l){var d,g,_,S;for(g=1,_=arguments.length;g<_;g++){S=arguments[g];for(d in S)l[d]=S[d]}return l}var r=Object.create||function(){function l(){}return function(d){return l.prototype=d,new l}}();function i(l,d){var g=Array.prototype.slice;if(l.bind)return l.bind.apply(l,g.call(arguments,1));var _=g.call(arguments,2);return function(){return l.apply(d,_.length?_.concat(g.call(arguments)):arguments)}}var o=0;function s(l){return"_leaflet_id"in l||(l._leaflet_id=++o),l._leaflet_id}function a(l,d,g){var _,S,M,$;return $=function(){_=!1,S&&(M.apply(g,S),S=!1)},M=function(){_?S=arguments:(l.apply(g,arguments),setTimeout($,d),_=!0)},M}function c(l,d,g){var _=d[1],S=d[0],M=_-S;return l===_&&g?l:((l-S)%M+M)%M+S}function u(){return!1}function f(l,d){if(d===!1)return l;var g=Math.pow(10,d===void 0?6:d);return Math.round(l*g)/g}function h(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function p(l){return h(l).split(/\s+/)}function m(l,d){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?r(l.options):{});for(var g in d)l.options[g]=d[g];return l.options}function y(l,d,g){var _=[];for(var S in l)_.push(encodeURIComponent(g?S.toUpperCase():S)+"="+encodeURIComponent(l[S]));return(!d||d.indexOf("?")===-1?"?":"&")+_.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function b(l,d){return l.replace(v,function(g,_){var S=d[_];if(S===void 0)throw new Error("No value provided for variable "+g);return typeof S=="function"&&(S=S(d)),S})}var x=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function w(l,d){for(var g=0;g<l.length;g++)if(l[g]===d)return g;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var A=0;function T(l){var d=+new Date,g=Math.max(0,16-(d-A));return A=d+g,window.setTimeout(l,g)}var N=window.requestAnimationFrame||I("RequestAnimationFrame")||T,B=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function R(l,d,g){if(g&&N===T)l.call(d);else return N.call(window,i(l,d))}function P(l){l&&B.call(window,l)}var O={__proto__:null,extend:n,create:r,bind:i,get lastId(){return o},stamp:s,throttle:a,wrapNum:c,falseFn:u,formatNum:f,trim:h,splitWords:p,setOptions:m,getParamString:y,template:b,isArray:x,indexOf:w,emptyImageUrl:D,requestFn:N,cancelFn:B,requestAnimFrame:R,cancelAnimFrame:P};function k(){}k.extend=function(l){var d=function(){m(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=d.__super__=this.prototype,_=r(g);_.constructor=d,d.prototype=_;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(d[S]=this[S]);return l.statics&&n(d,l.statics),l.includes&&(H(l.includes),n.apply(null,[_].concat(l.includes))),n(_,l),delete _.statics,delete _.includes,_.options&&(_.options=g.options?r(g.options):{},n(_.options,l.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,$=_._initHooks.length;M<$;M++)_._initHooks[M].call(this)}},d},k.include=function(l){var d=this.prototype.options;return n(this.prototype,l),l.options&&(this.prototype.options=d,this.mergeOptions(l.options)),this},k.mergeOptions=function(l){return n(this.prototype.options,l),this},k.addInitHook=function(l){var d=Array.prototype.slice.call(arguments,1),g=typeof l=="function"?l:function(){this[l].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function H(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=x(l)?l:[l];for(var d=0;d<l.length;d++)l[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var U={on:function(l,d,g){if(typeof l=="object")for(var _ in l)this._on(_,l[_],d);else{l=p(l);for(var S=0,M=l.length;S<M;S++)this._on(l[S],d,g)}return this},off:function(l,d,g){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var _ in l)this._off(_,l[_],d);else{l=p(l);for(var S=arguments.length===1,M=0,$=l.length;M<$;M++)S?this._off(l[M]):this._off(l[M],d,g)}return this},_on:function(l,d,g,_){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(l,d,g)===!1){g===this&&(g=void 0);var S={fn:d,ctx:g};_&&(S.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(S)}},_off:function(l,d,g){var _,S,M;if(this._events&&(_=this._events[l],!!_)){if(arguments.length===1){if(this._firingCount)for(S=0,M=_.length;S<M;S++)_[S].fn=u;delete this._events[l];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var $=this._listens(l,d,g);if($!==!1){var Z=_[$];this._firingCount&&(Z.fn=u,this._events[l]=_=_.slice()),_.splice($,1)}}},fire:function(l,d,g){if(!this.listens(l,g))return this;var _=n({},d,{type:l,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var S=this._events[l];if(S){this._firingCount=this._firingCount+1||1;for(var M=0,$=S.length;M<$;M++){var Z=S[M],Q=Z.fn;Z.once&&this.off(l,Q,Z.ctx),Q.call(Z.ctx||this,_)}this._firingCount--}}return g&&this._propagateEvent(_),this},listens:function(l,d,g,_){typeof l!="string"&&console.warn('"string" type argument expected');var S=d;typeof d!="function"&&(_=!!d,S=void 0,g=void 0);var M=this._events&&this._events[l];if(M&&M.length&&this._listens(l,S,g)!==!1)return!0;if(_){for(var $ in this._eventParents)if(this._eventParents[$].listens(l,d,g,_))return!0}return!1},_listens:function(l,d,g){if(!this._events)return!1;var _=this._events[l]||[];if(!d)return!!_.length;g===this&&(g=void 0);for(var S=0,M=_.length;S<M;S++)if(_[S].fn===d&&_[S].ctx===g)return S;return!1},once:function(l,d,g){if(typeof l=="object")for(var _ in l)this._on(_,l[_],d,!0);else{l=p(l);for(var S=0,M=l.length;S<M;S++)this._on(l[S],d,g,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[s(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[s(l)],this},_propagateEvent:function(l){for(var d in this._eventParents)this._eventParents[d].fire(l.type,n({layer:l.target,propagatedFrom:l.target},l),!0)}};U.addEventListener=U.on,U.removeEventListener=U.clearAllEventListeners=U.off,U.addOneTimeEventListener=U.once,U.fireEvent=U.fire,U.hasEventListeners=U.listens;var C=k.extend(U);function F(l,d,g){this.x=g?Math.round(l):l,this.y=g?Math.round(d):d}var W=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(l){return this.clone()._add(G(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(G(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new F(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new F(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=W(this.x),this.y=W(this.y),this},distanceTo:function(l){l=G(l);var d=l.x-this.x,g=l.y-this.y;return Math.sqrt(d*d+g*g)},equals:function(l){return l=G(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=G(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+f(this.x)+", "+f(this.y)+")"}};function G(l,d,g){return l instanceof F?l:x(l)?new F(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new F(l.x,l.y):new F(l,d,g)}function q(l,d){if(l)for(var g=d?[l,d]:l,_=0,S=g.length;_<S;_++)this.extend(g[_])}q.prototype={extend:function(l){var d,g;if(!l)return this;if(l instanceof F||typeof l[0]=="number"||"x"in l)d=g=G(l);else if(l=K(l),d=l.min,g=l.max,!d||!g)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=g.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(l){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var d,g;return typeof l[0]=="number"||l instanceof F?l=G(l):l=K(l),l instanceof q?(d=l.min,g=l.max):d=g=l,d.x>=this.min.x&&g.x<=this.max.x&&d.y>=this.min.y&&g.y<=this.max.y},intersects:function(l){l=K(l);var d=this.min,g=this.max,_=l.min,S=l.max,M=S.x>=d.x&&_.x<=g.x,$=S.y>=d.y&&_.y<=g.y;return M&&$},overlaps:function(l){l=K(l);var d=this.min,g=this.max,_=l.min,S=l.max,M=S.x>d.x&&_.x<g.x,$=S.y>d.y&&_.y<g.y;return M&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var d=this.min,g=this.max,_=Math.abs(d.x-g.x)*l,S=Math.abs(d.y-g.y)*l;return K(G(d.x-_,d.y-S),G(g.x+_,g.y+S))},equals:function(l){return l?(l=K(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function K(l,d){return!l||l instanceof q?l:new q(l,d)}function X(l,d){if(l)for(var g=d?[l,d]:l,_=0,S=g.length;_<S;_++)this.extend(g[_])}X.prototype={extend:function(l){var d=this._southWest,g=this._northEast,_,S;if(l instanceof re)_=l,S=l;else if(l instanceof X){if(_=l._southWest,S=l._northEast,!_||!S)return this}else return l?this.extend(te(l)||J(l)):this;return!d&&!g?(this._southWest=new re(_.lat,_.lng),this._northEast=new re(S.lat,S.lng)):(d.lat=Math.min(_.lat,d.lat),d.lng=Math.min(_.lng,d.lng),g.lat=Math.max(S.lat,g.lat),g.lng=Math.max(S.lng,g.lng)),this},pad:function(l){var d=this._southWest,g=this._northEast,_=Math.abs(d.lat-g.lat)*l,S=Math.abs(d.lng-g.lng)*l;return new X(new re(d.lat-_,d.lng-S),new re(g.lat+_,g.lng+S))},getCenter:function(){return new re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new re(this.getNorth(),this.getWest())},getSouthEast:function(){return new re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof re||"lat"in l?l=te(l):l=J(l);var d=this._southWest,g=this._northEast,_,S;return l instanceof X?(_=l.getSouthWest(),S=l.getNorthEast()):_=S=l,_.lat>=d.lat&&S.lat<=g.lat&&_.lng>=d.lng&&S.lng<=g.lng},intersects:function(l){l=J(l);var d=this._southWest,g=this._northEast,_=l.getSouthWest(),S=l.getNorthEast(),M=S.lat>=d.lat&&_.lat<=g.lat,$=S.lng>=d.lng&&_.lng<=g.lng;return M&&$},overlaps:function(l){l=J(l);var d=this._southWest,g=this._northEast,_=l.getSouthWest(),S=l.getNorthEast(),M=S.lat>d.lat&&_.lat<g.lat,$=S.lng>d.lng&&_.lng<g.lng;return M&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,d){return l?(l=J(l),this._southWest.equals(l.getSouthWest(),d)&&this._northEast.equals(l.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function J(l,d){return l instanceof X?l:new X(l,d)}function re(l,d,g){if(isNaN(l)||isNaN(d))throw new Error("Invalid LatLng object: ("+l+", "+d+")");this.lat=+l,this.lng=+d,g!==void 0&&(this.alt=+g)}re.prototype={equals:function(l,d){if(!l)return!1;l=te(l);var g=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return g<=(d===void 0?1e-9:d)},toString:function(l){return"LatLng("+f(this.lat,l)+", "+f(this.lng,l)+")"},distanceTo:function(l){return he.distance(this,te(l))},wrap:function(){return he.wrapLatLng(this)},toBounds:function(l){var d=180*l/40075017,g=d/Math.cos(Math.PI/180*this.lat);return J([this.lat-d,this.lng-g],[this.lat+d,this.lng+g])},clone:function(){return new re(this.lat,this.lng,this.alt)}};function te(l,d,g){return l instanceof re?l:x(l)&&typeof l[0]!="object"?l.length===3?new re(l[0],l[1],l[2]):l.length===2?new re(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new re(l.lat,"lng"in l?l.lng:l.lon,l.alt):d===void 0?null:new re(l,d,g)}var le={latLngToPoint:function(l,d){var g=this.projection.project(l),_=this.scale(d);return this.transformation._transform(g,_)},pointToLatLng:function(l,d){var g=this.scale(d),_=this.transformation.untransform(l,g);return this.projection.unproject(_)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var d=this.projection.bounds,g=this.scale(l),_=this.transformation.transform(d.min,g),S=this.transformation.transform(d.max,g);return new q(_,S)},infinite:!1,wrapLatLng:function(l){var d=this.wrapLng?c(l.lng,this.wrapLng,!0):l.lng,g=this.wrapLat?c(l.lat,this.wrapLat,!0):l.lat,_=l.alt;return new re(g,d,_)},wrapLatLngBounds:function(l){var d=l.getCenter(),g=this.wrapLatLng(d),_=d.lat-g.lat,S=d.lng-g.lng;if(_===0&&S===0)return l;var M=l.getSouthWest(),$=l.getNorthEast(),Z=new re(M.lat-_,M.lng-S),Q=new re($.lat-_,$.lng-S);return new X(Z,Q)}},he=n({},le,{wrapLng:[-180,180],R:6371e3,distance:function(l,d){var g=Math.PI/180,_=l.lat*g,S=d.lat*g,M=Math.sin((d.lat-l.lat)*g/2),$=Math.sin((d.lng-l.lng)*g/2),Z=M*M+Math.cos(_)*Math.cos(S)*$*$,Q=2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z));return this.R*Q}}),me=6378137,at={R:me,MAX_LATITUDE:85.0511287798,project:function(l){var d=Math.PI/180,g=this.MAX_LATITUDE,_=Math.max(Math.min(g,l.lat),-g),S=Math.sin(_*d);return new F(this.R*l.lng*d,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(l){var d=180/Math.PI;return new re((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*d,l.x*d/this.R)},bounds:function(){var l=me*Math.PI;return new q([-l,-l],[l,l])}()};function ee(l,d,g,_){if(x(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=d,this._c=g,this._d=_}ee.prototype={transform:function(l,d){return this._transform(l.clone(),d)},_transform:function(l,d){return d=d||1,l.x=d*(this._a*l.x+this._b),l.y=d*(this._c*l.y+this._d),l},untransform:function(l,d){return d=d||1,new F((l.x/d-this._b)/this._a,(l.y/d-this._d)/this._c)}};function ue(l,d,g,_){return new ee(l,d,g,_)}var fe=n({},he,{code:"EPSG:3857",projection:at,transformation:function(){var l=.5/(Math.PI*at.R);return ue(l,.5,-l,.5)}()}),ne=n({},fe,{code:"EPSG:900913"});function Je(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function De(l,d){var g="",_,S,M,$,Z,Q;for(_=0,M=l.length;_<M;_++){for(Z=l[_],S=0,$=Z.length;S<$;S++)Q=Z[S],g+=(S?"L":"M")+Q.x+" "+Q.y;g+=d?Oe.svg?"z":"x":""}return g||"M0 0"}var xt=document.documentElement.style,dt="ActiveXObject"in window,ye=dt&&!document.addEventListener,ht="msLaunchUri"in navigator&&!("documentMode"in document),Ht=ja("webkit"),An=ja("android"),uo=ja("android 2")||ja("android 3"),Zw=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xw=An&&ja("Google")&&Zw<537&&!("AudioNode"in window),Fd=!!window.opera,Oo=!ht&&ja("chrome"),os=ja("gecko")&&!Ht&&!Fd&&!dt,Ua=!Oo&&ja("safari"),Lt=ja("phantom"),ri="OTransition"in xt,X0=navigator.platform.indexOf("Win")===0,ol=dt&&"transition"in xt,om="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!uo,sl="MozPerspective"in xt,fR=!window.L_DISABLE_3D&&(ol||om||sl)&&!ri&&!Lt,Bd=typeof orientation<"u"||ja("mobile"),sm=Bd&&Ht,ss=Bd&&om,as=!window.PointerEvent&&window.MSPointerEvent,Qw=!!(window.PointerEvent||as),pU="ontouchstart"in window||!!window.TouchEvent,soe=!window.L_NO_TOUCH&&(pU||Qw),aoe=Bd&&Fd,coe=Bd&&os,loe=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,uoe=function(){var l=!1;try{var d=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",u,d),window.removeEventListener("testPassiveEventSupport",u,d)}catch{}return l}(),foe=function(){return!!document.createElement("canvas").getContext}(),dR=!!(document.createElementNS&&Je("svg").createSVGRect),doe=!!dR&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),hoe=!dR&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var d=l.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),poe=navigator.platform.indexOf("Mac")===0,moe=navigator.platform.indexOf("Linux")===0;function ja(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var Oe={ie:dt,ielt9:ye,edge:ht,webkit:Ht,android:An,android23:uo,androidStock:Xw,opera:Fd,chrome:Oo,gecko:os,safari:Ua,phantom:Lt,opera12:ri,win:X0,ie3d:ol,webkit3d:om,gecko3d:sl,any3d:fR,mobile:Bd,mobileWebkit:sm,mobileWebkit3d:ss,msPointer:as,pointer:Qw,touch:soe,touchNative:pU,mobileOpera:aoe,mobileGecko:coe,retina:loe,passiveEvents:uoe,canvas:foe,svg:dR,vml:hoe,inlineSvg:doe,mac:poe,linux:moe},mU=Oe.msPointer?"MSPointerDown":"pointerdown",gU=Oe.msPointer?"MSPointerMove":"pointermove",yU=Oe.msPointer?"MSPointerUp":"pointerup",_U=Oe.msPointer?"MSPointerCancel":"pointercancel",hR={touchstart:mU,touchmove:gU,touchend:yU,touchcancel:_U},vU={touchstart:xoe,touchmove:Kw,touchend:Kw,touchcancel:Kw},am={},bU=!1;function goe(l,d,g){return d==="touchstart"&&boe(),vU[d]?(g=vU[d].bind(this,g),l.addEventListener(hR[d],g,!1),g):(console.warn("wrong event specified:",d),u)}function yoe(l,d,g){if(!hR[d]){console.warn("wrong event specified:",d);return}l.removeEventListener(hR[d],g,!1)}function _oe(l){am[l.pointerId]=l}function voe(l){am[l.pointerId]&&(am[l.pointerId]=l)}function xU(l){delete am[l.pointerId]}function boe(){bU||(document.addEventListener(mU,_oe,!0),document.addEventListener(gU,voe,!0),document.addEventListener(yU,xU,!0),document.addEventListener(_U,xU,!0),bU=!0)}function Kw(l,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var g in am)d.touches.push(am[g]);d.changedTouches=[d],l(d)}}function xoe(l,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&ii(d),Kw(l,d)}function woe(l){var d={},g,_;for(_ in l)g=l[_],d[_]=g&&g.bind?g.bind(l):g;return l=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var Doe=200;function Soe(l,d){l.addEventListener("dblclick",d);var g=0,_;function S(M){if(M.detail!==1){_=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var $=EU(M);if(!($.some(function(Q){return Q instanceof HTMLLabelElement&&Q.attributes.for})&&!$.some(function(Q){return Q instanceof HTMLInputElement||Q instanceof HTMLSelectElement}))){var Z=Date.now();Z-g<=Doe?(_++,_===2&&d(woe(M))):_=1,g=Z}}}return l.addEventListener("click",S),{dblclick:d,simDblclick:S}}function Ioe(l,d){l.removeEventListener("dblclick",d.dblclick),l.removeEventListener("click",d.simDblclick)}var pR=tD(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Q0=tD(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wU=Q0==="webkitTransition"||Q0==="OTransition"?Q0+"End":"transitionend";function DU(l){return typeof l=="string"?document.getElementById(l):l}function K0(l,d){var g=l.style[d]||l.currentStyle&&l.currentStyle[d];if((!g||g==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(l,null);g=_?_[d]:null}return g==="auto"?null:g}function Gt(l,d,g){var _=document.createElement(l);return _.className=d||"",g&&g.appendChild(_),_}function jn(l){var d=l.parentNode;d&&d.removeChild(l)}function Jw(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function cm(l){var d=l.parentNode;d&&d.lastChild!==l&&d.appendChild(l)}function lm(l){var d=l.parentNode;d&&d.firstChild!==l&&d.insertBefore(l,d.firstChild)}function mR(l,d){if(l.classList!==void 0)return l.classList.contains(d);var g=eD(l);return g.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(g)}function wt(l,d){if(l.classList!==void 0)for(var g=p(d),_=0,S=g.length;_<S;_++)l.classList.add(g[_]);else if(!mR(l,d)){var M=eD(l);gR(l,(M?M+" ":"")+d)}}function ir(l,d){l.classList!==void 0?l.classList.remove(d):gR(l,h((" "+eD(l)+" ").replace(" "+d+" "," ")))}function gR(l,d){l.className.baseVal===void 0?l.className=d:l.className.baseVal=d}function eD(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function cs(l,d){"opacity"in l.style?l.style.opacity=d:"filter"in l.style&&Eoe(l,d)}function Eoe(l,d){var g=!1,_="DXImageTransform.Microsoft.Alpha";try{g=l.filters.item(_)}catch{if(d===1)return}d=Math.round(d*100),g?(g.Enabled=d!==100,g.Opacity=d):l.style.filter+=" progid:"+_+"(opacity="+d+")"}function tD(l){for(var d=document.documentElement.style,g=0;g<l.length;g++)if(l[g]in d)return l[g];return!1}function Vd(l,d,g){var _=d||new F(0,0);l.style[pR]=(Oe.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(g?" scale("+g+")":"")}function lr(l,d){l._leaflet_pos=d,Oe.any3d?Vd(l,d):(l.style.left=d.x+"px",l.style.top=d.y+"px")}function Ud(l){return l._leaflet_pos||new F(0,0)}var J0,e_,yR;if("onselectstart"in document)J0=function(){gt(window,"selectstart",ii)},e_=function(){En(window,"selectstart",ii)};else{var t_=tD(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);J0=function(){if(t_){var l=document.documentElement.style;yR=l[t_],l[t_]="none"}},e_=function(){t_&&(document.documentElement.style[t_]=yR,yR=void 0)}}function _R(){gt(window,"dragstart",ii)}function vR(){En(window,"dragstart",ii)}var nD,bR;function xR(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(rD(),nD=l,bR=l.style.outlineStyle,l.style.outlineStyle="none",gt(window,"keydown",rD))}function rD(){nD&&(nD.style.outlineStyle=bR,nD=void 0,bR=void 0,En(window,"keydown",rD))}function SU(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function wR(l){var d=l.getBoundingClientRect();return{x:d.width/l.offsetWidth||1,y:d.height/l.offsetHeight||1,boundingClientRect:d}}var Toe={__proto__:null,TRANSFORM:pR,TRANSITION:Q0,TRANSITION_END:wU,get:DU,getStyle:K0,create:Gt,remove:jn,empty:Jw,toFront:cm,toBack:lm,hasClass:mR,addClass:wt,removeClass:ir,setClass:gR,getClass:eD,setOpacity:cs,testProp:tD,setTransform:Vd,setPosition:lr,getPosition:Ud,get disableTextSelection(){return J0},get enableTextSelection(){return e_},disableImageDrag:_R,enableImageDrag:vR,preventOutline:xR,restoreOutline:rD,getSizedParentNode:SU,getScale:wR};function gt(l,d,g,_){if(d&&typeof d=="object")for(var S in d)SR(l,S,d[S],g);else{d=p(d);for(var M=0,$=d.length;M<$;M++)SR(l,d[M],g,_)}return this}var $a="_leaflet_events";function En(l,d,g,_){if(arguments.length===1)IU(l),delete l[$a];else if(d&&typeof d=="object")for(var S in d)IR(l,S,d[S],g);else if(d=p(d),arguments.length===2)IU(l,function(Z){return w(d,Z)!==-1});else for(var M=0,$=d.length;M<$;M++)IR(l,d[M],g,_);return this}function IU(l,d){for(var g in l[$a]){var _=g.split(/\d/)[0];(!d||d(_))&&IR(l,_,null,null,g)}}var DR={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function SR(l,d,g,_){var S=d+s(g)+(_?"_"+s(_):"");if(l[$a]&&l[$a][S])return this;var M=function(Z){return g.call(_||l,Z||window.event)},$=M;!Oe.touchNative&&Oe.pointer&&d.indexOf("touch")===0?M=goe(l,d,M):Oe.touch&&d==="dblclick"?M=Soe(l,M):"addEventListener"in l?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?l.addEventListener(DR[d]||d,M,Oe.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(M=function(Z){Z=Z||window.event,TR(l,Z)&&$(Z)},l.addEventListener(DR[d],M,!1)):l.addEventListener(d,$,!1):l.attachEvent("on"+d,M),l[$a]=l[$a]||{},l[$a][S]=M}function IR(l,d,g,_,S){S=S||d+s(g)+(_?"_"+s(_):"");var M=l[$a]&&l[$a][S];if(!M)return this;!Oe.touchNative&&Oe.pointer&&d.indexOf("touch")===0?yoe(l,d,M):Oe.touch&&d==="dblclick"?Ioe(l,M):"removeEventListener"in l?l.removeEventListener(DR[d]||d,M,!1):l.detachEvent("on"+d,M),l[$a][S]=null}function jd(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function ER(l){return SR(l,"wheel",jd),this}function n_(l){return gt(l,"mousedown touchstart dblclick contextmenu",jd),l._leaflet_disable_click=!0,this}function ii(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function $d(l){return ii(l),jd(l),this}function EU(l){if(l.composedPath)return l.composedPath();for(var d=[],g=l.target;g;)d.push(g),g=g.parentNode;return d}function TU(l,d){if(!d)return new F(l.clientX,l.clientY);var g=wR(d),_=g.boundingClientRect;return new F((l.clientX-_.left)/g.x-d.clientLeft,(l.clientY-_.top)/g.y-d.clientTop)}var Coe=Oe.linux&&Oe.chrome?window.devicePixelRatio:Oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function CU(l){return Oe.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/Coe:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function TR(l,d){var g=d.relatedTarget;if(!g)return!0;try{for(;g&&g!==l;)g=g.parentNode}catch{return!1}return g!==l}var Moe={__proto__:null,on:gt,off:En,stopPropagation:jd,disableScrollPropagation:ER,disableClickPropagation:n_,preventDefault:ii,stop:$d,getPropagationPath:EU,getMousePosition:TU,getWheelDelta:CU,isExternalTarget:TR,addListener:gt,removeListener:En},MU=C.extend({run:function(l,d,g,_){this.stop(),this._el=l,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Ud(l),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=R(this._animate,this),this._step()},_step:function(l){var d=+new Date-this._startTime,g=this._duration*1e3;d<g?this._runFrame(this._easeOut(d/g),l):(this._runFrame(1),this._complete())},_runFrame:function(l,d){var g=this._startPos.add(this._offset.multiplyBy(l));d&&g._round(),lr(this._el,g),this.fire("step")},_complete:function(){P(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),Bt=C.extend({options:{crs:fe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,d){d=m(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(te(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Q0&&Oe.any3d&&!Oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),gt(this._proxy,wU,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,d,g){if(d=d===void 0?this._zoom:this._limitZoom(d),l=this._limitCenter(te(l),d,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=n({animate:g.animate},g.zoom),g.pan=n({animate:g.animate,duration:g.duration},g.pan));var _=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,d,g.zoom):this._tryAnimatedPan(l,g.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(l,d,g.pan&&g.pan.noMoveStart),this},setZoom:function(l,d){return this._loaded?this.setView(this.getCenter(),l,{zoom:d}):(this._zoom=l,this)},zoomIn:function(l,d){return l=l||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,d)},zoomOut:function(l,d){return l=l||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,d)},setZoomAround:function(l,d,g){var _=this.getZoomScale(d),S=this.getSize().divideBy(2),M=l instanceof F?l:this.latLngToContainerPoint(l),$=M.subtract(S).multiplyBy(1-1/_),Z=this.containerPointToLatLng(S.add($));return this.setView(Z,d,{zoom:g})},_getBoundsCenterZoom:function(l,d){d=d||{},l=l.getBounds?l.getBounds():J(l);var g=G(d.paddingTopLeft||d.padding||[0,0]),_=G(d.paddingBottomRight||d.padding||[0,0]),S=this.getBoundsZoom(l,!1,g.add(_));if(S=typeof d.maxZoom=="number"?Math.min(d.maxZoom,S):S,S===1/0)return{center:l.getCenter(),zoom:S};var M=_.subtract(g).divideBy(2),$=this.project(l.getSouthWest(),S),Z=this.project(l.getNorthEast(),S),Q=this.unproject($.add(Z).divideBy(2).add(M),S);return{center:Q,zoom:S}},fitBounds:function(l,d){if(l=J(l),!l.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(l,d);return this.setView(g.center,g.zoom,d)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,d){return this.setView(l,this._zoom,{pan:d})},panBy:function(l,d){if(l=G(l).round(),d=d||{},!l.x&&!l.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new MU,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){wt(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,g,d.duration||.25,d.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,d,g){if(g=g||{},g.animate===!1||!Oe.any3d)return this.setView(l,d,g);this._stop();var _=this.project(this.getCenter()),S=this.project(l),M=this.getSize(),$=this._zoom;l=te(l),d=d===void 0?$:d;var Z=Math.max(M.x,M.y),Q=Z*this.getZoomScale($,d),oe=S.distanceTo(_)||1,_e=1.42,Xe=_e*_e;function Ct(ur){var mD=ur?-1:1,yse=ur?Q:Z,_se=Q*Q-Z*Z+mD*Xe*Xe*oe*oe,vse=2*yse*Xe*oe,BR=_se/vse,lj=Math.sqrt(BR*BR+1)-BR,bse=lj<1e-9?-18:Math.log(lj);return bse}function Bi(ur){return(Math.exp(ur)-Math.exp(-ur))/2}function Vr(ur){return(Math.exp(ur)+Math.exp(-ur))/2}function us(ur){return Bi(ur)/Vr(ur)}var fo=Ct(0);function mm(ur){return Z*(Vr(fo)/Vr(fo+_e*ur))}function hse(ur){return Z*(Vr(fo)*us(fo+_e*ur)-Bi(fo))/Xe}function pse(ur){return 1-Math.pow(1-ur,1.5)}var mse=Date.now(),aj=(Ct(1)-fo)/_e,gse=g.duration?1e3*g.duration:1e3*aj*.8;function cj(){var ur=(Date.now()-mse)/gse,mD=pse(ur)*aj;ur<=1?(this._flyToFrame=R(cj,this),this._move(this.unproject(_.add(S.subtract(_).multiplyBy(hse(mD)/oe)),$),this.getScaleZoom(Z/mm(mD),$),{flyTo:!0})):this._move(l,d)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),cj.call(this),this},flyToBounds:function(l,d){var g=this._getBoundsCenterZoom(l,d);return this.flyTo(g.center,g.zoom,d)},setMaxBounds:function(l){return l=J(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var d=this.options.minZoom;return this.options.minZoom=l,this._loaded&&d!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var d=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&d!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,d){this._enforcingBounds=!0;var g=this.getCenter(),_=this._limitCenter(g,this._zoom,J(l));return g.equals(_)||this.panTo(_,d),this._enforcingBounds=!1,this},panInside:function(l,d){d=d||{};var g=G(d.paddingTopLeft||d.padding||[0,0]),_=G(d.paddingBottomRight||d.padding||[0,0]),S=this.project(this.getCenter()),M=this.project(l),$=this.getPixelBounds(),Z=K([$.min.add(g),$.max.subtract(_)]),Q=Z.getSize();if(!Z.contains(M)){this._enforcingBounds=!0;var oe=M.subtract(Z.getCenter()),_e=Z.extend(M).getSize().subtract(Q);S.x+=oe.x<0?-_e.x:_e.x,S.y+=oe.y<0?-_e.y:_e.y,this.panTo(this.unproject(S),d),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=n({animate:!1,pan:!0},l===!0?{animate:!0}:l);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),_=d.divideBy(2).round(),S=g.divideBy(2).round(),M=_.subtract(S);return!M.x&&!M.y?this:(l.animate&&l.pan?this.panBy(M):(l.pan&&this._rawPanBy(M),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=n({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=i(this._handleGeolocationResponse,this),g=i(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,g,l):navigator.geolocation.getCurrentPosition(d,g,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var d=l.code,g=l.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var d=l.coords.latitude,g=l.coords.longitude,_=new re(d,g),S=_.toBounds(l.coords.accuracy*2),M=this._locateOptions;if(M.setView){var $=this.getBoundsZoom(S);this.setView(_,M.maxZoom?Math.min($,M.maxZoom):$)}var Z={latlng:_,bounds:S,timestamp:l.timestamp};for(var Q in l.coords)typeof l.coords[Q]=="number"&&(Z[Q]=l.coords[Q]);this.fire("locationfound",Z)}},addHandler:function(l,d){if(!d)return this;var g=this[l]=new d(this);return this._handlers.push(g),this.options[l]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),jn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(P(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)jn(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,d){var g="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),_=Gt("div",g,d||this._mapPane);return l&&(this._panes[l]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),d=this.unproject(l.getBottomLeft()),g=this.unproject(l.getTopRight());return new X(d,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,d,g){l=J(l),g=G(g||[0,0]);var _=this.getZoom()||0,S=this.getMinZoom(),M=this.getMaxZoom(),$=l.getNorthWest(),Z=l.getSouthEast(),Q=this.getSize().subtract(g),oe=K(this.project(Z,_),this.project($,_)).getSize(),_e=Oe.any3d?this.options.zoomSnap:1,Xe=Q.x/oe.x,Ct=Q.y/oe.y,Bi=d?Math.max(Xe,Ct):Math.min(Xe,Ct);return _=this.getScaleZoom(Bi,_),_e&&(_=Math.round(_/(_e/100))*(_e/100),_=d?Math.ceil(_/_e)*_e:Math.floor(_/_e)*_e),Math.max(S,Math.min(M,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,d){var g=this._getTopLeftPoint(l,d);return new q(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,d){var g=this.options.crs;return d=d===void 0?this._zoom:d,g.scale(l)/g.scale(d)},getScaleZoom:function(l,d){var g=this.options.crs;d=d===void 0?this._zoom:d;var _=g.zoom(l*g.scale(d));return isNaN(_)?1/0:_},project:function(l,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(te(l),d)},unproject:function(l,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(G(l),d)},layerPointToLatLng:function(l){var d=G(l).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(l){var d=this.project(te(l))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(te(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(J(l))},distance:function(l,d){return this.options.crs.distance(te(l),te(d))},containerPointToLayerPoint:function(l){return G(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return G(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var d=this.containerPointToLayerPoint(G(l));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(te(l)))},mouseEventToContainerPoint:function(l){return TU(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var d=this._container=DU(l);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");gt(d,"scroll",this._onScroll,this),this._containerId=s(d)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe.any3d,wt(l,"leaflet-container"+(Oe.touch?" leaflet-touch":"")+(Oe.retina?" leaflet-retina":"")+(Oe.ielt9?" leaflet-oldie":"")+(Oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=K0(l,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),lr(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(wt(l.markerPane,"leaflet-zoom-hide"),wt(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,d,g){lr(this._mapPane,new F(0,0));var _=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var S=this._zoom!==d;this._moveStart(S,g)._move(l,d)._moveEnd(S),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(l,d){return l&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(l,d,g,_){d===void 0&&(d=this._zoom);var S=this._zoom!==d;return this._zoom=d,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),_?g&&g.pinch&&this.fire("zoom",g):((S||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return P(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){lr(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[s(this._container)]=this;var d=l?En:gt;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Oe.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){P(this._resizeRequest),this._resizeRequest=R(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,d){for(var g=[],_,S=d==="mouseout"||d==="mouseover",M=l.target||l.srcElement,$=!1;M;){if(_=this._targets[s(M)],_&&(d==="click"||d==="preclick")&&this._draggableMoved(_)){$=!0;break}if(_&&_.listens(d,!0)&&(S&&!TR(M,l)||(g.push(_),S))||M===this._container)break;M=M.parentNode}return!g.length&&!$&&!S&&this.listens(d,!0)&&(g=[this]),g},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var d=l.target||l.srcElement;if(!(!this._loaded||d._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(d))){var g=l.type;g==="mousedown"&&xR(d),this._fireDOMEvent(l,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,d,g){if(l.type==="click"){var _=n({},l);_.type="preclick",this._fireDOMEvent(_,_.type,g)}var S=this._findEventTargets(l,d);if(g){for(var M=[],$=0;$<g.length;$++)g[$].listens(d,!0)&&M.push(g[$]);S=M.concat(S)}if(S.length){d==="contextmenu"&&ii(l);var Z=S[0],Q={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var oe=Z.getLatLng&&(!Z._radius||Z._radius<=10);Q.containerPoint=oe?this.latLngToContainerPoint(Z.getLatLng()):this.mouseEventToContainerPoint(l),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=oe?Z.getLatLng():this.layerPointToLatLng(Q.layerPoint)}for($=0;$<S.length;$++)if(S[$].fire(d,Q,!0),Q.originalEvent._stopped||S[$].options.bubblingMouseEvents===!1&&w(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,d=this._handlers.length;l<d;l++)this._handlers[l].disable()},whenReady:function(l,d){return this._loaded?l.call(d||this,{target:this}):this.on("load",l,d),this},_getMapPanePos:function(){return Ud(this._mapPane)||new F(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,d){var g=l&&d!==void 0?this._getNewPixelOrigin(l,d):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,d){var g=this.getSize()._divideBy(2);return this.project(l,d)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,d,g){var _=this._getNewPixelOrigin(g,d);return this.project(l,d)._subtract(_)},_latLngBoundsToNewLayerBounds:function(l,d,g){var _=this._getNewPixelOrigin(g,d);return K([this.project(l.getSouthWest(),d)._subtract(_),this.project(l.getNorthWest(),d)._subtract(_),this.project(l.getSouthEast(),d)._subtract(_),this.project(l.getNorthEast(),d)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,d,g){if(!g)return l;var _=this.project(l,d),S=this.getSize().divideBy(2),M=new q(_.subtract(S),_.add(S)),$=this._getBoundsOffset(M,g,d);return Math.abs($.x)<=1&&Math.abs($.y)<=1?l:this.unproject(_.add($),d)},_limitOffset:function(l,d){if(!d)return l;var g=this.getPixelBounds(),_=new q(g.min.add(l),g.max.add(l));return l.add(this._getBoundsOffset(_,d))},_getBoundsOffset:function(l,d,g){var _=K(this.project(d.getNorthEast(),g),this.project(d.getSouthWest(),g)),S=_.min.subtract(l.min),M=_.max.subtract(l.max),$=this._rebound(S.x,-M.x),Z=this._rebound(S.y,-M.y);return new F($,Z)},_rebound:function(l,d){return l+d>0?Math.round(l-d)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(d))},_limitZoom:function(l){var d=this.getMinZoom(),g=this.getMaxZoom(),_=Oe.any3d?this.options.zoomSnap:1;return _&&(l=Math.round(l/_)*_),Math.max(d,Math.min(g,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ir(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,d){var g=this._getCenterOffset(l)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,d),!0)},_createAnimProxy:function(){var l=this._proxy=Gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(d){var g=pR,_=this._proxy.style[g];Vd(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),_===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){jn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),d=this.getZoom();Vd(this._proxy,this.project(l,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,d,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(d),S=this._getCenterOffset(l)._divideBy(1-1/_);return g.animate!==!0&&!this.getSize().contains(S)?!1:(R(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(l,d,!0)},this),!0)},_animateZoom:function(l,d,g,_){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=d,wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:d,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ir(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Aoe(l,d){return new Bt(l,d)}var zs=k.extend({options:{position:"topright"},initialize:function(l){m(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var d=this._map;return d&&d.removeControl(this),this.options.position=l,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var d=this._container=this.onAdd(l),g=this.getPosition(),_=l._controlCorners[g];return wt(d,"leaflet-control"),g.indexOf("bottom")!==-1?_.insertBefore(d,_.firstChild):_.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(jn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),r_=function(l){return new zs(l)};Bt.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},d="leaflet-",g=this._controlContainer=Gt("div",d+"control-container",this._container);function _(S,M){var $=d+S+" "+d+M;l[S+M]=Gt("div",$,g)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)jn(this._controlCorners[l]);jn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var AU=zs.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,d,g,_){return g<_?-1:_<g?1:0}},initialize:function(l,d,g){m(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in l)this._addLayer(l[_],_);for(_ in d)this._addLayer(d[_],_,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return zs.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,d){return this._addLayer(l,d),this._map?this._update():this},addOverlay:function(l,d){return this._addLayer(l,d,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var d=this._getLayer(s(l));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):ir(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ir(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",d=this._container=Gt("div",l),g=this.options.collapsed;d.setAttribute("aria-haspopup",!0),n_(d),ER(d);var _=this._section=Gt("section",l+"-list");g&&(this._map.on("click",this.collapse,this),gt(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=Gt("a",l+"-toggle",d);S.href="#",S.title="Layers",S.setAttribute("role","button"),gt(S,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){ii(M),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=Gt("div",l+"-base",_),this._separator=Gt("div",l+"-separator",_),this._overlaysList=Gt("div",l+"-overlays",_),d.appendChild(_)},_getLayer:function(l){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&s(this._layers[d].layer)===l)return this._layers[d]},_addLayer:function(l,d,g){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:d,overlay:g}),this.options.sortLayers&&this._layers.sort(i(function(_,S){return this.options.sortFunction(_.layer,S.layer,_.name,S.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Jw(this._baseLayersList),Jw(this._overlaysList),this._layerControlInputs=[];var l,d,g,_,S=0;for(g=0;g<this._layers.length;g++)_=this._layers[g],this._addItem(_),d=d||_.overlay,l=l||!_.overlay,S+=_.overlay?0:1;return this.options.hideSingleBase&&(l=l&&S>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=d&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var d=this._getLayer(s(l.target)),g=d.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;g&&this._map.fire(g,d)},_createRadioElement:function(l,d){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(d?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=g,_.firstChild},_addItem:function(l){var d=document.createElement("label"),g=this._map.hasLayer(l.layer),_;l.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=g):_=this._createRadioElement("leaflet-base-layers_"+s(this),g),this._layerControlInputs.push(_),_.layerId=s(l.layer),gt(_,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+l.name;var M=document.createElement("span");d.appendChild(M),M.appendChild(_),M.appendChild(S);var $=l.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,d,g,_=[],S=[];this._handlingClick=!0;for(var M=l.length-1;M>=0;M--)d=l[M],g=this._getLayer(d.layerId).layer,d.checked?_.push(g):d.checked||S.push(g);for(M=0;M<S.length;M++)this._map.hasLayer(S[M])&&this._map.removeLayer(S[M]);for(M=0;M<_.length;M++)this._map.hasLayer(_[M])||this._map.addLayer(_[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,d,g,_=this._map.getZoom(),S=l.length-1;S>=0;S--)d=l[S],g=this._getLayer(d.layerId).layer,d.disabled=g.options.minZoom!==void 0&&_<g.options.minZoom||g.options.maxZoom!==void 0&&_>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,gt(l,"click",ii),this.expand();var d=this;setTimeout(function(){En(l,"click",ii),d._preventClick=!1})}}),Ooe=function(l,d,g){return new AU(l,d,g)},CR=zs.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var d="leaflet-control-zoom",g=Gt("div",d+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,d+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,d+"-out",g,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,d,g,_,S){var M=Gt("a",g,_);return M.innerHTML=l,M.href="#",M.title=d,M.setAttribute("role","button"),M.setAttribute("aria-label",d),n_(M),gt(M,"click",$d),gt(M,"click",S,this),gt(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var l=this._map,d="leaflet-disabled";ir(this._zoomInButton,d),ir(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(wt(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(wt(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});Bt.mergeOptions({zoomControl:!0}),Bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new CR,this.addControl(this.zoomControl))});var Noe=function(l){return new CR(l)},OU=zs.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var d="leaflet-control-scale",g=Gt("div",d),_=this.options;return this._addScales(_,d+"-line",g),l.on(_.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),g},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,d,g){l.metric&&(this._mScale=Gt("div",d,g)),l.imperial&&(this._iScale=Gt("div",d,g))},_update:function(){var l=this._map,d=l.getSize().y/2,g=l.distance(l.containerPointToLatLng([0,d]),l.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(g)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var d=this._getRoundNum(l),g=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,g,d/l)},_updateImperial:function(l){var d=l*3.2808399,g,_,S;d>5280?(g=d/5280,_=this._getRoundNum(g),this._updateScale(this._iScale,_+" mi",_/g)):(S=this._getRoundNum(d),this._updateScale(this._iScale,S+" ft",S/d))},_updateScale:function(l,d,g){l.style.width=Math.round(this.options.maxWidth*g)+"px",l.innerHTML=d},_getRoundNum:function(l){var d=Math.pow(10,(Math.floor(l)+"").length-1),g=l/d;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,d*g}}),Roe=function(l){return new OU(l)},Poe='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',MR=zs.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Oe.inlineSvg?Poe+" ":"")+"Leaflet</a>"},initialize:function(l){m(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=Gt("div","leaflet-control-attribution"),n_(this._container);for(var d in l._layers)l._layers[d].getAttribution&&this.addAttribution(l._layers[d].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var d in this._attributions)this._attributions[d]&&l.push(d);var g=[];this.options.prefix&&g.push(this.options.prefix),l.length&&g.push(l.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});Bt.mergeOptions({attributionControl:!0}),Bt.addInitHook(function(){this.options.attributionControl&&new MR().addTo(this)});var Loe=function(l){return new MR(l)};zs.Layers=AU,zs.Zoom=CR,zs.Scale=OU,zs.Attribution=MR,r_.layers=Ooe,r_.zoom=Noe,r_.scale=Roe,r_.attribution=Loe;var za=k.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});za.addTo=function(l,d){return l.addHandler(d,this),this};var koe={Events:U},NU=Oe.touch?"touchstart mousedown":"mousedown",Ju=C.extend({options:{clickTolerance:3},initialize:function(l,d,g,_){m(this,_),this._element=l,this._dragStartTarget=d||l,this._preventOutline=g},enable:function(){this._enabled||(gt(this._dragStartTarget,NU,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ju._dragging===this&&this.finishDrag(!0),En(this._dragStartTarget,NU,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!mR(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){Ju._dragging===this&&this.finishDrag();return}if(!(Ju._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(Ju._dragging=this,this._preventOutline&&xR(this._element),_R(),J0(),!this._moving)){this.fire("down");var d=l.touches?l.touches[0]:l,g=SU(this._element);this._startPoint=new F(d.clientX,d.clientY),this._startPos=Ud(this._element),this._parentScale=wR(g);var _=l.type==="mousedown";gt(document,_?"mousemove":"touchmove",this._onMove,this),gt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var d=l.touches&&l.touches.length===1?l.touches[0]:l,g=new F(d.clientX,d.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,ii(l),this._moved||(this.fire("dragstart"),this._moved=!0,wt(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),lr(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){ir(document.body,"leaflet-dragging"),this._lastTarget&&(ir(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),En(document,"mousemove touchmove",this._onMove,this),En(document,"mouseup touchend touchcancel",this._onUp,this),vR(),e_();var d=this._moved&&this._moving;this._moving=!1,Ju._dragging=!1,d&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function RU(l,d,g){var _,S=[1,4,2,8],M,$,Z,Q,oe,_e,Xe,Ct;for(M=0,_e=l.length;M<_e;M++)l[M]._code=zd(l[M],d);for(Z=0;Z<4;Z++){for(Xe=S[Z],_=[],M=0,_e=l.length,$=_e-1;M<_e;$=M++)Q=l[M],oe=l[$],Q._code&Xe?oe._code&Xe||(Ct=iD(oe,Q,Xe,d,g),Ct._code=zd(Ct,d),_.push(Ct)):(oe._code&Xe&&(Ct=iD(oe,Q,Xe,d,g),Ct._code=zd(Ct,d),_.push(Ct)),_.push(Q));l=_}return l}function PU(l,d){var g,_,S,M,$,Z,Q,oe,_e;if(!l||l.length===0)throw new Error("latlngs not passed");ls(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Xe=te([0,0]),Ct=J(l),Bi=Ct.getNorthWest().distanceTo(Ct.getSouthWest())*Ct.getNorthEast().distanceTo(Ct.getNorthWest());Bi<1700&&(Xe=AR(l));var Vr=l.length,us=[];for(g=0;g<Vr;g++){var fo=te(l[g]);us.push(d.project(te([fo.lat-Xe.lat,fo.lng-Xe.lng])))}for(Z=Q=oe=0,g=0,_=Vr-1;g<Vr;_=g++)S=us[g],M=us[_],$=S.y*M.x-M.y*S.x,Q+=(S.x+M.x)*$,oe+=(S.y+M.y)*$,Z+=$*3;Z===0?_e=us[0]:_e=[Q/Z,oe/Z];var mm=d.unproject(G(_e));return te([mm.lat+Xe.lat,mm.lng+Xe.lng])}function AR(l){for(var d=0,g=0,_=0,S=0;S<l.length;S++){var M=te(l[S]);d+=M.lat,g+=M.lng,_++}return te([d/_,g/_])}var Foe={__proto__:null,clipPolygon:RU,polygonCenter:PU,centroid:AR};function LU(l,d){if(!d||!l.length)return l.slice();var g=d*d;return l=Uoe(l,g),l=Voe(l,g),l}function kU(l,d,g){return Math.sqrt(i_(l,d,g,!0))}function Boe(l,d,g){return i_(l,d,g)}function Voe(l,d){var g=l.length,_=typeof Uint8Array<"u"?Uint8Array:Array,S=new _(g);S[0]=S[g-1]=1,OR(l,S,d,0,g-1);var M,$=[];for(M=0;M<g;M++)S[M]&&$.push(l[M]);return $}function OR(l,d,g,_,S){var M=0,$,Z,Q;for(Z=_+1;Z<=S-1;Z++)Q=i_(l[Z],l[_],l[S],!0),Q>M&&($=Z,M=Q);M>g&&(d[$]=1,OR(l,d,g,_,$),OR(l,d,g,$,S))}function Uoe(l,d){for(var g=[l[0]],_=1,S=0,M=l.length;_<M;_++)joe(l[_],l[S])>d&&(g.push(l[_]),S=_);return S<M-1&&g.push(l[M-1]),g}var FU;function BU(l,d,g,_,S){var M=_?FU:zd(l,g),$=zd(d,g),Z,Q,oe;for(FU=$;;){if(!(M|$))return[l,d];if(M&$)return!1;Z=M||$,Q=iD(l,d,Z,g,S),oe=zd(Q,g),Z===M?(l=Q,M=oe):(d=Q,$=oe)}}function iD(l,d,g,_,S){var M=d.x-l.x,$=d.y-l.y,Z=_.min,Q=_.max,oe,_e;return g&8?(oe=l.x+M*(Q.y-l.y)/$,_e=Q.y):g&4?(oe=l.x+M*(Z.y-l.y)/$,_e=Z.y):g&2?(oe=Q.x,_e=l.y+$*(Q.x-l.x)/M):g&1&&(oe=Z.x,_e=l.y+$*(Z.x-l.x)/M),new F(oe,_e,S)}function zd(l,d){var g=0;return l.x<d.min.x?g|=1:l.x>d.max.x&&(g|=2),l.y<d.min.y?g|=4:l.y>d.max.y&&(g|=8),g}function joe(l,d){var g=d.x-l.x,_=d.y-l.y;return g*g+_*_}function i_(l,d,g,_){var S=d.x,M=d.y,$=g.x-S,Z=g.y-M,Q=$*$+Z*Z,oe;return Q>0&&(oe=((l.x-S)*$+(l.y-M)*Z)/Q,oe>1?(S=g.x,M=g.y):oe>0&&(S+=$*oe,M+=Z*oe)),$=l.x-S,Z=l.y-M,_?$*$+Z*Z:new F(S,M)}function ls(l){return!x(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function VU(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ls(l)}function UU(l,d){var g,_,S,M,$,Z,Q,oe;if(!l||l.length===0)throw new Error("latlngs not passed");ls(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var _e=te([0,0]),Xe=J(l),Ct=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());Ct<1700&&(_e=AR(l));var Bi=l.length,Vr=[];for(g=0;g<Bi;g++){var us=te(l[g]);Vr.push(d.project(te([us.lat-_e.lat,us.lng-_e.lng])))}for(g=0,_=0;g<Bi-1;g++)_+=Vr[g].distanceTo(Vr[g+1])/2;if(_===0)oe=Vr[0];else for(g=0,M=0;g<Bi-1;g++)if($=Vr[g],Z=Vr[g+1],S=$.distanceTo(Z),M+=S,M>_){Q=(M-_)/S,oe=[Z.x-Q*(Z.x-$.x),Z.y-Q*(Z.y-$.y)];break}var fo=d.unproject(G(oe));return te([fo.lat+_e.lat,fo.lng+_e.lng])}var $oe={__proto__:null,simplify:LU,pointToSegmentDistance:kU,closestPointOnSegment:Boe,clipSegment:BU,_getEdgeIntersection:iD,_getBitCode:zd,_sqClosestPointOnSegment:i_,isFlat:ls,_flat:VU,polylineCenter:UU},NR={project:function(l){return new F(l.lng,l.lat)},unproject:function(l){return new re(l.y,l.x)},bounds:new q([-180,-90],[180,90])},RR={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var d=Math.PI/180,g=this.R,_=l.lat*d,S=this.R_MINOR/g,M=Math.sqrt(1-S*S),$=M*Math.sin(_),Z=Math.tan(Math.PI/4-_/2)/Math.pow((1-$)/(1+$),M/2);return _=-g*Math.log(Math.max(Z,1e-10)),new F(l.lng*d*g,_)},unproject:function(l){for(var d=180/Math.PI,g=this.R,_=this.R_MINOR/g,S=Math.sqrt(1-_*_),M=Math.exp(-l.y/g),$=Math.PI/2-2*Math.atan(M),Z=0,Q=.1,oe;Z<15&&Math.abs(Q)>1e-7;Z++)oe=S*Math.sin($),oe=Math.pow((1-oe)/(1+oe),S/2),Q=Math.PI/2-2*Math.atan(M*oe)-$,$+=Q;return new re($*d,l.x*d/g)}},zoe={__proto__:null,LonLat:NR,Mercator:RR,SphericalMercator:at},Hoe=n({},he,{code:"EPSG:3395",projection:RR,transformation:function(){var l=.5/(Math.PI*RR.R);return ue(l,.5,-l,.5)}()}),jU=n({},he,{code:"EPSG:4326",projection:NR,transformation:ue(1/180,1,-1/180,.5)}),Goe=n({},le,{projection:NR,transformation:ue(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,d){var g=d.lng-l.lng,_=d.lat-l.lat;return Math.sqrt(g*g+_*_)},infinite:!0});le.Earth=he,le.EPSG3395=Hoe,le.EPSG3857=fe,le.EPSG900913=ne,le.EPSG4326=jU,le.Simple=Goe;var Hs=C.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[s(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[s(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var d=l.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var g=this.getEvents();d.on(g,this),this.once("remove",function(){d.off(g,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});Bt.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var d=s(l);return this._layers[d]?this:(this._layers[d]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var d=s(l);return this._layers[d]?(this._loaded&&l.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return s(l)in this._layers},eachLayer:function(l,d){for(var g in this._layers)l.call(d,this._layers[g]);return this},_addLayers:function(l){l=l?x(l)?l:[l]:[];for(var d=0,g=l.length;d<g;d++)this.addLayer(l[d])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[s(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var d=s(l);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,d=-1/0,g=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var S=this._zoomBoundLayers[_].options;l=S.minZoom===void 0?l:Math.min(l,S.minZoom),d=S.maxZoom===void 0?d:Math.max(d,S.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=l===1/0?void 0:l,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var um=Hs.extend({initialize:function(l,d){m(this,d),this._layers={};var g,_;if(l)for(g=0,_=l.length;g<_;g++)this.addLayer(l[g])},addLayer:function(l){var d=this.getLayerId(l);return this._layers[d]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var d=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(l){var d=typeof l=="number"?l:this.getLayerId(l);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var d=Array.prototype.slice.call(arguments,1),g,_;for(g in this._layers)_=this._layers[g],_[l]&&_[l].apply(_,d);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,d){for(var g in this._layers)l.call(d,this._layers[g]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return s(l)}}),qoe=function(l,d){return new um(l,d)},al=um.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),um.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),um.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new X;for(var d in this._layers){var g=this._layers[d];l.extend(g.getBounds?g.getBounds():g.getLatLng())}return l}}),Woe=function(l,d){return new al(l,d)},fm=k.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){m(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,d){var g=this._getIconUrl(l);if(!g){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(g,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(_,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(l,d){var g=this.options,_=g[d+"Size"];typeof _=="number"&&(_=[_,_]);var S=G(_),M=G(d==="shadow"&&g.shadowAnchor||g.iconAnchor||S&&S.divideBy(2,!0));l.className="leaflet-marker-"+d+" "+(g.className||""),M&&(l.style.marginLeft=-M.x+"px",l.style.marginTop=-M.y+"px"),S&&(l.style.width=S.x+"px",l.style.height=S.y+"px")},_createImg:function(l,d){return d=d||document.createElement("img"),d.src=l,d},_getIconUrl:function(l){return Oe.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function Yoe(l){return new fm(l)}var o_=fm.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof o_.imagePath!="string"&&(o_.imagePath=this._detectIconPath()),(this.options.imagePath||o_.imagePath)+fm.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var d=function(g,_,S){var M=_.exec(g);return M&&M[S]};return l=d(l,/^url\((['"])?(.+)\1\)$/,2),l&&d(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=Gt("div","leaflet-default-icon-path",document.body),d=K0(l,"background-image")||K0(l,"backgroundImage");if(document.body.removeChild(l),d=this._stripUrl(d),d)return d;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),$U=za.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new Ju(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),wt(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ir(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var d=this._marker,g=d._map,_=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,M=Ud(d._icon),$=g.getPixelBounds(),Z=g.getPixelOrigin(),Q=K($.min._subtract(Z).add(S),$.max._subtract(Z).subtract(S));if(!Q.contains(M)){var oe=G((Math.max(Q.max.x,M.x)-Q.max.x)/($.max.x-Q.max.x)-(Math.min(Q.min.x,M.x)-Q.min.x)/($.min.x-Q.min.x),(Math.max(Q.max.y,M.y)-Q.max.y)/($.max.y-Q.max.y)-(Math.min(Q.min.y,M.y)-Q.min.y)/($.min.y-Q.min.y)).multiplyBy(_);g.panBy(oe,{animate:!1}),this._draggable._newPos._add(oe),this._draggable._startPos._add(oe),lr(d._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=R(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(P(this._panRequest),this._panRequest=R(this._adjustPan.bind(this,l)))},_onDrag:function(l){var d=this._marker,g=d._shadow,_=Ud(d._icon),S=d._map.layerPointToLatLng(_);g&&lr(g,_),d._latlng=S,l.latlng=S,l.oldLatLng=this._oldLatLng,d.fire("move",l).fire("drag",l)},_onDragEnd:function(l){P(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),oD=Hs.extend({options:{icon:new o_,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,d){m(this,d),this._latlng=te(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var d=this._latlng;return this._latlng=te(l),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=l.icon.createIcon(this._icon),_=!1;g!==this._icon&&(this._icon&&this._removeIcon(),_=!0,l.title&&(g.title=l.title),g.tagName==="IMG"&&(g.alt=l.alt||"")),wt(g,d),l.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&gt(g,"focus",this._panOnFocus,this);var S=l.icon.createShadow(this._shadow),M=!1;S!==this._shadow&&(this._removeShadow(),M=!0),S&&(wt(S,d),S.alt=""),this._shadow=S,l.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&M&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&En(this._icon,"focus",this._panOnFocus,this),jn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&jn(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&lr(this._icon,l),this._shadow&&lr(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var d=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),$U)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new $U(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&cs(this._icon,l),this._shadow&&cs(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var d=this.options.icon.options,g=d.iconSize?G(d.iconSize):G(0,0),_=d.iconAnchor?G(d.iconAnchor):G(0,0);l.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:g.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Zoe(l,d){return new oD(l,d)}var ef=Hs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return m(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),sD=ef.extend({options:{fill:!0,radius:10},initialize:function(l,d){m(this,d),this._latlng=te(l),this._radius=this.options.radius},setLatLng:function(l){var d=this._latlng;return this._latlng=te(l),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var d=l&&l.radius||this._radius;return ef.prototype.setStyle.call(this,l),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,d=this._radiusY||l,g=this._clickTolerance(),_=[l+g,d+g];this._pxBounds=new q(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Xoe(l,d){return new sD(l,d)}var PR=sD.extend({initialize:function(l,d,g){if(typeof d=="number"&&(d=n({},g,{radius:d})),m(this,d),this._latlng=te(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new X(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:ef.prototype.setStyle,_project:function(){var l=this._latlng.lng,d=this._latlng.lat,g=this._map,_=g.options.crs;if(_.distance===he.distance){var S=Math.PI/180,M=this._mRadius/he.R/S,$=g.project([d+M,l]),Z=g.project([d-M,l]),Q=$.add(Z).divideBy(2),oe=g.unproject(Q).lat,_e=Math.acos((Math.cos(M*S)-Math.sin(d*S)*Math.sin(oe*S))/(Math.cos(d*S)*Math.cos(oe*S)))/S;(isNaN(_e)||_e===0)&&(_e=M/Math.cos(Math.PI/180*d)),this._point=Q.subtract(g.getPixelOrigin()),this._radius=isNaN(_e)?0:Q.x-g.project([oe,l-_e]).x,this._radiusY=Q.y-$.y}else{var Xe=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Xe).x}this._updateBounds()}});function Qoe(l,d,g){return new PR(l,d,g)}var cl=ef.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,d){m(this,d),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var d=1/0,g=null,_=i_,S,M,$=0,Z=this._parts.length;$<Z;$++)for(var Q=this._parts[$],oe=1,_e=Q.length;oe<_e;oe++){S=Q[oe-1],M=Q[oe];var Xe=_(l,S,M,!0);Xe<d&&(d=Xe,g=_(l,S,M))}return g&&(g.distance=Math.sqrt(d)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return UU(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,d){return d=d||this._defaultShape(),l=te(l),d.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new X,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return ls(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var d=[],g=ls(l),_=0,S=l.length;_<S;_++)g?(d[_]=te(l[_]),this._bounds.extend(d[_])):d[_]=this._convertLatLngs(l[_]);return d},_project:function(){var l=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),d=new F(l,l);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(l,d,g){var _=l[0]instanceof re,S=l.length,M,$;if(_){for($=[],M=0;M<S;M++)$[M]=this._map.latLngToLayerPoint(l[M]),g.extend($[M]);d.push($)}else for(M=0;M<S;M++)this._projectLatlngs(l[M],d,g)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,g,_,S,M,$,Z,Q;for(g=0,S=0,M=this._rings.length;g<M;g++)for(Q=this._rings[g],_=0,$=Q.length;_<$-1;_++)Z=BU(Q[_],Q[_+1],l,_,!0),Z&&(d[S]=d[S]||[],d[S].push(Z[0]),(Z[1]!==Q[_+1]||_===$-2)&&(d[S].push(Z[1]),S++))}},_simplifyPoints:function(){for(var l=this._parts,d=this.options.smoothFactor,g=0,_=l.length;g<_;g++)l[g]=LU(l[g],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,d){var g,_,S,M,$,Z,Q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(g=0,M=this._parts.length;g<M;g++)for(Z=this._parts[g],_=0,$=Z.length,S=$-1;_<$;S=_++)if(!(!d&&_===0)&&kU(l,Z[S],Z[_])<=Q)return!0;return!1}});function Koe(l,d){return new cl(l,d)}cl._flat=VU;var dm=cl.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return PU(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var d=cl.prototype._convertLatLngs.call(this,l),g=d.length;return g>=2&&d[0]instanceof re&&d[0].equals(d[g-1])&&d.pop(),d},_setLatLngs:function(l){cl.prototype._setLatLngs.call(this,l),ls(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ls(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,d=this.options.weight,g=new F(d,d);if(l=new q(l.min.subtract(g),l.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,S=this._rings.length,M;_<S;_++)M=RU(this._rings[_],l,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var d=!1,g,_,S,M,$,Z,Q,oe;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(M=0,Q=this._parts.length;M<Q;M++)for(g=this._parts[M],$=0,oe=g.length,Z=oe-1;$<oe;Z=$++)_=g[$],S=g[Z],_.y>l.y!=S.y>l.y&&l.x<(S.x-_.x)*(l.y-_.y)/(S.y-_.y)+_.x&&(d=!d);return d||cl.prototype._containsPoint.call(this,l,!0)}});function Joe(l,d){return new dm(l,d)}var ll=al.extend({initialize:function(l,d){m(this,d),this._layers={},l&&this.addData(l)},addData:function(l){var d=x(l)?l:l.features,g,_,S;if(d){for(g=0,_=d.length;g<_;g++)S=d[g],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var M=this.options;if(M.filter&&!M.filter(l))return this;var $=aD(l,M);return $?($.feature=uD(l),$.defaultOptions=$.options,this.resetStyle($),M.onEachFeature&&M.onEachFeature(l,$),this.addLayer($)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=n({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(d){this._setLayerStyle(d,l)},this)},_setLayerStyle:function(l,d){l.setStyle&&(typeof d=="function"&&(d=d(l.feature)),l.setStyle(d))}});function aD(l,d){var g=l.type==="Feature"?l.geometry:l,_=g?g.coordinates:null,S=[],M=d&&d.pointToLayer,$=d&&d.coordsToLatLng||LR,Z,Q,oe,_e;if(!_&&!g)return null;switch(g.type){case"Point":return Z=$(_),zU(M,l,Z,d);case"MultiPoint":for(oe=0,_e=_.length;oe<_e;oe++)Z=$(_[oe]),S.push(zU(M,l,Z,d));return new al(S);case"LineString":case"MultiLineString":return Q=cD(_,g.type==="LineString"?0:1,$),new cl(Q,d);case"Polygon":case"MultiPolygon":return Q=cD(_,g.type==="Polygon"?1:2,$),new dm(Q,d);case"GeometryCollection":for(oe=0,_e=g.geometries.length;oe<_e;oe++){var Xe=aD({geometry:g.geometries[oe],type:"Feature",properties:l.properties},d);Xe&&S.push(Xe)}return new al(S);case"FeatureCollection":for(oe=0,_e=g.features.length;oe<_e;oe++){var Ct=aD(g.features[oe],d);Ct&&S.push(Ct)}return new al(S);default:throw new Error("Invalid GeoJSON object.")}}function zU(l,d,g,_){return l?l(d,g):new oD(g,_&&_.markersInheritOptions&&_)}function LR(l){return new re(l[1],l[0],l[2])}function cD(l,d,g){for(var _=[],S=0,M=l.length,$;S<M;S++)$=d?cD(l[S],d-1,g):(g||LR)(l[S]),_.push($);return _}function kR(l,d){return l=te(l),l.alt!==void 0?[f(l.lng,d),f(l.lat,d),f(l.alt,d)]:[f(l.lng,d),f(l.lat,d)]}function lD(l,d,g,_){for(var S=[],M=0,$=l.length;M<$;M++)S.push(d?lD(l[M],ls(l[M])?0:d-1,g,_):kR(l[M],_));return!d&&g&&S.length>0&&S.push(S[0].slice()),S}function hm(l,d){return l.feature?n({},l.feature,{geometry:d}):uD(d)}function uD(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var FR={toGeoJSON:function(l){return hm(this,{type:"Point",coordinates:kR(this.getLatLng(),l)})}};oD.include(FR),PR.include(FR),sD.include(FR),cl.include({toGeoJSON:function(l){var d=!ls(this._latlngs),g=lD(this._latlngs,d?1:0,!1,l);return hm(this,{type:(d?"Multi":"")+"LineString",coordinates:g})}}),dm.include({toGeoJSON:function(l){var d=!ls(this._latlngs),g=d&&!ls(this._latlngs[0]),_=lD(this._latlngs,g?2:d?1:0,!0,l);return d||(_=[_]),hm(this,{type:(g?"Multi":"")+"Polygon",coordinates:_})}}),um.include({toMultiPoint:function(l){var d=[];return this.eachLayer(function(g){d.push(g.toGeoJSON(l).geometry.coordinates)}),hm(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(l){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(l);var g=d==="GeometryCollection",_=[];return this.eachLayer(function(S){if(S.toGeoJSON){var M=S.toGeoJSON(l);if(g)_.push(M.geometry);else{var $=uD(M);$.type==="FeatureCollection"?_.push.apply(_,$.features):_.push($)}}}),g?hm(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function HU(l,d){return new ll(l,d)}var ese=HU,fD=Hs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,d,g){this._url=l,this._bounds=J(d),m(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){jn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&cm(this._image),this},bringToBack:function(){return this._map&&lm(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=J(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",d=this._image=l?this._url:Gt("img");if(wt(d,"leaflet-image-layer"),this._zoomAnimated&&wt(d,"leaflet-zoom-animated"),this.options.className&&wt(d,this.options.className),d.onselectstart=u,d.onmousemove=u,d.onload=i(this.fire,this,"load"),d.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(l){var d=this._map.getZoomScale(l.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Vd(this._image,g,d)},_reset:function(){var l=this._image,d=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=d.getSize();lr(l,d.min),l.style.width=g.x+"px",l.style.height=g.y+"px"},_updateOpacity:function(){cs(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),tse=function(l,d,g){return new fD(l,d,g)},GU=fD.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",d=this._image=l?this._url:Gt("video");if(wt(d,"leaflet-image-layer"),this._zoomAnimated&&wt(d,"leaflet-zoom-animated"),this.options.className&&wt(d,this.options.className),d.onselectstart=u,d.onmousemove=u,d.onloadeddata=i(this.fire,this,"load"),l){for(var g=d.getElementsByTagName("source"),_=[],S=0;S<g.length;S++)_.push(g[S].src);this._url=g.length>0?_:[d.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var $=Gt("source");$.src=this._url[M],d.appendChild($)}}});function nse(l,d,g){return new GU(l,d,g)}var qU=fD.extend({_initImage:function(){var l=this._image=this._url;wt(l,"leaflet-image-layer"),this._zoomAnimated&&wt(l,"leaflet-zoom-animated"),this.options.className&&wt(l,this.options.className),l.onselectstart=u,l.onmousemove=u}});function rse(l,d,g){return new qU(l,d,g)}var Ha=Hs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,d){l&&(l instanceof re||x(l))?(this._latlng=te(l),m(this,d)):(m(this,l),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&cs(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&cs(this._container,1),this.bringToFront(),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(cs(this._container,0),this._removeTimeout=setTimeout(i(jn,void 0,this._container),200)):jn(this._container),this.options.interactive&&(ir(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=te(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&cm(this._container),this},bringToBack:function(){return this._map&&lm(this._container),this},_prepareOpen:function(l){var d=this._source;if(!d._map)return!1;if(d instanceof al){d=null;var g=this._source._layers;for(var _ in g)if(g[_]._map){d=g[_];break}if(!d)return!1;this._source=d}if(!l)if(d.getCenter)l=d.getCenter();else if(d.getLatLng)l=d.getLatLng();else if(d.getBounds)l=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")l.innerHTML=d;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),d=G(this.options.offset),g=this._getAnchor();this._zoomAnimated?lr(this._container,l.add(g)):d=d.add(l).add(g);var _=this._containerBottom=-d.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=_+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Bt.include({_initOverlay:function(l,d,g,_){var S=d;return S instanceof l||(S=new l(_).setContent(d)),g&&S.setLatLng(g),S}}),Hs.include({_initOverlay:function(l,d,g,_){var S=g;return S instanceof l?(m(S,_),S._source=this):(S=d&&!_?d:new l(_,this),S.setContent(g)),S}});var dD=Ha.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Ha.prototype.openOn.call(this,l)},onAdd:function(l){Ha.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ef||this._source.on("preclick",jd))},onRemove:function(l){Ha.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ef||this._source.off("preclick",jd))},getEvents:function(){var l=Ha.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",d=this._container=Gt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=Gt("div",l+"-content-wrapper",d);if(this._contentNode=Gt("div",l+"-content",g),n_(d),ER(this._contentNode),gt(d,"contextmenu",jd),this._tipContainer=Gt("div",l+"-tip-container",d),this._tip=Gt("div",l+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Gt("a",l+"-close-button",d);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',gt(_,"click",function(S){ii(S),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,d=l.style;d.width="",d.whiteSpace="nowrap";var g=l.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),d.width=g+1+"px",d.whiteSpace="",d.height="";var _=l.offsetHeight,S=this.options.maxHeight,M="leaflet-popup-scrolled";S&&_>S?(d.height=S+"px",wt(l,M)):ir(l,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var d=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),g=this._getAnchor();lr(this._container,d.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,d=parseInt(K0(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+d,_=this._containerWidth,S=new F(this._containerLeft,-g-this._containerBottom);S._add(Ud(this._container));var M=l.layerPointToContainerPoint(S),$=G(this.options.autoPanPadding),Z=G(this.options.autoPanPaddingTopLeft||$),Q=G(this.options.autoPanPaddingBottomRight||$),oe=l.getSize(),_e=0,Xe=0;M.x+_+Q.x>oe.x&&(_e=M.x+_-oe.x+Q.x),M.x-_e-Z.x<0&&(_e=M.x-Z.x),M.y+g+Q.y>oe.y&&(Xe=M.y+g-oe.y+Q.y),M.y-Xe-Z.y<0&&(Xe=M.y-Z.y),(_e||Xe)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([_e,Xe]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ise=function(l,d){return new dD(l,d)};Bt.mergeOptions({closePopupOnClick:!0}),Bt.include({openPopup:function(l,d,g){return this._initOverlay(dD,l,d,g).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),Hs.include({bindPopup:function(l,d){return this._popup=this._initOverlay(dD,this._popup,l,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof al||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){$d(l);var d=l.layer||l.target;if(this._popup._source===d&&!(d instanceof ef)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=d,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var hD=Ha.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Ha.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Ha.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Ha.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",d=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Gt("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var d,g,_=this._map,S=this._container,M=_.latLngToContainerPoint(_.getCenter()),$=_.layerPointToContainerPoint(l),Z=this.options.direction,Q=S.offsetWidth,oe=S.offsetHeight,_e=G(this.options.offset),Xe=this._getAnchor();Z==="top"?(d=Q/2,g=oe):Z==="bottom"?(d=Q/2,g=0):Z==="center"?(d=Q/2,g=oe/2):Z==="right"?(d=0,g=oe/2):Z==="left"?(d=Q,g=oe/2):$.x<M.x?(Z="right",d=0,g=oe/2):(Z="left",d=Q+(_e.x+Xe.x)*2,g=oe/2),l=l.subtract(G(d,g,!0)).add(_e).add(Xe),ir(S,"leaflet-tooltip-right"),ir(S,"leaflet-tooltip-left"),ir(S,"leaflet-tooltip-top"),ir(S,"leaflet-tooltip-bottom"),wt(S,"leaflet-tooltip-"+Z),lr(S,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&cs(this._container,l)},_animateZoom:function(l){var d=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(d)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ose=function(l,d){return new hD(l,d)};Bt.include({openTooltip:function(l,d,g){return this._initOverlay(hD,l,d,g).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),Hs.include({bindTooltip:function(l,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(hD,this._tooltip,l,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var d=l?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[d](g),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof al||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var d=typeof l.getElement=="function"&&l.getElement();d&&(gt(d,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),gt(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var d=typeof l.getElement=="function"&&l.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var d=l.latlng,g,_;this._tooltip.options.sticky&&l.originalEvent&&(g=this._map.mouseEventToContainerPoint(l.originalEvent),_=this._map.containerPointToLayerPoint(g),d=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(d)}});var WU=fm.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var d=l&&l.tagName==="DIV"?l:document.createElement("div"),g=this.options;if(g.html instanceof Element?(Jw(d),d.appendChild(g.html)):d.innerHTML=g.html!==!1?g.html:"",g.bgPos){var _=G(g.bgPos);d.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function sse(l){return new WU(l)}fm.Default=o_;var s_=Hs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){m(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),jn(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(cm(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(lm(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof F?l:new F(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var d=this.getPane().children,g=-l(-1/0,1/0),_=0,S=d.length,M;_<S;_++)M=d[_].style.zIndex,d[_]!==this._container&&M&&(g=l(g,+M));isFinite(g)&&(this.options.zIndex=g+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe.ielt9){cs(this._container,this.options.opacity);var l=+new Date,d=!1,g=!1;for(var _ in this._tiles){var S=this._tiles[_];if(!(!S.current||!S.loaded)){var M=Math.min(1,(l-S.loaded)/200);cs(S.el,M),M<1?d=!0:(S.active?g=!0:this._onOpaqueTile(S),S.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),d&&(P(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=Gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,d=this.options.maxZoom;if(l!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===l?(this._levels[g].el.style.zIndex=d-Math.abs(l-g),this._onUpdateLevel(g)):(jn(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var _=this._levels[l],S=this._map;return _||(_=this._levels[l]={},_.el=Gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=d,_.origin=S.project(S.unproject(S.getPixelOrigin()),l).round(),_.zoom=l,this._setZoomTransform(_,S.getCenter(),S.getZoom()),u(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var l,d,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)d=this._tiles[l],d.retain=d.current;for(l in this._tiles)if(d=this._tiles[l],d.current&&!d.active){var _=d.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var d in this._tiles)this._tiles[d].coords.z===l&&this._removeTile(d)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)jn(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,d,g,_){var S=Math.floor(l/2),M=Math.floor(d/2),$=g-1,Z=new F(+S,+M);Z.z=+$;var Q=this._tileCoordsToKey(Z),oe=this._tiles[Q];return oe&&oe.active?(oe.retain=!0,!0):(oe&&oe.loaded&&(oe.retain=!0),$>_?this._retainParent(S,M,$,_):!1)},_retainChildren:function(l,d,g,_){for(var S=2*l;S<2*l+2;S++)for(var M=2*d;M<2*d+2;M++){var $=new F(S,M);$.z=g+1;var Z=this._tileCoordsToKey($),Q=this._tiles[Z];if(Q&&Q.active){Q.retain=!0;continue}else Q&&Q.loaded&&(Q.retain=!0);g+1<_&&this._retainChildren(S,M,g+1,_)}},_resetView:function(l){var d=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var d=this.options;return d.minNativeZoom!==void 0&&l<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<l?d.maxNativeZoom:l},_setView:function(l,d,g,_){var S=Math.round(d);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var M=this.options.updateWhenZooming&&S!==this._tileZoom;(!_||M)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(l),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(l,d)},_setZoomTransforms:function(l,d){for(var g in this._levels)this._setZoomTransform(this._levels[g],l,d)},_setZoomTransform:function(l,d,g){var _=this._map.getZoomScale(g,l.zoom),S=l.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(d,g)).round();Oe.any3d?Vd(l.el,S,_):lr(l.el,S)},_resetGrid:function(){var l=this._map,d=l.options.crs,g=this._tileSize=this.getTileSize(),_=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,d.wrapLng[0]],_).x/g.x),Math.ceil(l.project([0,d.wrapLng[1]],_).x/g.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([d.wrapLat[0],0],_).y/g.x),Math.ceil(l.project([d.wrapLat[1],0],_).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var d=this._map,g=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),_=d.getZoomScale(g,this._tileZoom),S=d.project(l,this._tileZoom).floor(),M=d.getSize().divideBy(_*2);return new q(S.subtract(M),S.add(M))},_update:function(l){var d=this._map;if(d){var g=this._clampZoom(d.getZoom());if(l===void 0&&(l=d.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(l),S=this._pxBoundsToTileRange(_),M=S.getCenter(),$=[],Z=this.options.keepBuffer,Q=new q(S.getBottomLeft().subtract([Z,-Z]),S.getTopRight().add([Z,-Z]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var oe in this._tiles){var _e=this._tiles[oe].coords;(_e.z!==this._tileZoom||!Q.contains(new F(_e.x,_e.y)))&&(this._tiles[oe].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(l,g);return}for(var Xe=S.min.y;Xe<=S.max.y;Xe++)for(var Ct=S.min.x;Ct<=S.max.x;Ct++){var Bi=new F(Ct,Xe);if(Bi.z=this._tileZoom,!!this._isValidTile(Bi)){var Vr=this._tiles[this._tileCoordsToKey(Bi)];Vr?Vr.current=!0:$.push(Bi)}}if($.sort(function(fo,mm){return fo.distanceTo(M)-mm.distanceTo(M)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var us=document.createDocumentFragment();for(Ct=0;Ct<$.length;Ct++)this._addTile($[Ct],us);this._level.el.appendChild(us)}}}},_isValidTile:function(l){var d=this._map.options.crs;if(!d.infinite){var g=this._globalTileRange;if(!d.wrapLng&&(l.x<g.min.x||l.x>g.max.x)||!d.wrapLat&&(l.y<g.min.y||l.y>g.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(l);return J(this.options.bounds).overlaps(_)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var d=this._map,g=this.getTileSize(),_=l.scaleBy(g),S=_.add(g),M=d.unproject(_,l.z),$=d.unproject(S,l.z);return[M,$]},_tileCoordsToBounds:function(l){var d=this._tileCoordsToNwSe(l),g=new X(d[0],d[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var d=l.split(":"),g=new F(+d[0],+d[1]);return g.z=+d[2],g},_removeTile:function(l){var d=this._tiles[l];d&&(jn(d.el),delete this._tiles[l],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){wt(l,"leaflet-tile");var d=this.getTileSize();l.style.width=d.x+"px",l.style.height=d.y+"px",l.onselectstart=u,l.onmousemove=u,Oe.ielt9&&this.options.opacity<1&&cs(l,this.options.opacity)},_addTile:function(l,d){var g=this._getTilePos(l),_=this._tileCoordsToKey(l),S=this.createTile(this._wrapCoords(l),i(this._tileReady,this,l));this._initTile(S),this.createTile.length<2&&R(i(this._tileReady,this,l,null,S)),lr(S,g),this._tiles[_]={el:S,coords:l,current:!0},d.appendChild(S),this.fire("tileloadstart",{tile:S,coords:l})},_tileReady:function(l,d,g){d&&this.fire("tileerror",{error:d,tile:g,coords:l});var _=this._tileCoordsToKey(l);g=this._tiles[_],g&&(g.loaded=+new Date,this._map._fadeAnimated?(cs(g.el,0),P(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),d||(wt(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe.ielt9||!this._map._fadeAnimated?R(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var d=new F(this._wrapX?c(l.x,this._wrapX):l.x,this._wrapY?c(l.y,this._wrapY):l.y);return d.z=l.z,d},_pxBoundsToTileRange:function(l){var d=this.getTileSize();return new q(l.min.unscaleBy(d).floor(),l.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function ase(l){return new s_(l)}var pm=s_.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,d){this._url=l,d=m(this,d),d.detectRetina&&Oe.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,d){return this._url===l&&d===void 0&&(d=!0),this._url=l,d||this.redraw(),this},createTile:function(l,d){var g=document.createElement("img");return gt(g,"load",i(this._tileOnLoad,this,d,g)),gt(g,"error",i(this._tileOnError,this,d,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(l),g},getTileUrl:function(l){var d={r:Oe.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-l.y;this.options.tms&&(d.y=g),d["-y"]=g}return b(this._url,n(d,this.options))},_tileOnLoad:function(l,d){Oe.ielt9?setTimeout(i(l,this,null,d),0):l(null,d)},_tileOnError:function(l,d,g){var _=this.options.errorTileUrl;_&&d.getAttribute("src")!==_&&(d.src=_),l(g,d)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,d=this.options.maxZoom,g=this.options.zoomReverse,_=this.options.zoomOffset;return g&&(l=d-l),l+_},_getSubdomain:function(l){var d=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var l,d;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(d=this._tiles[l].el,d.onload=u,d.onerror=u,!d.complete)){d.src=D;var g=this._tiles[l].coords;jn(d),delete this._tiles[l],this.fire("tileabort",{tile:d,coords:g})}},_removeTile:function(l){var d=this._tiles[l];if(d)return d.el.setAttribute("src",D),s_.prototype._removeTile.call(this,l)},_tileReady:function(l,d,g){if(!(!this._map||g&&g.getAttribute("src")===D))return s_.prototype._tileReady.call(this,l,d,g)}});function YU(l,d){return new pm(l,d)}var ZU=pm.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,d){this._url=l;var g=n({},this.defaultWmsParams);for(var _ in d)_ in this.options||(g[_]=d[_]);d=m(this,d);var S=d.detectRetina&&Oe.retina?2:1,M=this.getTileSize();g.width=M.x*S,g.height=M.y*S,this.wmsParams=g},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,pm.prototype.onAdd.call(this,l)},getTileUrl:function(l){var d=this._tileCoordsToNwSe(l),g=this._crs,_=K(g.project(d[0]),g.project(d[1])),S=_.min,M=_.max,$=(this._wmsVersion>=1.3&&this._crs===jU?[S.y,S.x,M.y,M.x]:[S.x,S.y,M.x,M.y]).join(","),Z=pm.prototype.getTileUrl.call(this,l);return Z+y(this.wmsParams,Z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(l,d){return n(this.wmsParams,l),d||this.redraw(),this}});function cse(l,d){return new ZU(l,d)}pm.WMS=ZU,YU.wms=cse;var ul=Hs.extend({options:{padding:.1},initialize:function(l){m(this,l),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,d){var g=this._map.getZoomScale(d,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,d),M=_.multiplyBy(-g).add(S).subtract(this._map._getNewPixelOrigin(l,d));Oe.any3d?Vd(this._container,M,g):lr(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,d=this._map.getSize(),g=this._map.containerPointToLayerPoint(d.multiplyBy(-l)).round();this._bounds=new q(g,g.add(d.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),XU=ul.extend({options:{tolerance:0},getEvents:function(){var l=ul.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ul.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");gt(l,"mousemove",this._onMouseMove,this),gt(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),gt(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){P(this._redrawRequest),delete this._ctx,jn(this._container),En(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var d in this._layers)l=this._layers[d],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ul.prototype._update.call(this);var l=this._bounds,d=this._container,g=l.getSize(),_=Oe.retina?2:1;lr(d,l.min),d.width=_*g.x,d.height=_*g.y,d.style.width=g.x+"px",d.style.height=g.y+"px",Oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){ul.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[s(l)]=l;var d=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var d=l._order,g=d.next,_=d.prev;g?g.prev=_:this._drawLast=_,_?_.next=g:this._drawFirst=g,delete l._order,delete this._layers[s(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var d=l.options.dashArray.split(/[, ]+/),g=[],_,S;for(S=0;S<d.length;S++){if(_=Number(d[S]),isNaN(_))return;g.push(_)}l.options._dashArray=g}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||R(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var d=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(l._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(l._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var d=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,d=this._redrawBounds;if(this._ctx.save(),d){var g=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)l=_.layer,(!d||l._pxBounds&&l._pxBounds.intersects(d))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,d){if(this._drawing){var g,_,S,M,$=l._parts,Z=$.length,Q=this._ctx;if(Z){for(Q.beginPath(),g=0;g<Z;g++){for(_=0,S=$[g].length;_<S;_++)M=$[g][_],Q[_?"lineTo":"moveTo"](M.x,M.y);d&&Q.closePath()}this._fillStroke(Q,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var d=l._point,g=this._ctx,_=Math.max(Math.round(l._radius),1),S=(Math.max(Math.round(l._radiusY),1)||_)/_;S!==1&&(g.save(),g.scale(1,S)),g.beginPath(),g.arc(d.x,d.y/S,_,0,Math.PI*2,!1),S!==1&&g.restore(),this._fillStroke(g,l)}},_fillStroke:function(l,d){var g=d.options;g.fill&&(l.globalAlpha=g.fillOpacity,l.fillStyle=g.fillColor||g.color,l.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(l.setLineDash&&l.setLineDash(d.options&&d.options._dashArray||[]),l.globalAlpha=g.opacity,l.lineWidth=g.weight,l.strokeStyle=g.color,l.lineCap=g.lineCap,l.lineJoin=g.lineJoin,l.stroke())},_onClick:function(l){for(var d=this._map.mouseEventToLayerPoint(l),g,_,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(d)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(g))&&(_=g);this._fireEvent(_?[_]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,d)}},_handleMouseOut:function(l){var d=this._hoveredLayer;d&&(ir(this._container,"leaflet-interactive"),this._fireEvent([d],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,d){if(!this._mouseHoverThrottled){for(var g,_,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(d)&&(_=g);_!==this._hoveredLayer&&(this._handleMouseOut(l),_&&(wt(this._container,"leaflet-interactive"),this._fireEvent([_],l,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,d,g){this._map._fireDOMEvent(d,g||d.type,l)},_bringToFront:function(l){var d=l._order;if(d){var g=d.next,_=d.prev;if(g)g.prev=_;else return;_?_.next=g:g&&(this._drawFirst=g),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(l)}},_bringToBack:function(l){var d=l._order;if(d){var g=d.next,_=d.prev;if(_)_.next=g;else return;g?g.prev=_:_&&(this._drawLast=_),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(l)}}});function QU(l){return Oe.canvas?new XU(l):null}var a_=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),lse={_initContainer:function(){this._container=Gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ul.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var d=l._container=a_("shape");wt(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",l._path=a_("path"),d.appendChild(l._path),this._updateStyle(l),this._layers[s(l)]=l},_addPath:function(l){var d=l._container;this._container.appendChild(d),l.options.interactive&&l.addInteractiveTarget(d)},_removePath:function(l){var d=l._container;jn(d),l.removeInteractiveTarget(d),delete this._layers[s(l)]},_updateStyle:function(l){var d=l._stroke,g=l._fill,_=l.options,S=l._container;S.stroked=!!_.stroke,S.filled=!!_.fill,_.stroke?(d||(d=l._stroke=a_("stroke")),S.appendChild(d),d.weight=_.weight+"px",d.color=_.color,d.opacity=_.opacity,_.dashArray?d.dashStyle=x(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=_.lineCap.replace("butt","flat"),d.joinstyle=_.lineJoin):d&&(S.removeChild(d),l._stroke=null),_.fill?(g||(g=l._fill=a_("fill")),S.appendChild(g),g.color=_.fillColor||_.color,g.opacity=_.fillOpacity):g&&(S.removeChild(g),l._fill=null)},_updateCircle:function(l){var d=l._point.round(),g=Math.round(l._radius),_=Math.round(l._radiusY||g);this._setPath(l,l._empty()?"M0 0":"AL "+d.x+","+d.y+" "+g+","+_+" 0,"+65535*360)},_setPath:function(l,d){l._path.v=d},_bringToFront:function(l){cm(l._container)},_bringToBack:function(l){lm(l._container)}},pD=Oe.vml?a_:Je,c_=ul.extend({_initContainer:function(){this._container=pD("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=pD("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){jn(this._container),En(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ul.prototype._update.call(this);var l=this._bounds,d=l.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,g.setAttribute("width",d.x),g.setAttribute("height",d.y)),lr(g,l.min),g.setAttribute("viewBox",[l.min.x,l.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(l){var d=l._path=pD("path");l.options.className&&wt(d,l.options.className),l.options.interactive&&wt(d,"leaflet-interactive"),this._updateStyle(l),this._layers[s(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){jn(l._path),l.removeInteractiveTarget(l._path),delete this._layers[s(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var d=l._path,g=l.options;d&&(g.stroke?(d.setAttribute("stroke",g.color),d.setAttribute("stroke-opacity",g.opacity),d.setAttribute("stroke-width",g.weight),d.setAttribute("stroke-linecap",g.lineCap),d.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?d.setAttribute("stroke-dasharray",g.dashArray):d.removeAttribute("stroke-dasharray"),g.dashOffset?d.setAttribute("stroke-dashoffset",g.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),g.fill?(d.setAttribute("fill",g.fillColor||g.color),d.setAttribute("fill-opacity",g.fillOpacity),d.setAttribute("fill-rule",g.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(l,d){this._setPath(l,De(l._parts,d))},_updateCircle:function(l){var d=l._point,g=Math.max(Math.round(l._radius),1),_=Math.max(Math.round(l._radiusY),1)||g,S="a"+g+","+_+" 0 1,0 ",M=l._empty()?"M0 0":"M"+(d.x-g)+","+d.y+S+g*2+",0 "+S+-g*2+",0 ";this._setPath(l,M)},_setPath:function(l,d){l._path.setAttribute("d",d)},_bringToFront:function(l){cm(l._path)},_bringToBack:function(l){lm(l._path)}});Oe.vml&&c_.include(lse);function KU(l){return Oe.svg||Oe.vml?new c_(l):null}Bt.include({getRenderer:function(l){var d=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var d=this._paneRenderers[l];return d===void 0&&(d=this._createRenderer({pane:l}),this._paneRenderers[l]=d),d},_createRenderer:function(l){return this.options.preferCanvas&&QU(l)||KU(l)}});var JU=dm.extend({initialize:function(l,d){dm.prototype.initialize.call(this,this._boundsToLatLngs(l),d)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=J(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function use(l,d){return new JU(l,d)}c_.create=pD,c_.pointsToPath=De,ll.geometryToLayer=aD,ll.coordsToLatLng=LR,ll.coordsToLatLngs=cD,ll.latLngToCoords=kR,ll.latLngsToCoords=lD,ll.getFeature=hm,ll.asFeature=uD,Bt.mergeOptions({boxZoom:!0});var ej=za.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){gt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){En(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){jn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),J0(),_R(),this._startPoint=this._map.mouseEventToContainerPoint(l),gt(document,{contextmenu:$d,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=Gt("div","leaflet-zoom-box",this._container),wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var d=new q(this._point,this._startPoint),g=d.getSize();lr(this._box,d.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(jn(this._box),ir(this._container,"leaflet-crosshair")),e_(),vR(),En(document,{contextmenu:$d,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var d=new X(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Bt.addInitHook("addHandler","boxZoom",ej),Bt.mergeOptions({doubleClickZoom:!0});var tj=za.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var d=this._map,g=d.getZoom(),_=d.options.zoomDelta,S=l.originalEvent.shiftKey?g-_:g+_;d.options.doubleClickZoom==="center"?d.setZoom(S):d.setZoomAround(l.containerPoint,S)}});Bt.addInitHook("addHandler","doubleClickZoom",tj),Bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var nj=za.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new Ju(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ir(this._map._container,"leaflet-grab"),ir(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=J(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var d=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(d),this._prunePositions(d)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,d){return l-(l-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;l.x<d.min.x&&(l.x=this._viscousLimit(l.x,d.min.x)),l.y<d.min.y&&(l.y=this._viscousLimit(l.y,d.min.y)),l.x>d.max.x&&(l.x=this._viscousLimit(l.x,d.max.x)),l.y>d.max.y&&(l.y=this._viscousLimit(l.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,d=Math.round(l/2),g=this._initialWorldOffset,_=this._draggable._newPos.x,S=(_-d+g)%l+d-g,M=(_+d+g)%l-d-g,$=Math.abs(S+g)<Math.abs(M+g)?S:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(l){var d=this._map,g=d.options,_=!g.inertia||l.noInertia||this._times.length<2;if(d.fire("dragend",l),_)d.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,$=g.easeLinearity,Z=S.multiplyBy($/M),Q=Z.distanceTo([0,0]),oe=Math.min(g.inertiaMaxSpeed,Q),_e=Z.multiplyBy(oe/Q),Xe=oe/(g.inertiaDeceleration*$),Ct=_e.multiplyBy(-Xe/2).round();!Ct.x&&!Ct.y?d.fire("moveend"):(Ct=d._limitOffset(Ct,d.options.maxBounds),R(function(){d.panBy(Ct,{duration:Xe,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});Bt.addInitHook("addHandler","dragging",nj),Bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rj=za.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),gt(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),En(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,d=document.documentElement,g=l.scrollTop||d.scrollTop,_=l.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(_,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var d=this._panKeys={},g=this.keyCodes,_,S;for(_=0,S=g.left.length;_<S;_++)d[g.left[_]]=[-1*l,0];for(_=0,S=g.right.length;_<S;_++)d[g.right[_]]=[l,0];for(_=0,S=g.down.length;_<S;_++)d[g.down[_]]=[0,l];for(_=0,S=g.up.length;_<S;_++)d[g.up[_]]=[0,-1*l]},_setZoomDelta:function(l){var d=this._zoomKeys={},g=this.keyCodes,_,S;for(_=0,S=g.zoomIn.length;_<S;_++)d[g.zoomIn[_]]=l;for(_=0,S=g.zoomOut.length;_<S;_++)d[g.zoomOut[_]]=-l},_addHooks:function(){gt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){En(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var d=l.keyCode,g=this._map,_;if(d in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(_=this._panKeys[d],l.shiftKey&&(_=G(_).multiplyBy(3)),g.options.maxBounds&&(_=g._limitOffset(G(_),g.options.maxBounds)),g.options.worldCopyJump){var S=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(_)));g.panTo(S)}else g.panBy(_)}else if(d in this._zoomKeys)g.setZoom(g.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;$d(l)}}});Bt.addInitHook("addHandler","keyboard",rj),Bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ij=za.extend({addHooks:function(){gt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){En(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var d=CU(l),g=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var _=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),_),$d(l)},_performZoom:function(){var l=this._map,d=l.getZoom(),g=this._map.options.zoomSnap||0;l._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,M=g?Math.ceil(S/g)*g:S,$=l._limitZoom(d+(this._delta>0?M:-M))-d;this._delta=0,this._startTime=null,$&&(l.options.scrollWheelZoom==="center"?l.setZoom(d+$):l.setZoomAround(this._lastMousePos,d+$))}});Bt.addInitHook("addHandler","scrollWheelZoom",ij);var fse=600;Bt.mergeOptions({tapHold:Oe.touchNative&&Oe.safari&&Oe.mobile,tapTolerance:15});var oj=za.extend({addHooks:function(){gt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){En(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var d=l.touches[0];this._startPos=this._newPos=new F(d.clientX,d.clientY),this._holdTimeout=setTimeout(i(function(){this._cancel(),this._isTapValid()&&(gt(document,"touchend",ii),gt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),fse),gt(document,"touchend touchcancel contextmenu",this._cancel,this),gt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){En(document,"touchend",ii),En(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),En(document,"touchend touchcancel contextmenu",this._cancel,this),En(document,"touchmove",this._onMove,this)},_onMove:function(l){var d=l.touches[0];this._newPos=new F(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,d){var g=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});g._simulated=!0,d.target.dispatchEvent(g)}});Bt.addInitHook("addHandler","tapHold",oj),Bt.mergeOptions({touchZoom:Oe.touch,bounceAtZoomLimits:!0});var sj=za.extend({addHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),gt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ir(this._map._container,"leaflet-touch-zoom"),En(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var d=this._map;if(!(!l.touches||l.touches.length!==2||d._animatingZoom||this._zooming)){var g=d.mouseEventToContainerPoint(l.touches[0]),_=d.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(g.add(_)._divideBy(2))),this._startDist=g.distanceTo(_),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),gt(document,"touchmove",this._onTouchMove,this),gt(document,"touchend touchcancel",this._onTouchEnd,this),ii(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var d=this._map,g=d.mouseEventToContainerPoint(l.touches[0]),_=d.mouseEventToContainerPoint(l.touches[1]),S=g.distanceTo(_)/this._startDist;if(this._zoom=d.getScaleZoom(S,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&S<1||this._zoom>d.getMaxZoom()&&S>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var M=g._add(_)._divideBy(2)._subtract(this._centerPoint);if(S===1&&M.x===0&&M.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),P(this._animRequest);var $=i(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=R($,this,!0),ii(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,P(this._animRequest),En(document,"touchmove",this._onTouchMove,this),En(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Bt.addInitHook("addHandler","touchZoom",sj),Bt.BoxZoom=ej,Bt.DoubleClickZoom=tj,Bt.Drag=nj,Bt.Keyboard=rj,Bt.ScrollWheelZoom=ij,Bt.TapHold=oj,Bt.TouchZoom=sj,e.Bounds=q,e.Browser=Oe,e.CRS=le,e.Canvas=XU,e.Circle=PR,e.CircleMarker=sD,e.Class=k,e.Control=zs,e.DivIcon=WU,e.DivOverlay=Ha,e.DomEvent=Moe,e.DomUtil=Toe,e.Draggable=Ju,e.Evented=C,e.FeatureGroup=al,e.GeoJSON=ll,e.GridLayer=s_,e.Handler=za,e.Icon=fm,e.ImageOverlay=fD,e.LatLng=re,e.LatLngBounds=X,e.Layer=Hs,e.LayerGroup=um,e.LineUtil=$oe,e.Map=Bt,e.Marker=oD,e.Mixin=koe,e.Path=ef,e.Point=F,e.PolyUtil=Foe,e.Polygon=dm,e.Polyline=cl,e.Popup=dD,e.PosAnimation=MU,e.Projection=zoe,e.Rectangle=JU,e.Renderer=ul,e.SVG=c_,e.SVGOverlay=qU,e.TileLayer=pm,e.Tooltip=hD,e.Transformation=ee,e.Util=O,e.VideoOverlay=GU,e.bind=i,e.bounds=K,e.canvas=QU,e.circle=Qoe,e.circleMarker=Xoe,e.control=r_,e.divIcon=sse,e.extend=n,e.featureGroup=Woe,e.geoJSON=HU,e.geoJson=ese,e.gridLayer=ase,e.icon=Yoe,e.imageOverlay=tse,e.latLng=te,e.latLngBounds=J,e.layerGroup=qoe,e.map=Aoe,e.marker=Zoe,e.point=G,e.polygon=Joe,e.polyline=Koe,e.popup=ise,e.rectangle=use,e.setOptions=m,e.stamp=s,e.svg=KU,e.svgOverlay=rse,e.tileLayer=YU,e.tooltip=ose,e.transformation=ue,e.version=t,e.videoOverlay=nse;var dse=window.L;e.noConflict=function(){return window.L=dse,this},window.L=e})});var Aee=jR((s_t,Mee)=>{"use strict";function _Se(e,t,n,r,i){for(var o=i+1;r<=i;){var s=r+i>>>1,a=e[s],c=n!==void 0?n(a,t):a-t;c>=0?(o=s,i=s-1):r=s+1}return o}function vSe(e,t,n,r,i){for(var o=i+1;r<=i;){var s=r+i>>>1,a=e[s],c=n!==void 0?n(a,t):a-t;c>0?(o=s,i=s-1):r=s+1}return o}function bSe(e,t,n,r,i){for(var o=r-1;r<=i;){var s=r+i>>>1,a=e[s],c=n!==void 0?n(a,t):a-t;c<0?(o=s,r=s+1):i=s-1}return o}function xSe(e,t,n,r,i){for(var o=r-1;r<=i;){var s=r+i>>>1,a=e[s],c=n!==void 0?n(a,t):a-t;c<=0?(o=s,r=s+1):i=s-1}return o}function wSe(e,t,n,r,i){for(;r<=i;){var o=r+i>>>1,s=e[o],a=n!==void 0?n(s,t):s-t;if(a===0)return o;a<=0?r=o+1:i=o-1}return-1}function W1(e,t,n,r,i,o){return typeof n=="function"?o(e,t,n,r===void 0?0:r|0,i===void 0?e.length-1:i|0):o(e,t,void 0,n===void 0?0:n|0,r===void 0?e.length-1:r|0)}Mee.exports={ge:function(e,t,n,r,i){return W1(e,t,n,r,i,_Se)},gt:function(e,t,n,r,i){return W1(e,t,n,r,i,vSe)},lt:function(e,t,n,r,i){return W1(e,t,n,r,i,bSe)},le:function(e,t,n,r,i){return W1(e,t,n,r,i,xSe)},eq:function(e,t,n,r,i){return W1(e,t,n,r,i,wSe)}}});var Bee=jR((a_t,Fee)=>{"use strict";var mA=Aee(),Uy=0,gp=1,pA=2;Fee.exports=SSe;function T6(e,t,n,r,i){this.mid=e,this.left=t,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(t?t.count:0)+(n?n.count:0)+r.length}var Y1=T6.prototype;function I6(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function Ree(e,t){var n=jy(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function Oee(e,t){var n=e.intervals([]);n.push(t),Ree(e,n)}function Nee(e,t){var n=e.intervals([]),r=n.indexOf(t);return r<0?Uy:(n.splice(r,1),Ree(e,n),gp)}Y1.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e};Y1.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?Oee(this,e):this.left.insert(e):this.left=jy([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?Oee(this,e):this.right.insert(e):this.right=jy([e]);else{var n=mA.ge(this.leftPoints,e,C6),r=mA.ge(this.rightPoints,e,M6);this.leftPoints.splice(n,0,e),this.rightPoints.splice(r,0,e)}};Y1.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid){if(!this.left)return Uy;var n=this.right?this.right.count:0;if(4*n>3*(t-1))return Nee(this,e);var r=this.left.remove(e);return r===pA?(this.left=null,this.count-=1,gp):(r===gp&&(this.count-=1),r)}else if(e[0]>this.mid){if(!this.right)return Uy;var i=this.left?this.left.count:0;if(4*i>3*(t-1))return Nee(this,e);var r=this.right.remove(e);return r===pA?(this.right=null,this.count-=1,gp):(r===gp&&(this.count-=1),r)}else{if(this.count===1)return this.leftPoints[0]===e?pA:Uy;if(this.leftPoints.length===1&&this.leftPoints[0]===e){if(this.left&&this.right){for(var o=this,s=this.left;s.right;)o=s,s=s.right;if(o===this)s.right=this.right;else{var a=this.left,r=this.right;o.count-=s.count,o.right=s.left,s.left=a,s.right=r}I6(this,s),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?I6(this,this.left):I6(this,this.right);return gp}for(var a=mA.ge(this.leftPoints,e,C6);a<this.leftPoints.length&&this.leftPoints[a][0]===e[0];++a)if(this.leftPoints[a]===e){this.count-=1,this.leftPoints.splice(a,1);for(var r=mA.ge(this.rightPoints,e,M6);r<this.rightPoints.length&&this.rightPoints[r][1]===e[1];++r)if(this.rightPoints[r]===e)return this.rightPoints.splice(r,1),gp}return Uy}};function Pee(e,t,n){for(var r=0;r<e.length&&e[r][0]<=t;++r){var i=n(e[r]);if(i)return i}}function Lee(e,t,n){for(var r=e.length-1;r>=0&&e[r][1]>=t;--r){var i=n(e[r]);if(i)return i}}function kee(e,t){for(var n=0;n<e.length;++n){var r=t(e[n]);if(r)return r}}Y1.queryPoint=function(e,t){if(e<this.mid){if(this.left){var n=this.left.queryPoint(e,t);if(n)return n}return Pee(this.leftPoints,e,t)}else if(e>this.mid){if(this.right){var n=this.right.queryPoint(e,t);if(n)return n}return Lee(this.rightPoints,e,t)}else return kee(this.leftPoints,t)};Y1.queryInterval=function(e,t,n){if(e<this.mid&&this.left){var r=this.left.queryInterval(e,t,n);if(r)return r}if(t>this.mid&&this.right){var r=this.right.queryInterval(e,t,n);if(r)return r}return t<this.mid?Pee(this.leftPoints,t,n):e>this.mid?Lee(this.rightPoints,e,n):kee(this.leftPoints,n)};function DSe(e,t){return e-t}function C6(e,t){var n=e[0]-t[0];return n||e[1]-t[1]}function M6(e,t){var n=e[1]-t[1];return n||e[0]-t[0]}function jy(e){if(e.length===0)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(DSe);for(var r=t[t.length>>1],i=[],o=[],s=[],n=0;n<e.length;++n){var a=e[n];a[1]<r?i.push(a):r<a[0]?o.push(a):s.push(a)}var c=s,u=s.slice();return c.sort(C6),u.sort(M6),new T6(r,jy(i),jy(o),c,u)}function E6(e){this.root=e}var $y=E6.prototype;$y.insert=function(e){this.root?this.root.insert(e):this.root=new T6(e[0],null,null,[e],[e])};$y.remove=function(e){if(this.root){var t=this.root.remove(e);return t===pA&&(this.root=null),t!==Uy}return!1};$y.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)};$y.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)};Object.defineProperty($y,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty($y,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function SSe(e){return!e||e.length===0?new E6(null):new E6(jy(e))}});var pj=null;var $R=1,zR=Symbol("SIGNAL");function Qt(e){let t=pj;return pj=e,t}var mj={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Mse(e){if(!(qR(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===$R)){if(!e.producerMustRecompute(e)&&!HR(e)){e.dirty=!1,e.lastCleanEpoch=$R;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=$R}}function gj(e){return e&&(e.nextProducerIndex=0),Qt(e)}function yj(e,t){if(Qt(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(qR(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)GR(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function HR(e){_D(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Mse(n),r!==n.version))return!0}return!1}function _j(e){if(_D(e),qR(e))for(let t=0;t<e.producerNode.length;t++)GR(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function GR(e,t){if(Ase(e),_D(e),e.liveConsumerNode.length===1)for(let r=0;r<e.producerNode.length;r++)GR(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];_D(i),i.producerIndexOfThis[r]=t}}function qR(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function _D(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Ase(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Ose(){throw new Error}var Nse=Ose;function vj(e){Nse=e}function Ge(e){return typeof e=="function"}function gm(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var vD=gm(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Hd(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var or=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Ge(r))try{r()}catch(o){t=o instanceof vD?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{bj(o)}catch(s){t=t??[],s instanceof vD?t=[...t,...s.errors]:t.push(s)}}if(t)throw new vD(t)}}add(t){var n;if(t&&t!==this)if(this.closed)bj(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Hd(n,t)}remove(t){let{_finalizers:n}=this;n&&Hd(n,t),t instanceof e&&t._removeParent(this)}};or.EMPTY=(()=>{let e=new or;return e.closed=!0,e})();var WR=or.EMPTY;function bD(e){return e instanceof or||e&&"closed"in e&&Ge(e.remove)&&Ge(e.add)&&Ge(e.unsubscribe)}function bj(e){Ge(e)?e():e.unsubscribe()}var Gs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ym={setTimeout(e,t,...n){let{delegate:r}=ym;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=ym;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function xD(e){ym.setTimeout(()=>{let{onUnhandledError:t}=Gs;if(t)t(e);else throw e})}function Gd(){}var xj=YR("C",void 0,void 0);function wj(e){return YR("E",void 0,e)}function Dj(e){return YR("N",e,void 0)}function YR(e,t,n){return{kind:e,value:t,error:n}}var qd=null;function _m(e){if(Gs.useDeprecatedSynchronousErrorHandling){let t=!qd;if(t&&(qd={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=qd;if(qd=null,n)throw r}}else e()}function Sj(e){Gs.useDeprecatedSynchronousErrorHandling&&qd&&(qd.errorThrown=!0,qd.error=e)}var Wd=class extends or{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,bD(t)&&t.add(this)):this.destination=Lse}static create(t,n,r){return new vm(t,n,r)}next(t){this.isStopped?XR(Dj(t),this):this._next(t)}error(t){this.isStopped?XR(wj(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?XR(xj,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Rse=Function.prototype.bind;function ZR(e,t){return Rse.call(e,t)}var QR=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){wD(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){wD(r)}else wD(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){wD(n)}}},vm=class extends Wd{constructor(t,n,r){super();let i;if(Ge(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Gs.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&ZR(t.next,o),error:t.error&&ZR(t.error,o),complete:t.complete&&ZR(t.complete,o)}):i=t}this.destination=new QR(i)}};function wD(e){Gs.useDeprecatedSynchronousErrorHandling?Sj(e):xD(e)}function Pse(e){throw e}function XR(e,t){let{onStoppedNotification:n}=Gs;n&&ym.setTimeout(()=>n(e,t))}var Lse={closed:!0,next:Gd,error:Pse,complete:Gd};var bm=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Vi(e){return e}function KR(...e){return JR(e)}function JR(e){return e.length===0?Vi:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var pt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Fse(n)?n:new vm(n,r,i);return _m(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ij(r),new r((i,o)=>{let s=new vm({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[bm](){return this}pipe(...n){return JR(n)(this)}toPromise(n){return n=Ij(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Ij(e){var t;return(t=e??Gs.Promise)!==null&&t!==void 0?t:Promise}function kse(e){return e&&Ge(e.next)&&Ge(e.error)&&Ge(e.complete)}function Fse(e){return e&&e instanceof Wd||kse(e)&&bD(e)}function eP(e){return Ge(e?.lift)}function Pt(e){return t=>{if(eP(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function mt(e,t,n,r,i){return new tP(e,t,n,r,i)}var tP=class extends Wd{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function xm(){return Pt((e,t)=>{let n=null;e._refCount++;let r=mt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var wm=class extends pt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,eP(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new or;let n=this.getSubject();t.add(this.source.subscribe(mt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=or.EMPTY)}return t}refCount(){return xm()(this)}};var Ej=gm(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var On=(()=>{class e extends pt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new DD(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ej}next(n){_m(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){_m(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_m(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?WR:(this.currentObservers=null,o.push(n),new or(()=>{this.currentObservers=null,Hd(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new pt;return n.source=this,n}}return e.create=(t,n)=>new DD(t,n),e})(),DD=class extends On{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:WR}};var Ur=class extends On{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var nP={now(){return(nP.delegate||Date).now()},delegate:void 0};var SD=class extends or{constructor(t,n){super()}schedule(t,n=0){return this}};var l_={setInterval(e,t,...n){let{delegate:r}=l_;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=l_;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var ID=class extends SD{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return l_.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&l_.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Hd(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Dm=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Dm.now=nP.now;var ED=class extends Dm{constructor(t,n=Dm.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Bse=new ED(ID),Tj=Bse;var oi=new pt(e=>e.complete());function TD(e){return e&&Ge(e.schedule)}function Cj(e){return e[e.length-1]}function nf(e){return Ge(Cj(e))?e.pop():void 0}function rf(e){return TD(Cj(e))?e.pop():void 0}function Aj(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ge(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{u(r.next(f))}catch(h){s(h)}}function c(f){try{u(r.throw(f))}catch(h){s(h)}}function u(f){f.done?o(f.value):i(f.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function Mj(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function et(e){return this instanceof et?(this.v=e,this):new et(e)}function Ui(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(y){return Promise.resolve(y).then(m,h)}}function a(m,y){r[m]&&(i[m]=function(v){return new Promise(function(b,x){o.push([m,v,b,x])>1||c(m,v)})},y&&(i[m]=y(i[m])))}function c(m,y){try{u(r[m](y))}catch(v){p(o[0][3],v)}}function u(m){m.value instanceof et?Promise.resolve(m.value.v).then(f,h):p(o[0][2],m)}function f(m){c("next",m)}function h(m){c("throw",m)}function p(m,y){m(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Sm(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(s){return(n=!n)?{value:et(e[i](s)),done:!1}:o?o(s):s}:o}}function No(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Mj=="function"?Mj(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Im=e=>e&&typeof e.length=="number"&&typeof e!="function";function CD(e){return Ge(e?.then)}function MD(e){return Ge(e[bm])}function AD(e){return Symbol.asyncIterator&&Ge(e?.[Symbol.asyncIterator])}function OD(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Vse(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ND=Vse();function RD(e){return Ge(e?.[ND])}function PD(e){return Ui(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield et(n.read());if(i)return yield et(void 0);yield yield et(r)}}finally{n.releaseLock()}})}function LD(e){return Ge(e?.getReader)}function sn(e){if(e instanceof pt)return e;if(e!=null){if(MD(e))return Use(e);if(Im(e))return jse(e);if(CD(e))return $se(e);if(AD(e))return Oj(e);if(RD(e))return zse(e);if(LD(e))return Hse(e)}throw OD(e)}function Use(e){return new pt(t=>{let n=e[bm]();if(Ge(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jse(e){return new pt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function $se(e){return new pt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,xD)})}function zse(e){return new pt(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Oj(e){return new pt(t=>{Gse(e,t).catch(n=>t.error(n))})}function Hse(e){return Oj(PD(e))}function Gse(e,t){var n,r,i,o;return ge(this,void 0,void 0,function*(){try{for(n=No(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function ho(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function kD(e,t=0){return Pt((n,r)=>{n.subscribe(mt(r,i=>ho(r,e,()=>r.next(i),t),()=>ho(r,e,()=>r.complete(),t),i=>ho(r,e,()=>r.error(i),t)))})}function FD(e,t=0){return Pt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Nj(e,t){return sn(e).pipe(FD(t),kD(t))}function Rj(e,t){return sn(e).pipe(FD(t),kD(t))}function Pj(e,t){return new pt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Lj(e,t){return new pt(n=>{let r;return ho(n,t,()=>{r=e[ND](),ho(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Ge(r?.return)&&r.return()})}function BD(e,t){if(!e)throw new Error("Iterable cannot be null");return new pt(n=>{ho(n,t,()=>{let r=e[Symbol.asyncIterator]();ho(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function kj(e,t){return BD(PD(e),t)}function Fj(e,t){if(e!=null){if(MD(e))return Nj(e,t);if(Im(e))return Pj(e,t);if(CD(e))return Rj(e,t);if(AD(e))return BD(e,t);if(RD(e))return Lj(e,t);if(LD(e))return kj(e,t)}throw OD(e)}function Nn(e,t){return t?Fj(e,t):sn(e)}function Re(...e){let t=rf(e);return Nn(e,t)}function Em(e,t){let n=Ge(e)?e:()=>e,r=i=>i.error(n());return new pt(t?i=>t.schedule(r,0,i):r)}function rP(e){return!!e&&(e instanceof pt||Ge(e.lift)&&Ge(e.subscribe))}var dl=gm(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Bj(e){return e instanceof Date&&!isNaN(e)}function ct(e,t){return Pt((n,r)=>{let i=0;n.subscribe(mt(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:qse}=Array;function Wse(e,t){return qse(t)?e(...t):e(t)}function Tm(e){return ct(t=>Wse(e,t))}var{isArray:Yse}=Array,{getPrototypeOf:Zse,prototype:Xse,keys:Qse}=Object;function VD(e){if(e.length===1){let t=e[0];if(Yse(t))return{args:t,keys:null};if(Kse(t)){let n=Qse(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Kse(e){return e&&typeof e=="object"&&Zse(e)===Xse}function UD(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Cm(...e){let t=rf(e),n=nf(e),{args:r,keys:i}=VD(e);if(r.length===0)return Nn([],t);let o=new pt(Jse(r,t,i?s=>UD(i,s):Vi));return n?o.pipe(Tm(n)):o}function Jse(e,t,n=Vi){return r=>{Vj(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Vj(t,()=>{let u=Nn(e[c],t),f=!1;u.subscribe(mt(r,h=>{o[c]=h,f||(f=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Vj(e,t,n){e?ho(n,e,t):t()}function Uj(e,t,n,r,i,o,s,a){let c=[],u=0,f=0,h=!1,p=()=>{h&&!c.length&&!u&&t.complete()},m=v=>u<r?y(v):c.push(v),y=v=>{o&&t.next(v),u++;let b=!1;sn(n(v,f++)).subscribe(mt(t,x=>{i?.(x),o?m(x):t.next(x)},()=>{b=!0},void 0,()=>{if(b)try{for(u--;c.length&&u<r;){let x=c.shift();s?ho(t,s,()=>y(x)):y(x)}p()}catch(x){t.error(x)}}))};return e.subscribe(mt(t,m,()=>{h=!0,p()})),()=>{a?.()}}function $n(e,t,n=1/0){return Ge(t)?$n((r,i)=>ct((o,s)=>t(r,o,i,s))(sn(e(r,i))),n):(typeof t=="number"&&(n=t),Pt((r,i)=>Uj(r,i,e,n)))}function Mm(e=1/0){return $n(Vi,e)}function jj(){return Mm(1)}function of(...e){return jj()(Nn(e,rf(e)))}function jD(e){return new pt(t=>{sn(e()).subscribe(t)})}function iP(...e){let t=nf(e),{args:n,keys:r}=VD(e),i=new pt(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let f=0;f<s;f++){let h=!1;sn(n[f]).subscribe(mt(o,p=>{h||(h=!0,u--),a[f]=p},()=>c--,void 0,()=>{(!c||!h)&&(u||o.next(r?UD(r,a):a),o.complete())}))}});return t?i.pipe(Tm(t)):i}var eae=["addListener","removeListener"],tae=["addEventListener","removeEventListener"],nae=["on","off"];function fs(e,t,n,r){if(Ge(n)&&(r=n,n=void 0),r)return fs(e,t,n).pipe(Tm(r));let[i,o]=oae(e)?tae.map(s=>a=>e[s](t,a,n)):rae(e)?eae.map($j(e,t)):iae(e)?nae.map($j(e,t)):[];if(!i&&Im(e))return $n(s=>fs(s,t,n))(sn(e));if(!i)throw new TypeError("Invalid event target");return new pt(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function $j(e,t){return n=>r=>e[n](t,r)}function rae(e){return Ge(e.addListener)&&Ge(e.removeListener)}function iae(e){return Ge(e.on)&&Ge(e.off)}function oae(e){return Ge(e.addEventListener)&&Ge(e.removeEventListener)}function oP(e=0,t,n=Tj){let r=-1;return t!=null&&(TD(t)?n=t:r=t),new pt(i=>{let o=Bj(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}var{isArray:sae}=Array;function $D(e){return e.length===1&&sae(e[0])?e[0]:e}function Er(e,t){return Pt((n,r)=>{let i=0;n.subscribe(mt(r,o=>e.call(t,o,i++)&&r.next(o)))})}function sP(...e){return e=$D(e),e.length===1?sn(e[0]):new pt(aae(e))}function aae(e){return t=>{let n=[];for(let r=0;n&&!t.closed&&r<e.length;r++)n.push(sn(e[r]).subscribe(mt(t,i=>{if(n){for(let o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}t.next(i)})))}}function u_(...e){let t=nf(e),n=$D(e);return n.length?new pt(r=>{let i=n.map(()=>[]),o=n.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<n.length;s++)sn(n[s]).subscribe(mt(r,a=>{if(i[s].push(a),i.every(c=>c.length)){let c=i.map(u=>u.shift());r.next(t?t(...c):c),i.some((u,f)=>!u.length&&o[f])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):oi}function sf(e){return Pt((t,n)=>{let r=null,i=!1,o;r=t.subscribe(mt(n,void 0,void 0,s=>{o=sn(e(s,sf(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function zj(e,t,n,r,i){return(o,s)=>{let a=n,c=t,u=0;o.subscribe(mt(s,f=>{let h=u++;c=a?e(c,f,h):(a=!0,f),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function hl(e,t){return Ge(t)?$n(e,t,1):$n(e,1)}function af(e){return Pt((t,n)=>{let r=!1;t.subscribe(mt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function po(e){return e<=0?()=>oi:Pt((t,n)=>{let r=0;t.subscribe(mt(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function aP(e){return ct(()=>e)}function zD(e=cae){return Pt((t,n)=>{let r=!1;t.subscribe(mt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function cae(){return new dl}function cP(...e){return t=>of(t,Re(...e))}function cf(e){return Pt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Ga(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Er((i,o)=>e(i,o,r)):Vi,po(1),n?af(t):zD(()=>new dl))}function Am(e){return e<=0?()=>oi:Pt((t,n)=>{let r=[];t.subscribe(mt(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function lP(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Er((i,o)=>e(i,o,r)):Vi,Am(1),n?af(t):zD(()=>new dl))}function uP(e,t){return Pt(zj(e,t,arguments.length>=2,!0))}function HD(...e){let t=rf(e);return Pt((n,r)=>{(t?of(e,n,t):of(e,n)).subscribe(r)})}function wi(e,t){return Pt((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(mt(r,c=>{i?.unsubscribe();let u=0,f=o++;sn(e(c,f)).subscribe(i=mt(r,h=>r.next(t?t(c,h,f,u++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Di(e){return Pt((t,n)=>{sn(e).subscribe(mt(n,()=>n.complete(),Gd)),!n.closed&&t.subscribe(n)})}function fr(e,t,n){let r=Ge(e)||t||n?{next:e,error:t,complete:n}:e;return r?Pt((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(mt(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Vi}function GD(...e){let t=nf(e);return Pt((n,r)=>{let i=e.length,o=new Array(i),s=e.map(()=>!1),a=!1;for(let c=0;c<i;c++)sn(e[c]).subscribe(mt(r,u=>{o[c]=u,!a&&!s[c]&&(s[c]=!0,(a=s.every(Vi))&&(s=null))},Gd));n.subscribe(mt(r,c=>{if(a){let u=[c,...o];r.next(t?t(...u):u)}}))})}var lae="https://g.co/ng/security#xss",Ae=class extends Error{constructor(t,n){super(bS(t,n)),this.code=t}};function bS(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function D_(e){return{toString:e}.toString()}var qD="__parameters__";function uae(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function E$(e,t,n){return D_(()=>{let r=uae(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,f){let h=c.hasOwnProperty(qD)?c[qD]:Object.defineProperty(c,qD,{value:[]})[qD];for(;h.length<=f;)h.push(null);return(h[f]=h[f]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var pl=globalThis;function vn(e){for(let t in e)if(e[t]===vn)return t;throw Error("Could not find renamed property on target object.")}function fae(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function $i(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map($i).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function TP(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var dae=vn({__forward_ref__:vn});function Ja(e){return e.__forward_ref__=Ja,e.toString=function(){return $i(this())},e}function ji(e){return T$(e)?e():e}function T$(e){return typeof e=="function"&&e.hasOwnProperty(dae)&&e.__forward_ref__===Ja}function Se(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function an(e){return{providers:e.providers||[],imports:e.imports||[]}}function xS(e){return Hj(e,M$)||Hj(e,A$)}function C$(e){return xS(e)!==null}function Hj(e,t){return e.hasOwnProperty(t)?e[t]:null}function hae(e){let t=e&&(e[M$]||e[A$]);return t||null}function Gj(e){return e&&(e.hasOwnProperty(qj)||e.hasOwnProperty(pae))?e[qj]:null}var M$=vn({\u0275prov:vn}),qj=vn({\u0275inj:vn}),A$=vn({ngInjectableDef:vn}),pae=vn({ngInjectorDef:vn}),Le=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function O$(e){return e&&!!e.\u0275providers}var mae=vn({\u0275cmp:vn}),gae=vn({\u0275dir:vn}),yae=vn({\u0275pipe:vn}),_ae=vn({\u0275mod:vn}),tS=vn({\u0275fac:vn}),f_=vn({__NG_ELEMENT_ID__:vn}),Wj=vn({__NG_ENV_ID__:vn});function TL(e){return typeof e=="string"?e:e==null?"":String(e)}function vae(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():TL(e)}function bae(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ae(-200,e)}function CL(e,t){throw new Ae(-201,!1)}var Mt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Mt||{}),CP;function N$(){return CP}function mo(e){let t=CP;return CP=e,t}function R$(e,t,n){let r=xS(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Mt.Optional)return null;if(t!==void 0)return t;CL(e,"Injector")}var xae={},d_=xae,MP="__NG_DI_FLAG__",nS="ngTempTokenPath",wae="ngTokenPath",Dae=/\n/gm,Sae="\u0275",Yj="__source",Lm;function Iae(){return Lm}function lf(e){let t=Lm;return Lm=e,t}function Eae(e,t=Mt.Default){if(Lm===void 0)throw new Ae(-203,!1);return Lm===null?R$(e,void 0,t):Lm.get(e,t&Mt.Optional?null:void 0,t)}function $e(e,t=Mt.Default){return(N$()||Eae)(ji(e),t)}function ae(e,t=Mt.Default){return $e(e,wS(t))}function wS(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function AP(e){let t=[];for(let n=0;n<e.length;n++){let r=ji(e[n]);if(Array.isArray(r)){if(r.length===0)throw new Ae(900,!1);let i,o=Mt.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Tae(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push($e(i,o))}else t.push($e(r))}return t}function P$(e,t){return e[MP]=t,e.prototype[MP]=t,e}function Tae(e){return e[MP]}function Cae(e,t,n,r){let i=e[nS];throw t[Yj]&&i.unshift(t[Yj]),e.message=Mae(`
`+e.message,i,n,r),e[wae]=i,e[nS]=null,e}function Mae(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Sae?e.slice(2):e;let i=$i(t);if(Array.isArray(t))i=t.map($i).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):$i(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Dae,`
  `)}`}var S_=P$(E$("Optional"),8);var DS=P$(E$("SkipSelf"),4);function Qd(e,t){let n=e.hasOwnProperty(tS);return n?e[tS]:null}function Aae(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Oae(e){return e.flat(Number.POSITIVE_INFINITY)}function ML(e,t){e.forEach(n=>Array.isArray(n)?ML(n,t):t(n))}function L$(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function rS(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Nae(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function Rae(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function AL(e,t,n){let r=I_(e,t);return r>=0?e[r|1]=n:(r=~r,Rae(e,r,t,n)),r}function fP(e,t){let n=I_(e,t);if(n>=0)return e[n|1]}function I_(e,t){return Pae(e,t,1)}function Pae(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var Fm={},go=[],Bm=new Le(""),k$=new Le("",-1),F$=new Le(""),iS=class{get(t,n=d_){if(n===d_){let r=new Error(`NullInjectorError: No provider for ${$i(t)}!`);throw r.name="NullInjectorError",r}return n}},B$=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(B$||{}),Ya=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ya||{}),zi=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(zi||{});function Lae(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function OP(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];Fae(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function kae(e){return e===3||e===4||e===6}function Fae(e){return e.charCodeAt(0)===64}function h_(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Zj(e,n,i,null,t[++r]):Zj(e,n,i,null,null))}}return e}function Zj(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var V$="ng-template";function Bae(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&Lae(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(OL(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function OL(e){return e.type===4&&e.value!==V$}function Vae(e,t,n){let r=e.type===4&&!n?V$:e.value;return t===r}function Uae(e,t,n){let r=4,i=e.attrs,o=i!==null?zae(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!qs(r)&&!qs(c))return!1;if(s&&qs(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Vae(e,c,n)||c===""&&t.length===1){if(qs(r))return!1;s=!0}}else if(r&8){if(i===null||!Bae(e,i,c,n)){if(qs(r))return!1;s=!0}}else{let u=t[++a],f=jae(c,i,OL(e),n);if(f===-1){if(qs(r))return!1;s=!0;continue}if(u!==""){let h;if(f>o?h="":h=i[f+1].toLowerCase(),r&2&&u!==h){if(qs(r))return!1;s=!0}}}}return qs(r)||s}function qs(e){return(e&1)===0}function jae(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Hae(t,e)}function U$(e,t,n=!1){for(let r=0;r<t.length;r++)if(Uae(e,t[r],n))return!0;return!1}function $ae(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function zae(e){for(let t=0;t<e.length;t++){let n=e[t];if(kae(n))return t}return e.length}function Hae(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Gae(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Xj(e,t){return e?":not("+t.trim()+")":t}function qae(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!qs(s)&&(t+=Xj(o,i),i=""),r=s,o=o||!qs(r);n++}return i!==""&&(t+=Xj(o,i)),t}function Wae(e){return e.map(qae).join(",")}function Yae(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!qs(i))break;i=o}r++}return{attrs:t,classes:n}}function vl(e){return D_(()=>{let t=G$(e),n=V(E({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===B$.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ya.Emulated,styles:e.styles||go,_:null,schemas:e.schemas||null,tView:null,id:""});q$(n);let r=e.dependencies;return n.directiveDefs=Kj(r,!1),n.pipeDefs=Kj(r,!0),n.id=Qae(n),n})}function Zae(e){return ml(e)||j$(e)}function Xae(e){return e!==null}function cn(e){return D_(()=>({type:e.type,bootstrap:e.bootstrap||go,declarations:e.declarations||go,imports:e.imports||go,exports:e.exports||go,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Qj(e,t){if(e==null)return Fm;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=zi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==zi.None?[r,a]:r,t[o]=s):n[o]=r}return n}function Qn(e){return D_(()=>{let t=G$(e);return q$(t),t})}function zm(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function ml(e){return e[mae]||null}function j$(e){return e[gae]||null}function $$(e){return e[yae]||null}function z$(e){let t=ml(e)||j$(e)||$$(e);return t!==null?t.standalone:!1}function H$(e,t){let n=e[_ae]||null;if(!n&&t===!0)throw new Error(`Type ${$i(e)} does not have '\u0275mod' property.`);return n}function G$(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Fm,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||go,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qj(e.inputs,t),outputs:Qj(e.outputs),debugInfo:null}}function q$(e){e.features?.forEach(t=>t(e))}function Kj(e,t){if(!e)return null;let n=t?$$:Zae;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(Xae)}function Qae(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Hm(e){return{\u0275providers:e}}function Kae(...e){return{\u0275providers:W$(!0,e),\u0275fromNgModule:!0}}function W$(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return ML(t,s=>{let a=s;NP(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Y$(i,o),n}function Y$(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];NL(i,o=>{t(o,r)})}}function NP(e,t,n,r){if(e=ji(e),!e)return!1;let i=null,o=Gj(e),s=!o&&ml(e);if(!o&&!s){let c=e.ngModule;if(o=Gj(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)NP(u,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{ML(o.imports,f=>{NP(f,t,n,r)&&(u||=[],u.push(f))})}finally{}u!==void 0&&Y$(u,t)}if(!a){let u=Qd(i)||(()=>new i);t({provide:i,useFactory:u,deps:go},i),t({provide:F$,useValue:i,multi:!0},i),t({provide:Bm,useValue:()=>$e(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=e;NL(c,f=>{t(f,u)})}}else return!1;return i!==e&&e.providers!==void 0}function NL(e,t){for(let n of e)O$(n)&&(n=n.\u0275providers),Array.isArray(n)?NL(n,t):t(n)}var Jae=vn({provide:String,useValue:vn});function Z$(e){return e!==null&&typeof e=="object"&&Jae in e}function ece(e){return!!(e&&e.useExisting)}function tce(e){return!!(e&&e.useFactory)}function Vm(e){return typeof e=="function"}function nce(e){return!!e.useClass}var SS=new Le(""),ZD={},rce={},dP;function IS(){return dP===void 0&&(dP=new iS),dP}var Tr=class{},p_=class extends Tr{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,PP(t,s=>this.processProvider(s)),this.records.set(k$,Om(void 0,this)),i.has("environment")&&this.records.set(Tr,Om(void 0,this));let o=this.records.get(SS);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(F$,go,Mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Qt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Qt(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=lf(this),r=mo(void 0),i;try{return t()}finally{lf(n),mo(r)}}get(t,n=d_,r=Mt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Wj))return t[Wj](this);r=wS(r);let i,o=lf(this),s=mo(void 0);try{if(!(r&Mt.SkipSelf)){let c=this.records.get(t);if(c===void 0){let u=cce(t)&&xS(t);u&&this.injectableDefInScope(u)?c=Om(RP(t),ZD):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=r&Mt.Self?IS():this.parent;return n=r&Mt.Optional&&n===d_?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[nS]=a[nS]||[]).unshift($i(t)),o)throw a;return Cae(a,t,"R3InjectorError",this.source)}else throw a}finally{mo(s),lf(o)}}resolveInjectorInitializers(){let t=Qt(null),n=lf(this),r=mo(void 0),i;try{let o=this.get(Bm,go,Mt.Self);for(let s of o)s()}finally{lf(n),mo(r),Qt(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push($i(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(t){t=ji(t);let n=Vm(t)?t:ji(t&&t.provide),r=oce(t);if(!Vm(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Om(void 0,ZD,!0),i.factory=()=>AP(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=Qt(null);try{return n.value===ZD&&(n.value=rce,n.value=n.factory()),typeof n.value=="object"&&n.value&&ace(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Qt(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=ji(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function RP(e){let t=xS(e),n=t!==null?t.factory:Qd(e);if(n!==null)return n;if(e instanceof Le)throw new Ae(204,!1);if(e instanceof Function)return ice(e);throw new Ae(204,!1)}function ice(e){if(e.length>0)throw new Ae(204,!1);let n=hae(e);return n!==null?()=>n.factory(e):()=>new e}function oce(e){if(Z$(e))return Om(void 0,e.useValue);{let t=X$(e);return Om(t,ZD)}}function X$(e,t,n){let r;if(Vm(e)){let i=ji(e);return Qd(i)||RP(i)}else if(Z$(e))r=()=>ji(e.useValue);else if(tce(e))r=()=>e.useFactory(...AP(e.deps||[]));else if(ece(e))r=()=>$e(ji(e.useExisting));else{let i=ji(e&&(e.useClass||e.provide));if(sce(e))r=()=>new i(...AP(e.deps));else return Qd(i)||RP(i)}return r}function Om(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function sce(e){return!!e.deps}function ace(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function cce(e){return typeof e=="function"||typeof e=="object"&&e instanceof Le}function PP(e,t){for(let n of e)Array.isArray(n)?PP(n,t):n&&O$(n)?PP(n.\u0275providers,t):t(n)}function Qs(e,t){e instanceof p_&&e.assertNotDestroyed();let n,r=lf(e),i=mo(void 0);try{return t()}finally{lf(r),mo(i)}}function Q$(){return N$()!==void 0||Iae()!=null}function lce(e){if(!Q$())throw new Ae(-203,!1)}function uce(e){return typeof e=="function"}var bl=0,Dt=1,tt=2,si=3,Ys=4,Po=5,m_=6,g_=7,Zs=8,Um=9,Za=10,sr=11,y_=12,Jj=13,Gm=14,Xs=15,E_=16,Nm=17,gl=18,ES=19,K$=20,uf=21,hP=22,Kd=23,ds=25,J$=1;var Jd=7,oS=8,jm=9,Ro=10,RL=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(RL||{});function Zd(e){return Array.isArray(e)&&typeof e[J$]=="object"}function xl(e){return Array.isArray(e)&&e[J$]===!0}function ez(e){return(e.flags&4)!==0}function TS(e){return e.componentOffset>-1}function PL(e){return(e.flags&1)===1}function ff(e){return!!e.template}function fce(e){return(e[tt]&512)!==0}var LP=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function tz(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function ah(){return nz}function nz(e){return e.type.prototype.ngOnChanges&&(e.setInput=hce),dce}ah.ngInherit=!0;function dce(){let e=iz(this),t=e?.current;if(t){let n=e.previous;if(n===Fm)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function hce(e,t,n,r,i){let o=this.declaredInputs[r],s=iz(e)||pce(e,{previous:Fm,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new LP(u&&u.currentValue,n,c===Fm),tz(e,t,i,n)}var rz="__ngSimpleChanges__";function iz(e){return e[rz]||null}function pce(e,t){return e[rz]=t}var e$=null;var qa=function(e,t,n){e$?.(e,t,n)},mce="svg",gce="math",yce=!1;function _ce(){return yce}function Xa(e){for(;Array.isArray(e);)e=e[bl];return e}function oz(e,t){return Xa(t[e])}function hs(e,t){return Xa(t[e.index])}function sz(e,t){return e.data[t]}function az(e,t){return e[t]}function hf(e,t){let n=t[e];return Zd(n)?n:n[bl]}function vce(e){return(e[tt]&4)===4}function LL(e){return(e[tt]&128)===128}function bce(e){return xl(e[si])}function sS(e,t){return t==null?null:e[t]}function cz(e){e[Nm]=0}function xce(e){e[tt]&1024||(e[tt]|=1024,LL(e)&&__(e))}function wce(e,t){for(;e>0;)t=t[Gm],e--;return t}function kL(e){return!!(e[tt]&9216||e[Kd]?.dirty)}function kP(e){e[Za].changeDetectionScheduler?.notify(1),kL(e)?__(e):e[tt]&64&&(_ce()?(e[tt]|=1024,__(e)):e[Za].changeDetectionScheduler?.notify())}function __(e){e[Za].changeDetectionScheduler?.notify();let t=v_(e);for(;t!==null&&!(t[tt]&8192||(t[tt]|=8192,!LL(t)));)t=v_(t)}function lz(e,t){if((e[tt]&256)===256)throw new Ae(911,!1);e[uf]===null&&(e[uf]=[]),e[uf].push(t)}function Dce(e,t){if(e[uf]===null)return;let n=e[uf].indexOf(t);n!==-1&&e[uf].splice(n,1)}function v_(e){let t=e[si];return xl(t)?t[si]:t}var At={lFrame:vz(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Sce(){return At.lFrame.elementDepthCount}function Ice(){At.lFrame.elementDepthCount++}function Ece(){At.lFrame.elementDepthCount--}function uz(){return At.bindingsEnabled}function fz(){return At.skipHydrationRootTNode!==null}function Tce(e){return At.skipHydrationRootTNode===e}function Cce(){At.skipHydrationRootTNode=null}function kt(){return At.lFrame.lView}function jr(){return At.lFrame.tView}function ai(e){return At.lFrame.contextLView=e,e[Zs]}function ci(e){return At.lFrame.contextLView=null,e}function Lo(){let e=dz();for(;e!==null&&e.type===64;)e=e.parent;return e}function dz(){return At.lFrame.currentTNode}function Mce(){let e=At.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function T_(e,t){let n=At.lFrame;n.currentTNode=e,n.isParent=t}function hz(){return At.lFrame.isParent}function pz(){At.lFrame.isParent=!1}function CS(){let e=At.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ace(e){return At.lFrame.bindingIndex=e}function MS(){return At.lFrame.bindingIndex++}function mz(e){let t=At.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Oce(){return At.lFrame.inI18n}function Nce(e,t){let n=At.lFrame;n.bindingIndex=n.bindingRootIndex=e,FP(t)}function Rce(){return At.lFrame.currentDirectiveIndex}function FP(e){At.lFrame.currentDirectiveIndex=e}function Pce(e){let t=At.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function gz(){return At.lFrame.currentQueryIndex}function FL(e){At.lFrame.currentQueryIndex=e}function Lce(e){let t=e[Dt];return t.type===2?t.declTNode:t.type===1?e[Po]:null}function yz(e,t,n){if(n&Mt.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&Mt.Host);)if(i=Lce(o),i===null||(o=o[Gm],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=At.lFrame=_z();return r.currentTNode=t,r.lView=e,!0}function BL(e){let t=_z(),n=e[Dt];At.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function _z(){let e=At.lFrame,t=e===null?null:e.child;return t===null?vz(e):t}function vz(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function bz(){let e=At.lFrame;return At.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var xz=bz;function VL(){let e=bz();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function kce(e){return(At.lFrame.contextLView=wce(e,At.lFrame.contextLView))[Zs]}function ch(){return At.lFrame.selectedIndex}function eh(e){At.lFrame.selectedIndex=e}function UL(){let e=At.lFrame;return sz(e.tView,e.selectedIndex)}function Fce(){return At.lFrame.currentNamespace}var wz=!0;function jL(){return wz}function $L(e){wz=e}function Bce(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=nz(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function zL(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:f}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),f!=null&&(e.destroyHooks??=[]).push(n,f)}}function XD(e,t,n){Dz(e,t,3,n)}function QD(e,t,n,r){(e[tt]&3)===n&&Dz(e,t,n,r)}function pP(e,t){let n=e[tt];(n&3)===t&&(n&=16383,n+=1,e[tt]=n)}function Dz(e,t,n,r){let i=r!==void 0?e[Nm]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Nm]+=65536),(a<o||o==-1)&&(Vce(e,n,t,c),e[Nm]=(e[Nm]&4294901760)+c+2),c++}function t$(e,t){qa(4,e,t);let n=Qt(null);try{t.call(e)}finally{Qt(n),qa(5,e,t)}}function Vce(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[tt]>>14<e[Nm]>>16&&(e[tt]&3)===t&&(e[tt]+=16384,t$(a,o)):t$(a,o)}var km=-1,th=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Uce(e){return e instanceof th}function jce(e){return(e.flags&8)!==0}function $ce(e){return(e.flags&16)!==0}function Sz(e){return e!==km}function aS(e){return e&32767}function zce(e){return e>>16}function cS(e,t){let n=zce(e),r=t;for(;n>0;)r=r[Gm],n--;return r}var BP=!0;function lS(e){let t=BP;return BP=e,t}var Hce=256,Iz=Hce-1,Ez=5,Gce=0,Wa={};function qce(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(f_)&&(r=n[f_]),r==null&&(r=n[f_]=Gce++);let i=r&Iz,o=1<<i;t.data[e+(i>>Ez)]|=o}function uS(e,t){let n=Tz(e,t);if(n!==-1)return n;let r=t[Dt];r.firstCreatePass&&(e.injectorIndex=t.length,mP(r.data,e),mP(t,null),mP(r.blueprint,null));let i=HL(e,t),o=e.injectorIndex;if(Sz(i)){let s=aS(i),a=cS(i,t),c=a[Dt].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|c[s+u]}return t[o+8]=i,o}function mP(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Tz(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function HL(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=Nz(i),r===null)return km;if(n++,i=i[Gm],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return km}function VP(e,t,n){qce(e,t,n)}function Cz(e,t,n){if(n&Mt.Optional||e!==void 0)return e;CL(t,"NodeInjector")}function Mz(e,t,n,r){if(n&Mt.Optional&&r===void 0&&(r=null),!(n&(Mt.Self|Mt.Host))){let i=e[Um],o=mo(void 0);try{return i?i.get(t,r,n&Mt.Optional):R$(t,r,n&Mt.Optional)}finally{mo(o)}}return Cz(r,t,n)}function Az(e,t,n,r=Mt.Default,i){if(e!==null){if(t[tt]&2048&&!(r&Mt.Self)){let s=Xce(e,t,n,r,Wa);if(s!==Wa)return s}let o=Oz(e,t,n,r,Wa);if(o!==Wa)return o}return Mz(t,n,r,i)}function Oz(e,t,n,r,i){let o=Yce(n);if(typeof o=="function"){if(!yz(t,e,r))return r&Mt.Host?Cz(i,n,r):Mz(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Mt.Optional))CL(n);else return s}finally{xz()}}else if(typeof o=="number"){let s=null,a=Tz(e,t),c=km,u=r&Mt.Host?t[Xs][Po]:null;for((a===-1||r&Mt.SkipSelf)&&(c=a===-1?HL(e,t):t[a+8],c===km||!r$(r,!1)?a=-1:(s=t[Dt],a=aS(c),t=cS(c,t)));a!==-1;){let f=t[Dt];if(n$(o,a,f.data)){let h=Wce(a,t,n,s,r,u);if(h!==Wa)return h}c=t[a+8],c!==km&&r$(r,t[Dt].data[a+8]===u)&&n$(o,a,t)?(s=f,a=aS(c),t=cS(c,t)):a=-1}}return i}function Wce(e,t,n,r,i,o){let s=t[Dt],a=s.data[e+8],c=r==null?TS(a)&&BP:r!=s&&(a.type&3)!==0,u=i&Mt.Host&&o===a,f=KD(a,s,n,c,u);return f!==null?nh(t,s,f,a):Wa}function KD(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,u=e.directiveEnd,f=o>>20,h=r?a:a+f,p=i?a+f:u;for(let m=h;m<p;m++){let y=s[m];if(m<c&&n===y||m>=c&&y.type===n)return m}if(i){let m=s[c];if(m&&ff(m)&&m.type===n)return c}return null}function nh(e,t,n,r){let i=e[n],o=t.data;if(Uce(i)){let s=i;s.resolving&&bae(vae(o[n]));let a=lS(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?mo(s.injectImpl):null,f=yz(e,r,Mt.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&Bce(n,o[n],t)}finally{u!==null&&mo(u),lS(a),s.resolving=!1,xz()}}return i}function Yce(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(f_)?e[f_]:void 0;return typeof t=="number"?t>=0?t&Iz:Zce:t}function n$(e,t,n){let r=1<<e;return!!(n[t+(e>>Ez)]&r)}function r$(e,t){return!(e&Mt.Self)&&!(e&Mt.Host&&t)}var Xd=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Az(this._tNode,this._lView,t,wS(r),n)}};function Zce(){return new Xd(Lo(),kt())}function wl(e){return D_(()=>{let t=e.prototype.constructor,n=t[tS]||UP(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[tS]||UP(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function UP(e){return T$(e)?()=>{let t=UP(ji(e));return t&&t()}:Qd(e)}function Xce(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[tt]&2048&&!(s[tt]&512);){let a=Oz(o,s,n,r|Mt.Self,Wa);if(a!==Wa)return a;let c=o.parent;if(!c){let u=s[K$];if(u){let f=u.get(n,Wa,r);if(f!==Wa)return f}c=Nz(s),s=s[Gm]}o=c}return i}function Nz(e){let t=e[Dt],n=t.type;return n===2?t.declTNode:n===1?e[Po]:null}function i$(e,t=null,n=null,r){let i=Rz(e,t,n,r);return i.resolveInjectorInitializers(),i}function Rz(e,t=null,n=null,r,i=new Set){let o=[n||go,Kae(e)];return r=r||(typeof e=="object"?void 0:$i(e)),new p_(o,t||IS(),r||null,i)}var ko=(()=>{class e{static{this.THROW_IF_NOT_FOUND=d_}static{this.NULL=new iS}static create(n,r){if(Array.isArray(n))return i$({name:""},r,n,"");{let i=n.name??"";return i$({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=Se({token:e,providedIn:"any",factory:()=>$e(k$)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();var Qce="ngOriginalError";function gP(e){return e[Qce]}var Qa=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&gP(t);for(;n&&gP(n);)n=gP(n);return n||null}},Pz=new Le("",{providedIn:"root",factory:()=>ae(Qa).handleError.bind(void 0)}),AS=(()=>{class e{static{this.__NG_ELEMENT_ID__=Kce}static{this.__NG_ENV_ID__=n=>n}}return e})(),jP=class extends AS{constructor(t){super(),this._lView=t}onDestroy(t){return lz(this._lView,t),()=>Dce(this._lView,t)}};function Kce(){return new jP(kt())}function Jce(){return qm(Lo(),kt())}function qm(e,t){return new li(hs(e,t))}var li=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Jce}}return e})();function ele(e){return e instanceof li?e.nativeElement:e}var $P=class extends On{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,Q$()&&(this.destroyRef=ae(AS,{optional:!0})??void 0)}emit(t){let n=Qt(null);try{super.next(t)}finally{Qt(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=yP(o),i&&(i=yP(i)),s&&(s=yP(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof or&&t.add(a),a}};function yP(e){return t=>{setTimeout(e,void 0,t)}}var dr=$P;function tle(){return this._results[Symbol.iterator]()}var zP=class e{get changes(){return this._changes??=new dr}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=tle)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=Oae(t);(this._changesDetected=!Aae(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Lz(e){return(e.flags&128)===128}var kz=new Map,nle=0;function rle(){return nle++}function ile(e){kz.set(e[ES],e)}function ole(e){kz.delete(e[ES])}var o$="__ngContext__";function rh(e,t){Zd(t)?(e[o$]=t[ES],ile(t)):e[o$]=t}function Fz(e){return Vz(e[y_])}function Bz(e){return Vz(e[Ys])}function Vz(e){for(;e!==null&&!xl(e);)e=e[Ys];return e}var HP;function Uz(e){HP=e}function sle(){if(HP!==void 0)return HP;if(typeof document<"u")return document;throw new Ae(210,!1)}var GL=new Le("",{providedIn:"root",factory:()=>ale}),ale="ng",qL=new Le(""),Ks=new Le("",{providedIn:"platform",factory:()=>"unknown"});var WL=new Le("",{providedIn:"root",factory:()=>sle().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cle="h",lle="b";var ule=()=>null;function YL(e,t,n=!1){return ule(e,t,n)}var jz=!1,fle=new Le("",{providedIn:"root",factory:()=>jz});var GP=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lae})`}};function OS(e){return e instanceof GP?e.changingThisBreaksApplicationSecurity:e}function $z(e){return e instanceof Function?e():e}function dle(e){return(e??ae(ko)).get(Ks)==="browser"}var Ka=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ka||{}),hle;function ZL(e,t){return hle(e,t)}function Rm(e,t,n,r,i){if(r!=null){let o,s=!1;xl(r)?o=r:Zd(r)&&(s=!0,r=r[bl]);let a=Xa(r);e===0&&n!==null?i==null?Yz(t,n,a):fS(t,n,a,i||null,!0):e===1&&n!==null?fS(t,n,a,i||null,!0):e===2?Cle(t,a,s):e===3&&t.destroyNode(a),o!=null&&Ale(t,e,o,n,i)}}function ple(e,t){return e.createText(t)}function mle(e,t,n){e.setValue(t,n)}function zz(e,t,n){return e.createElement(t,n)}function gle(e,t){Hz(e,t),t[bl]=null,t[Po]=null}function yle(e,t,n,r,i,o){r[bl]=i,r[Po]=t,NS(e,r,n,1,i,o)}function Hz(e,t){t[Za].changeDetectionScheduler?.notify(1),NS(e,t,t[sr],2,null,null)}function _le(e){let t=e[y_];if(!t)return _P(e[Dt],e);for(;t;){let n=null;if(Zd(t))n=t[y_];else{let r=t[Ro];r&&(n=r)}if(!n){for(;t&&!t[Ys]&&t!==e;)Zd(t)&&_P(t[Dt],t),t=t[si];t===null&&(t=e),Zd(t)&&_P(t[Dt],t),n=t&&t[Ys]}t=n}}function vle(e,t,n,r){let i=Ro+r,o=n.length;r>0&&(n[i-1][Ys]=t),r<o-Ro?(t[Ys]=n[i],L$(n,Ro+r,t)):(n.push(t),t[Ys]=null),t[si]=n;let s=t[E_];s!==null&&n!==s&&ble(s,t);let a=t[gl];a!==null&&a.insertView(e),kP(t),t[tt]|=128}function ble(e,t){let n=e[jm],i=t[si][si][Xs];t[Xs]!==i&&(e[tt]|=RL.HasTransplantedViews),n===null?e[jm]=[t]:n.push(t)}function Gz(e,t){let n=e[jm],r=n.indexOf(t);n.splice(r,1)}function qP(e,t){if(e.length<=Ro)return;let n=Ro+t,r=e[n];if(r){let i=r[E_];i!==null&&i!==e&&Gz(i,r),t>0&&(e[n-1][Ys]=r[Ys]);let o=rS(e,Ro+t);gle(r[Dt],r);let s=o[gl];s!==null&&s.detachView(o[Dt]),r[si]=null,r[Ys]=null,r[tt]&=-129}return r}function qz(e,t){if(!(t[tt]&256)){let n=t[sr];n.destroyNode&&NS(e,t,n,3,null,null),_le(t)}}function _P(e,t){if(t[tt]&256)return;let n=Qt(null);try{t[tt]&=-129,t[tt]|=256,t[Kd]&&_j(t[Kd]),wle(e,t),xle(e,t),t[Dt].type===1&&t[sr].destroy();let r=t[E_];if(r!==null&&xl(t[si])){r!==t[si]&&Gz(r,t);let i=t[gl];i!==null&&i.detachView(e)}ole(t)}finally{Qt(n)}}function xle(e,t){let n=e.cleanup,r=t[g_];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(t[g_]=null);let i=t[uf];if(i!==null){t[uf]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function wle(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof th)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];qa(4,a,c);try{c.call(a)}finally{qa(5,a,c)}}else{qa(4,i,o);try{o.call(i)}finally{qa(5,i,o)}}}}}function Wz(e,t,n){return Dle(e,t.parent,n)}function Dle(e,t,n){let r=t;for(;r!==null&&r.type&40;)t=r,r=t.parent;if(r===null)return n[bl];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===Ya.None||o===Ya.Emulated)return null}return hs(r,n)}}function fS(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Yz(e,t,n){e.appendChild(t,n)}function s$(e,t,n,r,i){r!==null?fS(e,t,n,r,i):Yz(e,t,n)}function Sle(e,t,n,r){e.removeChild(t,n,r)}function XL(e,t){return e.parentNode(t)}function Ile(e,t){return e.nextSibling(t)}function Zz(e,t,n){return Tle(e,t,n)}function Ele(e,t,n){return e.type&40?hs(e,n):null}var Tle=Ele,a$;function QL(e,t,n,r){let i=Wz(e,r,t),o=t[sr],s=r.parent||t[Po],a=Zz(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)s$(o,i,n[c],a,!1);else s$(o,i,n,a,!1);a$!==void 0&&a$(o,r,t,n,i)}function JD(e,t){if(t!==null){let n=t.type;if(n&3)return hs(t,e);if(n&4)return WP(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return JD(e,r);{let i=e[t.index];return xl(i)?WP(-1,i):Xa(i)}}else{if(n&32)return ZL(t,e)()||Xa(e[t.index]);{let r=Xz(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=v_(e[Xs]);return JD(i,r)}else return JD(e,t.next)}}}return null}function Xz(e,t){if(t!==null){let r=e[Xs][Po],i=t.projection;return r.projection[i]}return null}function WP(e,t){let n=Ro+e+1;if(n<t.length){let r=t[n],i=r[Dt].firstChild;if(i!==null)return JD(r,i)}return t[Jd]}function Cle(e,t,n){let r=XL(e,t);r&&Sle(e,r,t,n)}function KL(e,t,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&t===0&&(a&&rh(Xa(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)KL(e,t,n.child,r,i,o,!1),Rm(t,e,i,a,o);else if(c&32){let u=ZL(n,r),f;for(;f=u();)Rm(t,e,i,f,o);Rm(t,e,i,a,o)}else c&16?Qz(e,t,r,n,i,o):Rm(t,e,i,a,o);n=s?n.projectionNext:n.next}}function NS(e,t,n,r,i,o){KL(n,r,e.firstChild,t,i,o,!1)}function Mle(e,t,n){let r=t[sr],i=Wz(e,n,t),o=n.parent||t[Po],s=Zz(o,n,t);Qz(r,0,t,n,i,s)}function Qz(e,t,n,r,i,o){let s=n[Xs],c=s[Po].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let f=c[u];Rm(t,e,i,f,o)}else{let u=c,f=s[si];Lz(r)&&(u.flags|=128),KL(e,t,u,f,i,o,!0)}}function Ale(e,t,n,r,i){let o=n[Jd],s=Xa(n);o!==s&&Rm(t,e,r,o,i);for(let a=Ro;a<n.length;a++){let c=n[a];NS(c[Dt],c,e,t,r,o)}}function Ole(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ka.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ka.Important),e.setStyle(n,r,i,o))}}function Nle(e,t,n){e.setAttribute(t,"style",n)}function Kz(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Jz(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&OP(e,t,r),i!==null&&Kz(e,t,i),o!==null&&Nle(e,t,o)}var Dl={};function lt(e=1){e7(jr(),kt(),ch()+e,!1)}function e7(e,t,n,r){if(!r)if((t[tt]&3)===3){let o=e.preOrderCheckHooks;o!==null&&XD(t,o,n)}else{let o=e.preOrderHooks;o!==null&&QD(t,o,0,n)}eh(n)}function ut(e,t=Mt.Default){let n=kt();if(n===null)return $e(e,t);let r=Lo();return Az(r,n,ji(e),t)}function t7(){let e="invalid";throw new Error(e)}function n7(e,t,n,r,i,o){let s=Qt(null);try{let a=null;i&zi.SignalBased&&(a=t[r][zR]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&zi.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,r):tz(t,a,r,o)}finally{Qt(s)}}function Rle(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)eh(~i);else{let o=i,s=n[++r],a=n[++r];Nce(s,o);let c=t[o];a(2,c)}}}finally{eh(-1)}}function RS(e,t,n,r,i,o,s,a,c,u,f){let h=t.blueprint.slice();return h[bl]=i,h[tt]=r|4|128|8|64,(u!==null||e&&e[tt]&2048)&&(h[tt]|=2048),cz(h),h[si]=h[Gm]=e,h[Zs]=n,h[Za]=s||e&&e[Za],h[sr]=a||e&&e[sr],h[Um]=c||e&&e[Um]||null,h[Po]=o,h[ES]=rle(),h[m_]=f,h[K$]=u,h[Xs]=t.type==2?e[Xs]:h,h}function C_(e,t,n,r,i){let o=e.data[t];if(o===null)o=Ple(e,t,n,r,i),Oce()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Mce();o.injectorIndex=s===null?-1:s.injectorIndex}return T_(o,!0),o}function Ple(e,t,n,r,i){let o=dz(),s=hz(),a=s?o:o&&o.parent,c=e.data[t]=Ule(e,a,n,t,r,i);return e.firstChild===null&&(e.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function r7(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function i7(e,t,n,r,i){let o=ch(),s=r&2;try{eh(-1),s&&t.length>ds&&e7(e,t,ds,!1),qa(s?2:0,i),n(r,i)}finally{eh(o),qa(s?3:1,i)}}function o7(e,t,n){if(ez(t)){let r=Qt(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Qt(r)}}}function s7(e,t,n){uz()&&(qle(e,t,n,hs(n,t)),(n.flags&64)===64&&d7(e,t,n))}function a7(e,t,n=hs){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function c7(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=JL(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function JL(e,t,n,r,i,o,s,a,c,u,f){let h=ds+r,p=h+i,m=Lle(h,p),y=typeof u=="function"?u():u;return m[Dt]={type:e,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:f}}function Lle(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Dl);return n}function kle(e,t,n,r){let o=r.get(fle,jz)||n===Ya.ShadowDom,s=e.selectRootElement(t,o);return Fle(s),s}function Fle(e){Ble(e)}var Ble=()=>null;function Vle(e,t,n,r){let i=m7(t);i.push(n),e.firstCreatePass&&g7(e).push(r,i.length-1)}function Ule(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return fz()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function c$(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,c=zi.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}e===0?l$(r,n,u,a,c):l$(r,n,u,a)}return r}function l$(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],i!==void 0&&o.push(i)}function jle(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],c=null,u=null;for(let f=r;f<i;f++){let h=o[f],p=n?n.get(h):null,m=p?p.inputs:null,y=p?p.outputs:null;c=c$(0,h.inputs,f,c,m),u=c$(1,h.outputs,f,u,y);let v=c!==null&&s!==null&&!OL(t)?rue(c,f,s):null;a.push(v)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=u}function $le(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function l7(e,t,n,r,i,o,s,a){let c=hs(t,n),u=t.inputs,f;!a&&u!=null&&(f=u[r])?(ek(e,n,f,r,i),TS(t)&&zle(n,t.index)):t.type&3?(r=$le(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(c,r,i)):t.type&12}function zle(e,t){let n=hf(t,e);n[tt]&16||(n[tt]|=64)}function u7(e,t,n,r){if(uz()){let i=r===null?null:{"":-1},o=Yle(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&f7(e,t,n,s,i,a),i&&Zle(n,r,i)}n.mergedAttrs=h_(n.mergedAttrs,n.attrs)}function f7(e,t,n,r,i,o){for(let u=0;u<r.length;u++)VP(uS(n,t),e,r[u].type);Qle(n,e.data.length,r.length);for(let u=0;u<r.length;u++){let f=r[u];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,c=r7(e,t,r.length,null);for(let u=0;u<r.length;u++){let f=r[u];n.mergedAttrs=h_(n.mergedAttrs,f.hostAttrs),Kle(e,n,t,c,f),Xle(c,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let h=f.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}jle(e,n,o)}function Hle(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;Gle(s)!=a&&s.push(a),s.push(n,r,o)}}function Gle(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function qle(e,t,n,r){let i=n.directiveStart,o=n.directiveEnd;TS(n)&&Jle(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||uS(n,t),rh(r,t);let s=n.initialInputs;for(let a=i;a<o;a++){let c=e.data[a],u=nh(t,e,a,n);if(rh(u,t),s!==null&&nue(t,a-i,u,c,n,s),ff(c)){let f=hf(n.index,t);f[Zs]=nh(t,e,a,n)}}}function d7(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Rce();try{eh(o);for(let a=r;a<i;a++){let c=e.data[a],u=t[a];FP(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Wle(c,u)}}finally{eh(-1),FP(s)}}function Wle(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Yle(e,t){let n=e.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(U$(t,s.selectors,!1))if(r||(r=[]),ff(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;YP(e,t,c)}else r.unshift(s),YP(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function YP(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Zle(e,t,n){if(t){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new Ae(-301,!1);r.push(t[i],o)}}}function Xle(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ff(t)&&(n[""]=e)}}function Qle(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Kle(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Qd(i.type,!0)),s=new th(o,ff(i),ut);e.blueprint[r]=s,n[r]=s,Hle(e,t,r,r7(e,n,i.hostVars,Dl),i)}function Jle(e,t,n){let r=hs(t,e),i=c7(n),o=e[Za].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=PS(e,RS(e,i,null,s,r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=a}function eue(e,t,n,r,i,o){let s=hs(e,t);tue(t[sr],s,o,e.value,n,r,i)}function tue(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?TL(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function nue(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],f=s[a++],h=s[a++];n7(r,n,c,u,f,h)}}function rue(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function h7(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function p7(e,t){let n=e.contentQueries;if(n!==null){let r=Qt(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];FL(o),a.contentQueries(2,t[s],s)}}}finally{Qt(r)}}}function PS(e,t){return e[y_]?e[Jj][Ys]=t:e[y_]=t,e[Jj]=t,t}function ZP(e,t,n){FL(0);let r=Qt(null);try{t(e,n)}finally{Qt(r)}}function m7(e){return e[g_]||(e[g_]=[])}function g7(e){return e.cleanup||(e.cleanup=[])}function y7(e,t){let n=e[Um],r=n?n.get(Qa,null):null;r&&r.handleError(t)}function ek(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=t[s],f=e.data[s];n7(f,u,r,a,c,i)}}function iue(e,t,n){let r=oz(t,e);mle(e[sr],r,n)}function oue(e,t){let n=hf(t,e),r=n[Dt];sue(r,n);let i=n[bl];i!==null&&n[m_]===null&&(n[m_]=YL(i,n[Um])),tk(r,n,n[Zs])}function sue(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function tk(e,t,n){BL(t);try{let r=e.viewQuery;r!==null&&ZP(1,r,n);let i=e.template;i!==null&&i7(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[gl]?.finishViewCreation(e),e.staticContentQueries&&p7(e,t),e.staticViewQueries&&ZP(2,e.viewQuery,n);let o=e.components;o!==null&&aue(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[tt]&=-5,VL()}}function aue(e,t){for(let n=0;n<t.length;n++)oue(e,t[n])}function cue(e,t,n,r){let i=Qt(null);try{let o=t.tView,a=e[tt]&4096?4096:16,c=RS(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[E_]=u;let f=e[gl];return f!==null&&(c[gl]=f.createEmbeddedView(o)),tk(o,c,n),c}finally{Qt(i)}}function u$(e,t){return!t||t.firstChild===null||Lz(e)}function lue(e,t,n,r=!0){let i=t[Dt];if(vle(i,t,e,n),r){let s=WP(n,e),a=t[sr],c=XL(a,e[Jd]);c!==null&&yle(i,e[Po],a,t,c,s)}let o=t[m_];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function dS(e,t,n,r,i=!1){for(;n!==null;){let o=t[n.index];o!==null&&r.push(Xa(o)),xl(o)&&uue(o,r);let s=n.type;if(s&8)dS(e,t,n.child,r);else if(s&32){let a=ZL(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Xz(t,n);if(Array.isArray(a))r.push(...a);else{let c=v_(t[Xs]);dS(c[Dt],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function uue(e,t){for(let n=Ro;n<e.length;n++){let r=e[n],i=r[Dt].firstChild;i!==null&&dS(r[Dt],r,i,t)}e[Jd]!==e[bl]&&t.push(e[Jd])}var _7=[];function fue(e){return e[Kd]??due(e)}function due(e){let t=_7.pop()??Object.create(pue);return t.lView=e,t}function hue(e){e.lView[Kd]!==e&&(e.lView=null,_7.push(e))}var pue=V(E({},mj),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{__(e.lView)},consumerOnSignalRead(){this.lView[Kd]=this}}),v7=100;function b7(e,t=!0,n=0){let r=e[Za],i=r.rendererFactory,o=!1;o||i.begin?.();try{mue(e,n)}catch(s){throw t&&y7(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function mue(e,t){XP(e,t);let n=0;for(;kL(e);){if(n===v7)throw new Ae(103,!1);n++,XP(e,1)}}function gue(e,t,n,r){let i=t[tt];if((i&256)===256)return;let o=!1;!o&&t[Za].inlineEffectRunner?.flush(),BL(t);let s=null,a=null;!o&&yue(e)&&(a=fue(t),s=gj(a));try{cz(t),Ace(e.bindingStartIndex),n!==null&&i7(e,t,n,2,r);let c=(i&3)===3;if(!o)if(c){let h=e.preOrderCheckHooks;h!==null&&XD(t,h,null)}else{let h=e.preOrderHooks;h!==null&&QD(t,h,0,null),pP(t,0)}if(_ue(t),x7(t,0),e.contentQueries!==null&&p7(e,t),!o)if(c){let h=e.contentCheckHooks;h!==null&&XD(t,h)}else{let h=e.contentHooks;h!==null&&QD(t,h,1),pP(t,1)}Rle(e,t);let u=e.components;u!==null&&D7(t,u,0);let f=e.viewQuery;if(f!==null&&ZP(2,f,r),!o)if(c){let h=e.viewCheckHooks;h!==null&&XD(t,h)}else{let h=e.viewHooks;h!==null&&QD(t,h,2),pP(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[hP]){for(let h of t[hP])h();t[hP]=null}o||(t[tt]&=-73)}catch(c){throw __(t),c}finally{a!==null&&(yj(a,s),hue(a)),VL()}}function yue(e){return e.type!==2}function x7(e,t){for(let n=Fz(e);n!==null;n=Bz(n))for(let r=Ro;r<n.length;r++){let i=n[r];w7(i,t)}}function _ue(e){for(let t=Fz(e);t!==null;t=Bz(t)){if(!(t[tt]&RL.HasTransplantedViews))continue;let n=t[jm];for(let r=0;r<n.length;r++){let i=n[r],o=i[si];xce(i)}}}function vue(e,t,n){let r=hf(t,e);w7(r,n)}function w7(e,t){LL(e)&&XP(e,t)}function XP(e,t){let r=e[Dt],i=e[tt],o=e[Kd],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&HR(o)),o&&(o.dirty=!1),e[tt]&=-9217,s)gue(r,e,r.template,e[Zs]);else if(i&8192){x7(e,1);let a=r.components;a!==null&&D7(e,a,1)}}function D7(e,t,n){for(let r=0;r<t.length;r++)vue(e,t[r],n)}function nk(e){for(e[Za].changeDetectionScheduler?.notify();e;){e[tt]|=64;let t=v_(e);if(fce(e)&&!t)return e;e=t}return null}var ih=class{get rootNodes(){let t=this._lView,n=t[Dt];return dS(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zs]}set context(t){this._lView[Zs]=t}get destroyed(){return(this._lView[tt]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[si];if(xl(t)){let n=t[oS],r=n?n.indexOf(this):-1;r>-1&&(qP(t,r),rS(n,r))}this._attachedToViewContainer=!1}qz(this._lView[Dt],this._lView)}onDestroy(t){lz(this._lView,t)}markForCheck(){nk(this._cdRefInjectingView||this._lView)}detach(){this._lView[tt]&=-129}reattach(){kP(this._lView),this._lView[tt]|=128}detectChanges(){this._lView[tt]|=1024,b7(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Hz(this._lView[Dt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=t,kP(this._lView)}},yl=(()=>{class e{static{this.__NG_ELEMENT_ID__=wue}}return e})(),bue=yl,xue=class extends bue{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=cue(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new ih(i)}};function wue(){return rk(Lo(),kt())}function rk(e,t){return e.type&4?new xue(t,e,qm(e,t)):null}var X6e=new RegExp(`^(\\d+)*(${lle}|${cle})*(.*)`);var Due=()=>null;function f$(e,t){return Due(e,t)}var hS=class{},QP=class{},pS=class{};function Sue(e){let t=Error(`No component factory found for ${$i(e)}.`);return t[Iue]=e,t}var Iue="ngComponent";var KP=class{resolveComponentFactory(t){throw Sue(t)}},LS=(()=>{class e{static{this.NULL=new KP}}return e})(),b_=class{},ec=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Eue()}}return e})();function Eue(){let e=kt(),t=Lo(),n=hf(t.index,e);return(Zd(n)?n:e)[sr]}var Tue=(()=>{class e{static{this.\u0275prov=Se({token:e,providedIn:"root",factory:()=>null})}}return e})(),vP={};var d$=new Set;function kS(e){d$.has(e)||(d$.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function h$(...e){}function Cue(){let e=typeof pl.requestAnimationFrame=="function",t=pl[e?"requestAnimationFrame":"setTimeout"],n=pl[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}var dn=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new dr(!1),this.onMicrotaskEmpty=new dr(!1),this.onStable=new dr(!1),this.onError=new dr(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Cue().nativeRequestAnimationFrame,Oue(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new Ae(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,Mue,h$,h$);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},Mue={};function ik(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Aue(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(pl,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,JP(e),e.isCheckStableRunning=!0,ik(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),JP(e))}function Oue(e){let t=()=>{Aue(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(Nue(a))return n.invokeTask(i,o,s,a);try{return p$(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),m$(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return p$(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),m$(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,JP(e),ik(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function JP(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function p$(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function m$(e){e._nesting--,ik(e)}function Nue(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var Pm=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Pm||{}),Rue={destroy(){}};function FS(e,t){!t&&lce(FS);let n=t?.injector??ae(ko);if(!dle(n))return Rue;kS("NgAfterNextRender");let r=n.get(ok),i=r.handler??=new tL,o=t?.phase??Pm.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(AS).onDestroy(s),c=Qs(n,()=>new eL(o,()=>{s(),e()}));return i.register(c),{destroy:s}}var eL=class{constructor(t,n){this.phase=t,this.callbackFn=n,this.zone=ae(dn),this.errorHandler=ae(Qa,{optional:!0}),ae(hS,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}},tL=class{constructor(){this.executingCallbacks=!1,this.buckets={[Pm.EarlyRead]:new Set,[Pm.Write]:new Set,[Pm.MixedReadWrite]:new Set,[Pm.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let n of t)n.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},ok=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Se({token:e,providedIn:"root",factory:()=>new e})}}return e})();function nL(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=TP(i,a);else if(o==2){let c=a,u=t[++s];r=TP(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var mS=class extends LS{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=ml(t);return new oh(n,this.ngModule)}};function g$(e){let t=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let r=e[n];r!==void 0&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}function Pue(e){let t=e.toLowerCase();return t==="svg"?mce:t==="math"?gce:null}var rL=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=wS(r);let i=this.injector.get(t,vP,r);return i!==vP||n===vP?i:this.parentInjector.get(t,n,r)}},oh=class extends pS{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=g$(t.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return g$(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Wae(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=Qt(null);try{i=i||this.ngModule;let s=i instanceof Tr?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new rL(t,s):t,c=a.get(b_,null);if(c===null)throw new Ae(407,!1);let u=a.get(Tue,null),f=a.get(ok,null),h=a.get(hS,null),p={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:h},m=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",v=r?kle(m,r,this.componentDef.encapsulation,a):zz(m,y,Pue(y)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let x=null;v!==null&&(x=YL(v,a,!0));let w=JL(0,null,null,1,0,null,null,null,null,null,null),D=RS(null,w,null,b,null,null,p,m,a,null,x);BL(D);let I,A;try{let T=this.componentDef,N,B=null;T.findHostDirectiveDefs?(N=[],B=new Map,T.findHostDirectiveDefs(T,N,B),N.push(T)):N=[T];let R=Lue(D,v),P=kue(R,v,T,N,D,p,m);A=sz(w,ds),v&&Vue(m,T,v,r),n!==void 0&&Uue(A,this.ngContentSelectors,n),I=Bue(P,T,N,B,D,[jue]),tk(w,D,null)}finally{VL()}return new iL(this.componentType,I,qm(A,D),D,A)}finally{Qt(o)}}},iL=class extends QP{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ih(i,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;ek(o[Dt],o,i,t,n),this.previousInputValues.set(t,n);let s=hf(this._tNode.index,o);nk(s)}}get injector(){return new Xd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Lue(e,t){let n=e[Dt],r=ds;return e[r]=t,C_(n,r,2,"#host",null)}function kue(e,t,n,r,i,o,s){let a=i[Dt];Fue(r,e,t,s);let c=null;t!==null&&(c=YL(t,i[Um]));let u=o.rendererFactory.createRenderer(t,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let h=RS(i,c7(n),null,f,i[e.index],e,o,u,null,null,c);return a.firstCreatePass&&YP(a,e,r.length-1),PS(i,h),i[e.index]=h}function Fue(e,t,n,r){for(let i of e)t.mergedAttrs=h_(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(nL(t,t.mergedAttrs,!0),n!==null&&Jz(r,n,t))}function Bue(e,t,n,r,i,o){let s=Lo(),a=i[Dt],c=hs(s,i);f7(a,i,s,n,null,r);for(let f=0;f<n.length;f++){let h=s.directiveStart+f,p=nh(i,a,h,s);rh(p,i)}d7(a,i,s),c&&rh(c,i);let u=nh(i,a,s.directiveStart+s.componentOffset,s);if(e[Zs]=i[Zs]=u,o!==null)for(let f of o)f(u,t);return o7(a,s,i),u}function Vue(e,t,n,r){if(r)OP(e,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=Yae(t.selectors[0]);i&&OP(e,n,i),o&&o.length>0&&Kz(e,n,o.join(" "))}}function Uue(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function jue(){let e=Lo();zL(kt()[Dt],e)}var Sl=(()=>{class e{static{this.__NG_ELEMENT_ID__=$ue}}return e})();function $ue(){let e=Lo();return I7(e,kt())}var zue=Sl,S7=class extends zue{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return qm(this._hostTNode,this._hostLView)}get injector(){return new Xd(this._hostTNode,this._hostLView)}get parentInjector(){let t=HL(this._hostTNode,this._hostLView);if(Sz(t)){let n=cS(t,this._hostLView),r=aS(t),i=n[Dt].data[r+8];return new Xd(i,n)}else return new Xd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=y$(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Ro}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=f$(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,u$(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!uce(t),a;if(s)a=n;else{let y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let c=s?t:new oh(ml(t)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let v=(s?u:this.parentInjector).get(Tr,null);v&&(o=v)}let f=ml(c.componentType??{}),h=f$(this._lContainer,f?.id??null),p=h?.firstChild??null,m=c.create(u,i,p,o);return this.insertImpl(m.hostView,a,u$(this._hostTNode,h)),m}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(bce(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[si],u=new S7(c,c[Po],c[si]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return lue(s,i,o,r),t.attachToViewContainerRef(),L$(bP(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=y$(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=qP(this._lContainer,n);r&&(rS(bP(this._lContainer),n),qz(r[Dt],r))}detach(t){let n=this._adjustIndex(t,-1),r=qP(this._lContainer,n);return r&&rS(bP(this._lContainer),n)!=null?new ih(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function y$(e){return e[oS]}function bP(e){return e[oS]||(e[oS]=[])}function I7(e,t){let n,r=t[e.index];return xl(r)?n=r:(n=h7(r,t,null,e),t[e.index]=n,PS(t,n)),Gue(n,t,e,r),new S7(n,e,t)}function Hue(e,t){let n=e[sr],r=n.createComment(""),i=hs(t,e),o=XL(n,i);return fS(n,o,r,Ile(n,i),!1),r}var Gue=Yue,que=()=>!1;function Wue(e,t,n){return que(e,t,n)}function Yue(e,t,n,r){if(e[Jd])return;let i;n.type&8?i=Xa(r):i=Hue(t,n),e[Jd]=i}var oL=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},sL=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)sk(t,n).matches!==null&&this.queries[n].setDirty()}},aL=class{constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=nfe(t):this.predicate=t}},cL=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},lL=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,Zue(n,o)),this.matchTNodeWithReadOption(t,n,KD(n,t,o,!1,!1))}else r===yl?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,KD(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===li||i===Sl||i===yl&&n.type&4)this.addMatch(n.index,-2);else{let o=KD(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function Zue(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function Xue(e,t){return e.type&11?qm(e,t):e.type&4?rk(e,t):null}function Que(e,t,n,r){return n===-1?Xue(t,e):n===-2?Kue(e,t,r):nh(e,e[Dt],n,t)}function Kue(e,t,n){if(n===li)return qm(t,e);if(n===yl)return rk(t,e);if(n===Sl)return I7(t,e)}function E7(e,t,n,r){let i=t[gl].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let f=o[u];a.push(Que(t,f,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function uL(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=E7(e,t,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],f=t[-c];for(let h=Ro;h<f.length;h++){let p=f[h];p[E_]===p[si]&&uL(p[Dt],p,u,r)}if(f[jm]!==null){let h=f[jm];for(let p=0;p<h.length;p++){let m=h[p];uL(m[Dt],m,u,r)}}}}}return r}function Jue(e,t){return e[gl].queries[t].queryList}function efe(e,t,n){let r=new zP((n&4)===4);return Vle(e,t,r,r.destroy),(t[gl]??=new sL).queries.push(new oL(r))-1}function tfe(e,t,n){let r=jr();return r.firstCreatePass&&(rfe(r,new aL(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),efe(r,kt(),t)}function nfe(e){return e.split(",").map(t=>t.trim())}function rfe(e,t,n){e.queries===null&&(e.queries=new cL),e.queries.track(new lL(t,n))}function sk(e,t){return e.queries.getByIndex(t)}function ife(e,t){let n=e[Dt],r=sk(n,t);return r.crossesNgTemplate?uL(n,e,t,[]):E7(n,e,r,t)}function ofe(e){return typeof e=="function"&&e[zR]!==void 0}function T7(e){return ofe(e)&&typeof e.set=="function"}function sfe(e){return Object.getPrototypeOf(e.prototype).constructor}function ps(e){let t=sfe(e.type),n=!0,r=[e];for(;t;){let i;if(ff(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ae(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=WD(e.inputs),s.inputTransforms=WD(e.inputTransforms),s.declaredInputs=WD(e.declaredInputs),s.outputs=WD(e.outputs);let a=i.hostBindings;a&&ffe(e,a);let c=i.viewQuery,u=i.contentQueries;if(c&&lfe(e,c),u&&ufe(e,u),afe(e,i),fae(e.outputs,i.outputs),ff(i)&&i.data.animation){let f=e.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===ps&&(n=!1)}}t=Object.getPrototypeOf(t)}cfe(r)}function afe(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];if(r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function cfe(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=h_(i.hostAttrs,n=h_(n,i.hostAttrs))}}function WD(e){return e===Fm?{}:e===go?[]:e}function lfe(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function ufe(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function ffe(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}var df=class{},x_=class{};var fL=class extends df{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mS(this);let i=H$(t);this._bootstrapComponents=$z(i.bootstrap),this._r3Injector=Rz(t,n,[{provide:df,useValue:this},{provide:LS,useValue:this.componentFactoryResolver},...r],$i(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},dL=class extends x_{constructor(t){super(),this.moduleType=t}create(t){return new fL(this.moduleType,t,[])}};var gS=class extends df{constructor(t){super(),this.componentFactoryResolver=new mS(this),this.instance=null;let n=new p_([...t.providers,{provide:df,useValue:this},{provide:LS,useValue:this.componentFactoryResolver}],t.parent||IS(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function BS(e,t,n=null){return new gS({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Wm=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ur(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function C7(e){return ak(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function dfe(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function ak(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function M7(e,t,n){return e[t]=n}function _l(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function hfe(e,t,n,r){let i=_l(e,t,n);return _l(e,t+1,r)||i}function pfe(e){return(e.flags&32)===32}function mfe(e,t,n,r,i,o,s,a,c){let u=t.consts,f=C_(t,e,4,s||null,sS(u,a));u7(t,n,f,sS(u,c)),zL(t,f);let h=f.tView=JL(2,f,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return t.queries!==null&&(t.queries.template(t,f),h.queries=t.queries.embeddedTView(f)),f}function Js(e,t,n,r,i,o,s,a){let c=kt(),u=jr(),f=e+ds,h=u.firstCreatePass?mfe(f,u,c,t,n,r,i,o,s):u.data[f];T_(h,!1);let p=gfe(u,c,h,e);jL()&&QL(u,c,p,h),rh(p,c);let m=h7(p,c,p,h);return c[f]=m,PS(c,m),Wue(m,h,c),PL(h)&&s7(u,c,h),s!=null&&a7(c,h,a),Js}var gfe=yfe;function yfe(e,t,n,r){return $L(!0),t[sr].createComment("")}function M_(e,t,n,r){let i=kt(),o=MS();if(_l(i,o,t)){let s=jr(),a=UL();eue(a,i,e,t,n,r)}return M_}function _fe(e,t,n,r){return _l(e,MS(),n)?t+TL(n)+r:Dl}function YD(e,t){return e<<17|t<<2}function sh(e){return e>>17&32767}function vfe(e){return(e&2)==2}function bfe(e,t){return e&131071|t<<17}function hL(e){return e|2}function $m(e){return(e&131068)>>2}function xP(e,t){return e&-131069|t<<2}function xfe(e){return(e&1)===1}function pL(e){return e|1}function wfe(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=sh(s),c=$m(s);e[r]=n;let u=!1,f;if(Array.isArray(n)){let h=n;f=h[1],(f===null||I_(h,f)>0)&&(u=!0)}else f=n;if(i)if(c!==0){let p=sh(e[a+1]);e[r+1]=YD(p,a),p!==0&&(e[p+1]=xP(e[p+1],r)),e[a+1]=bfe(e[a+1],r)}else e[r+1]=YD(a,0),a!==0&&(e[a+1]=xP(e[a+1],r)),a=r;else e[r+1]=YD(c,0),a===0?a=r:e[c+1]=xP(e[c+1],r),c=r;u&&(e[r+1]=hL(e[r+1])),_$(e,f,r,!0),_$(e,f,r,!1),Dfe(t,f,e,r,o),s=YD(a,c),o?t.classBindings=s:t.styleBindings=s}function Dfe(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&I_(o,t)>=0&&(n[r+1]=pL(n[r+1]))}function _$(e,t,n,r){let i=e[n+1],o=t===null,s=r?sh(i):$m(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],u=e[s+1];Sfe(c,t)&&(a=!0,e[s+1]=r?pL(u):hL(u)),s=r?sh(u):$m(u)}a&&(e[n+1]=r?hL(i):pL(i))}function Sfe(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?I_(e,t)>=0:!1}var Ws={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ife(e){return e.substring(Ws.key,Ws.keyEnd)}function Efe(e){return Tfe(e),A7(e,O7(e,0,Ws.textEnd))}function A7(e,t){let n=Ws.textEnd;return n===t?-1:(t=Ws.keyEnd=Cfe(e,Ws.key=t,n),O7(e,t,n))}function Tfe(e){Ws.key=0,Ws.keyEnd=0,Ws.value=0,Ws.valueEnd=0,Ws.textEnd=e.length}function O7(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Cfe(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function zn(e,t,n){let r=kt(),i=MS();if(_l(r,i,t)){let o=jr(),s=UL();l7(o,s,r,e,t,r[sr],n,!1)}return zn}function mL(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";ek(e,n,o[s],s,r)}function ea(e,t){return Afe(e,t,null,!0),ea}function VS(e){Ofe(Ffe,Mfe,e,!0)}function Mfe(e,t){for(let n=Efe(t);n>=0;n=A7(t,n))AL(e,Ife(t),!0)}function Afe(e,t,n,r){let i=kt(),o=jr(),s=mz(2);if(o.firstUpdatePass&&R7(o,e,s,r),t!==Dl&&_l(i,s,t)){let a=o.data[ch()];P7(o,a,i,i[sr],e,i[s+1]=Vfe(t,n),r,s)}}function Ofe(e,t,n,r){let i=jr(),o=mz(2);i.firstUpdatePass&&R7(i,null,o,r);let s=kt();if(n!==Dl&&_l(s,o,n)){let a=i.data[ch()];if(L7(a,r)&&!N7(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=TP(c,n||"")),mL(i,a,s,n,r)}else Bfe(i,a,s,s[sr],s[o+1],s[o+1]=kfe(e,t,n),r,o)}}function N7(e,t){return t>=e.expandoStartIndex}function R7(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[ch()],s=N7(e,n);L7(o,r)&&t===null&&!s&&(t=!1),t=Nfe(i,o,t,r),wfe(i,o,t,n,s,r)}}function Nfe(e,t,n,r){let i=Pce(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=wP(null,e,t,n,r),n=w_(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=wP(i,e,t,n,r),o===null){let c=Rfe(e,t,r);c!==void 0&&Array.isArray(c)&&(c=wP(null,e,t,c[1],r),c=w_(c,t.attrs,r),Pfe(e,t,r,c))}else o=Lfe(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function Rfe(e,t,n){let r=n?t.classBindings:t.styleBindings;if($m(r)!==0)return e[sh(r)]}function Pfe(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[sh(i)]=r}function Lfe(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=w_(r,s,n)}return w_(r,t.attrs,n)}function wP(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=w_(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function w_(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),AL(e,s,n?!0:t[++o]))}return e===void 0?null:e}function kfe(e,t,n){if(n==null||n==="")return go;let r=[],i=OS(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function Ffe(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&AL(e,r,n)}function Bfe(e,t,n,r,i,o,s,a){i===Dl&&(i=go);let c=0,u=0,f=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;f!==null||h!==null;){let p=c<i.length?i[c+1]:void 0,m=u<o.length?o[u+1]:void 0,y=null,v;f===h?(c+=2,u+=2,p!==m&&(y=h,v=m)):h===null||f!==null&&f<h?(c+=2,y=f):(u+=2,y=h,v=m),y!==null&&P7(e,t,n,r,y,v,s,a),f=c<i.length?i[c]:null,h=u<o.length?o[u]:null}}function P7(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,u=c[a+1],f=xfe(u)?v$(c,t,n,i,$m(u),s):void 0;if(!yS(f)){yS(o)||vfe(u)&&(o=v$(c,null,n,i,a,s));let h=oz(ch(),n);Ole(r,s,h,i,o)}}function v$(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],u=Array.isArray(c),f=u?c[1]:c,h=f===null,p=n[i+1];p===Dl&&(p=h?go:void 0);let m=h?fP(p,r):f===r?p:void 0;if(u&&!yS(m)&&(m=fP(c,r)),yS(m)&&(a=m,s))return a;let y=e[i+1];i=s?sh(y):$m(y)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=fP(c,r))}return a}function yS(e){return e!==void 0}function Vfe(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=$i(OS(e)))),e}function L7(e,t){return(e.flags&(t?8:16))!==0}function Ufe(e,t,n,r,i,o){let s=t.consts,a=sS(s,i),c=C_(t,e,2,r,a);return u7(t,n,c,sS(s,o)),c.attrs!==null&&nL(c,c.attrs,!1),c.mergedAttrs!==null&&nL(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Ie(e,t,n,r){let i=kt(),o=jr(),s=ds+e,a=i[sr],c=o.firstCreatePass?Ufe(s,o,i,t,n,r):o.data[s],u=jfe(o,i,c,a,t,e);i[s]=u;let f=PL(c);return T_(c,!0),Jz(a,u,c),!pfe(c)&&jL()&&QL(o,i,u,c),Sce()===0&&rh(u,i),Ice(),f&&(s7(o,i,c),o7(o,c,i)),r!==null&&a7(i,c),Ie}function Me(){let e=Lo();hz()?pz():(e=e.parent,T_(e,!1));let t=e;Tce(t)&&Cce(),Ece();let n=jr();return n.firstCreatePass&&(zL(n,e),ez(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&jce(t)&&mL(n,t,kt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&$ce(t)&&mL(n,t,kt(),t.stylesWithoutHost,!1),Me}function ms(e,t,n,r){return Ie(e,t,n,r),Me(),ms}var jfe=(e,t,n,r,i,o)=>($L(!0),zz(r,i,Fce()));function lh(){return kt()}var Yd=void 0;function $fe(e){let t=e,n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var zfe=["en",[["a","p"],["AM","PM"],Yd],[["AM","PM"],Yd,Yd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yd,"{1} 'at' {0}",Yd],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",$fe],DP={};function ck(e){let t=Hfe(e),n=b$(t);if(n)return n;let r=t.split("-")[0];if(n=b$(r),n)return n;if(r==="en")return zfe;throw new Ae(701,!1)}function b$(e){return e in DP||(DP[e]=pl.ng&&pl.ng.common&&pl.ng.common.locales&&pl.ng.common.locales[e]),DP[e]}var Ym=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ym||{});function Hfe(e){return e.toLowerCase().replace(/_/g,"-")}var _S="en-US";var Gfe=_S;function qfe(e){typeof e=="string"&&(Gfe=e.toLowerCase().replace(/_/g,"-"))}function Kn(e,t,n,r){let i=kt(),o=jr(),s=Lo();return k7(o,i,i[sr],s,e,t,r),Kn}function Wfe(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[g_],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function k7(e,t,n,r,i,o,s){let a=PL(r),u=e.firstCreatePass&&g7(e),f=t[Zs],h=m7(t),p=!0;if(r.type&3||s){let v=hs(r,t),b=s?s(v):v,x=h.length,w=s?I=>s(Xa(I[r.index])):r.index,D=null;if(!s&&a&&(D=Wfe(e,t,i,r.index)),D!==null){let I=D.__ngLastListenerFn__||D;I.__ngNextListenerFn__=o,D.__ngLastListenerFn__=o,p=!1}else{o=w$(r,t,f,o,!1);let I=n.listen(b,i,o);h.push(o,I),u&&u.push(i,w,x,x+1)}}else o=w$(r,t,f,o,!1);let m=r.outputs,y;if(p&&m!==null&&(y=m[i])){let v=y.length;if(v)for(let b=0;b<v;b+=2){let x=y[b],w=y[b+1],A=t[x][w].subscribe(o),T=h.length;h.push(o,A),u&&u.push(i,r.index,T,-(T+1))}}}function x$(e,t,n,r){let i=Qt(null);try{return qa(6,t,n),n(r)!==!1}catch(o){return y7(e,o),!1}finally{qa(7,t,n),Qt(i)}}function w$(e,t,n,r,i){return function o(s){if(s===Function)return r;let a=e.componentOffset>-1?hf(e.index,t):t;nk(a);let c=x$(t,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=x$(t,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function Tn(e=1){return kce(e)}function Yfe(e,t){let n=null,r=$ae(e);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){n=i;continue}if(r===null?U$(e,o,!0):Gae(r,o))return i}return n}function F7(e){let t=kt()[Xs][Po];if(!t.projection){let n=e?e.length:1,r=t.projection=Nae(n,null),i=r.slice(),o=t.child;for(;o!==null;){let s=e?Yfe(o,e):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function B7(e,t=0,n){let r=kt(),i=jr(),o=C_(i,ds+e,16,null,n||null);o.projection===null&&(o.projection=t),pz(),(!r[m_]||fz())&&(o.flags&32)!==32&&Mle(i,r,o)}function V7(e,t,n){tfe(e,t,n)}function lk(e){let t=kt(),n=jr(),r=gz();FL(r+1);let i=sk(n,r);if(e.dirty&&vce(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=ife(t,r);e.reset(o,ele),e.notifyOnChanges()}return!0}return!1}function uk(){return Jue(kt(),gz())}function Zfe(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function St(e,t=""){let n=kt(),r=jr(),i=e+ds,o=r.firstCreatePass?C_(r,i,1,t,null):r.data[i],s=Xfe(r,n,o,t,e);n[i]=s,jL()&&QL(r,n,s,o),T_(o,!1)}var Xfe=(e,t,n,r,i)=>($L(!0),ple(t[sr],r));function ta(e){return na("",e,""),ta}function na(e,t,n){let r=kt(),i=_fe(r,e,t,n);return i!==Dl&&iue(r,ch(),i),na}function pf(e,t,n){T7(t)&&(t=t());let r=kt(),i=MS();if(_l(r,i,t)){let o=jr(),s=UL();l7(o,s,r,e,t,r[sr],n,!1)}return pf}function uh(e,t){let n=T7(e);return n&&e.set(t),n}function mf(e,t){let n=kt(),r=jr(),i=Lo();return k7(r,n,n[sr],i,e,t),mf}function Qfe(e,t,n){let r=jr();if(r.firstCreatePass){let i=ff(e);gL(n,r.data,r.blueprint,i,!0),gL(t,r.data,r.blueprint,i,!1)}}function gL(e,t,n,r,i){if(e=ji(e),Array.isArray(e))for(let o=0;o<e.length;o++)gL(e[o],t,n,r,i);else{let o=jr(),s=kt(),a=Lo(),c=Vm(e)?e:ji(e.provide),u=X$(e),f=a.providerIndexes&1048575,h=a.directiveStart,p=a.providerIndexes>>20;if(Vm(e)||!e.multi){let m=new th(u,i,ut),y=IP(c,t,i?f:f+p,h);y===-1?(VP(uS(a,s),o,c),SP(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)):(n[y]=m,s[y]=m)}else{let m=IP(c,t,f+p,h),y=IP(c,t,f,f+p),v=m>=0&&n[m],b=y>=0&&n[y];if(i&&!b||!i&&!v){VP(uS(a,s),o,c);let x=ede(i?Jfe:Kfe,n.length,i,r,u);!i&&b&&(n[y].providerFactory=x),SP(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=U7(n[i?y:m],u,!i&&r);SP(o,e,m>-1?m:y,x)}!i&&r&&b&&n[y].componentProviders++}}}function SP(e,t,n,r){let i=Vm(t),o=nce(t);if(i||o){let c=(o?ji(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let f=u.indexOf(n);f===-1?u.push(n,[r,c]):u[f+1].push(r,c)}else u.push(n,c)}}}function U7(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function IP(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Kfe(e,t,n,r){return yL(this.multi,[])}function Jfe(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=nh(n,n[Dt],this.providerFactory.index,r);o=a.slice(0,s),yL(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],yL(i,o);return o}function yL(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function ede(e,t,n,r,i){let o=new th(e,n,ut);return o.multi=[],o.index=t,o.componentProviders=0,U7(o,i,r&&!n),o}function gf(e,t=[]){return n=>{n.providersResolver=(r,i)=>Qfe(r,i?i(e):e,t)}}var tde=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=W$(!1,n.type),i=r.length>0?BS([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Se({token:e,providedIn:"environment",factory:()=>new e($e(Tr))})}}return e})();function Il(e){kS("NgStandalone"),e.getStandaloneInjector=t=>t.get(tde).getOrCreateStandaloneInjector(e)}function US(e,t,n,r){return $7(kt(),CS(),e,t,n,r)}function A_(e,t,n,r,i){return z7(kt(),CS(),e,t,n,r,i)}function j7(e,t){let n=e[t];return n===Dl?void 0:n}function $7(e,t,n,r,i,o){let s=t+n;return _l(e,s,i)?M7(e,s+1,o?r.call(o,i):r(i)):j7(e,s+1)}function z7(e,t,n,r,i,o,s){let a=t+n;return hfe(e,a,i,o)?M7(e,a+2,s?r.call(s,i,o):r(i,o)):j7(e,a+2)}function Cr(e,t){let n=jr(),r,i=e+ds;n.firstCreatePass?(r=nde(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Qd(r.type,!0)),s,a=mo(ut);try{let c=lS(!1),u=o();return lS(c),Zfe(n,kt(),i,u),u}finally{mo(a)}}function nde(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function El(e,t,n){let r=e+ds,i=kt(),o=az(i,r);return H7(i,r)?$7(i,CS(),t,o.transform,n,o):o.transform(n)}function ra(e,t,n,r){let i=e+ds,o=kt(),s=az(o,i);return H7(o,i)?z7(o,CS(),t,s.transform,n,r,s):s.transform(n,r)}function H7(e,t){return e[Dt].data[t].pure}var jS=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var G7=new Le("");function fh(e){return!!e&&typeof e.then=="function"}function q7(e){return!!e&&typeof e.subscribe=="function"}var $S=new Le(""),W7=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ae($S,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(fh(o))n.push(o);else if(q7(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),O_=new Le("");function rde(){vj(()=>{throw new Ae(600,!1)})}function ide(e){return e.isBoundToModule}function ode(e,t,n){try{let r=n();return fh(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var yf=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ae(Pz),this.afterRenderEffectManager=ae(ok),this.externalTestViews=new Set,this.beforeRender=new On,this.afterTick=new On,this.componentTypes=[],this.components=[],this.isStable=ae(Wm).hasPendingTasks.pipe(ct(n=>!n)),this._injector=ae(Tr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof pS;if(!this._injector.get(W7).done){let p=!i&&z$(n),m=!1;throw new Ae(405,m)}let s;i?s=n:s=this._injector.get(LS).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=ide(s)?void 0:this._injector.get(df),c=r||s.selector,u=s.create(ko.NULL,[],c,a),f=u.location.nativeElement,h=u.injector.get(G7,null);return h?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),EP(this.components,u),h?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new Ae(101,!1);let r=Qt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,Qt(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===v7)throw new Ae(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)sde(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>_L(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>_L(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;EP(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(O_,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>EP(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ae(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function EP(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function sde(e,t,n){!t&&!_L(e)||ade(e,n,t)}function _L(e){return kL(e)}function ade(e,t,n){let r;n?(r=0,e[tt]|=1024):e[tt]&64?r=0:r=1,b7(e,t,r)}var vL=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},zS=(()=>{class e{compileModuleSync(n){return new dL(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=H$(n),o=$z(i.declarations).reduce((s,a)=>{let c=ml(a);return c&&s.push(new oh(c)),s},[]);return new vL(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var cde=(()=>{class e{constructor(){this.zone=ae(dn),this.applicationRef=ae(yf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function lde(e){return[{provide:dn,useFactory:e},{provide:Bm,multi:!0,useFactory:()=>{let t=ae(cde,{optional:!0});return()=>t.initialize()}},{provide:Bm,multi:!0,useFactory:()=>{let t=ae(hde);return()=>{t.initialize()}}},{provide:Pz,useFactory:ude}]}function ude(){let e=ae(dn),t=ae(Qa);return n=>e.runOutsideAngular(()=>t.handleError(n))}function fde(e){let t=lde(()=>new dn(dde(e)));return Hm([[],t])}function dde(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var hde=(()=>{class e{constructor(){this.subscription=new or,this.initialized=!1,this.zone=ae(dn),this.pendingTasks=ae(Wm)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{dn.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{dn.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function pde(){return typeof $localize<"u"&&$localize.locale||_S}var N_=new Le("",{providedIn:"root",factory:()=>ae(N_,Mt.Optional|Mt.SkipSelf)||pde()});var Y7=new Le("");var eS=null;function mde(e=[],t){return ko.create({name:t,providers:[{provide:SS,useValue:"platform"},{provide:Y7,useValue:new Set([()=>eS=null])},...e]})}function gde(e=[]){if(eS)return eS;let t=mde(e);return eS=t,rde(),yde(t),t}function yde(e){e.get(qL,null)?.forEach(n=>n())}var Tl=(()=>{class e{static{this.__NG_ELEMENT_ID__=_de}}return e})();function _de(e){return vde(Lo(),kt(),(e&16)===16)}function vde(e,t,n){if(TS(e)&&!n){let r=hf(e.index,t);return new ih(r,r)}else if(e.type&47){let r=t[Xs];return new ih(r,t)}return null}var bL=class{constructor(){}supports(t){return C7(t)}create(t){return new xL(t)}},bde=(e,t)=>t,xL=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||bde}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<D$(r,i,o)?n:r,a=D$(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,f=c-i;if(u!=f){for(let p=0;p<u;p++){let m=p<o.length?o[p]:o[p]=0,y=m+p;f<=y&&y<u&&(o[p]=m+1)}let h=s.previousIndex;o[h]=f-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!C7(t))throw new Ae(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,dfe(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new wL(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new vS),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new vS),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},wL=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},DL=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},vS=class{constructor(){this.map=new Map}put(t){let n=t.trackById,r=this.map.get(n);r||(r=new DL,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function D$(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var SL=class{constructor(){}supports(t){return t instanceof Map||ak(t)}create(){return new IL}},IL=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||ak(t)))throw new Ae(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){let r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new EL(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}},EL=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function S$(){return new fk([new bL])}var fk=(()=>{class e{static{this.\u0275prov=Se({token:e,providedIn:"root",factory:S$})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||S$()),deps:[[e,new DS,new S_]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Ae(901,!1)}}return e})();function I$(){return new dk([new SL])}var dk=(()=>{class e{static{this.\u0275prov=Se({token:e,providedIn:"root",factory:I$})}constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||I$()),deps:[[e,new DS,new S_]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Ae(901,!1)}}return e})();function Z7(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=gde(r),o=[fde(),...n||[]],a=new gS({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(dn);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Qa,null),f;c.runOutsideAngular(()=>{f=c.onError.subscribe({next:m=>{u.handleError(m)}})});let h=()=>a.destroy(),p=i.get(Y7);return p.add(h),a.onDestroy(()=>{f.unsubscribe(),p.delete(h)}),ode(u,c,()=>{let m=a.get(W7);return m.runInitializers(),m.donePromise.then(()=>{let y=a.get(N_,_S);qfe(y||_S);let v=a.get(yf);return t!==void 0&&v.bootstrap(t),v})})})}catch(t){return Promise.reject(t)}}function HS(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function GS(e,t){let n=ml(e),r=t.elementInjector||IS();return new oh(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector)}function X7(e){let t=ml(e);if(!t)return null;let n=new oh(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var iH=null;function Al(){return iH}function oH(e){iH??=e}var qS=class{};var hr=new Le(""),xk=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:()=>ae(Dde),providedIn:"platform"})}}return e})(),sH=new Le(""),Dde=(()=>{class e extends xk{constructor(){super(),this._doc=ae(hr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Al().getBaseHref(this._doc)}onPopState(n){let r=Al().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Al().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function wk(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function Q7(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function Cl(e){return e&&e[0]!=="?"?"?"+e:e}var dh=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:()=>ae(Dk),providedIn:"root"})}}return e})(),aH=new Le(""),Dk=(()=>{class e extends dh{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ae(hr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return wk(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Cl(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Cl(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Cl(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)($e(xk),$e(aH,8))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cH=(()=>{class e extends dh{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=wk(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Cl(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Cl(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)($e(xk),$e(aH,8))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac})}}return e})(),Xm=(()=>{class e{constructor(n){this._subject=new dr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Ede(Q7(K7(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Cl(r))}normalize(n){return e.stripTrailingSlash(Ide(this._basePath,K7(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Cl(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Cl(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Cl}static{this.joinWithSlash=wk}static{this.stripTrailingSlash=Q7}static{this.\u0275fac=function(r){return new(r||e)($e(dh))}}static{this.\u0275prov=Se({token:e,factory:()=>Sde(),providedIn:"root"})}}return e})();function Sde(){return new Xm($e(dh))}function Ide(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function K7(e){return e.replace(/\/index.html$/,"")}function Ede(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var lH=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(lH||{});var Ml={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function R_(e,t){let n=ck(e),r=n[Ym.NumberSymbols][t];if(typeof r>"u"){if(t===Ml.CurrencyDecimal)return n[Ym.NumberSymbols][Ml.Decimal];if(t===Ml.CurrencyGroup)return n[Ym.NumberSymbols][Ml.Group]}return r}function Tde(e,t){return ck(e)[Ym.NumberFormats][t]}var Cde=/^(\d+)?\.((\d+)(-(\d+))?)?$/,J7=22,WS=".",P_="0",Mde=";",Ade=",",hk="#";function Ode(e,t,n,r,i,o,s=!1){let a="",c=!1;if(!isFinite(e))a=R_(n,Ml.Infinity);else{let u=Lde(e);s&&(u=Pde(u));let f=t.minInt,h=t.minFrac,p=t.maxFrac;if(o){let w=o.match(Cde);if(w===null)throw new Error(`${o} is not a valid digit info`);let D=w[1],I=w[3],A=w[5];D!=null&&(f=pk(D)),I!=null&&(h=pk(I)),A!=null?p=pk(A):I!=null&&h>p&&(p=h)}kde(u,h,p);let m=u.digits,y=u.integerLen,v=u.exponent,b=[];for(c=m.every(w=>!w);y<f;y++)m.unshift(0);for(;y<0;y++)m.unshift(0);y>0?b=m.splice(y,m.length):(b=m,m=[0]);let x=[];for(m.length>=t.lgSize&&x.unshift(m.splice(-t.lgSize,m.length).join(""));m.length>t.gSize;)x.unshift(m.splice(-t.gSize,m.length).join(""));m.length&&x.unshift(m.join("")),a=x.join(R_(n,r)),b.length&&(a+=R_(n,i)+b.join("")),v&&(a+=R_(n,Ml.Exponential)+"+"+v)}return e<0&&!c?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function Nde(e,t,n){let r=Tde(t,lH.Decimal),i=Rde(r,R_(t,Ml.MinusSign));return Ode(e,i,t,Ml.Group,Ml.Decimal,n)}function Rde(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(Mde),i=r[0],o=r[1],s=i.indexOf(WS)!==-1?i.split(WS):[i.substring(0,i.lastIndexOf(P_)+1),i.substring(i.lastIndexOf(P_)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(hk));for(let f=0;f<c.length;f++){let h=c.charAt(f);h===P_?n.minFrac=n.maxFrac=f+1:h===hk?n.maxFrac=f+1:n.posSuf+=h}let u=a.split(Ade);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let f=i.length-n.posPre.length-n.posSuf.length,h=o.indexOf(hk);n.negPre=o.substring(0,h).replace(/'/g,""),n.negSuf=o.slice(h+f).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function Pde(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function Lde(e){let t=Math.abs(e)+"",n=0,r,i,o,s,a;for((i=t.indexOf(WS))>-1&&(t=t.replace(WS,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===P_;o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===P_;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>J7&&(r=r.splice(0,J7-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function kde(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let h=s;h<r.length;h++)r[h]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let h=1;h<s;h++)r[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=t+e.integerLen,f=r.reduceRight(function(h,p,m,y){return p=p+h,y[m]=p<10?p:p-10,c&&(y[m]===0&&m>=u?y.pop():c=!1),p>=10?1:0},0);f&&(r.unshift(f),e.integerLen++)}function pk(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}function YS(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var mk=/\s+/,eH=[],uH=(()=>{class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=eH,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(mk):eH}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(mk):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(mk).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||e)(ut(li),ut(ec))}}static{this.\u0275dir=Qn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[zi.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();var gk=class{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},fH=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new gk(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),tH(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);tH(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(ut(Sl),ut(yl),ut(fk))}}static{this.\u0275dir=Qn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function tH(e,t){e.context.$implicit=t.item}var dH=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new yk,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){nH("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){nH("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(ut(Sl),ut(yl))}}static{this.\u0275dir=Qn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),yk=class{constructor(){this.$implicit=null,this.ngIf=null}};function nH(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${$i(t)}'.`)}var hH=(()=>{class e{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:Ka.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||e)(ut(li),ut(dk),ut(ec))}}static{this.\u0275dir=Qn({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return e})();function Fde(e,t){return new Ae(2100,!1)}var pH=(()=>{class e{constructor(n){this._locale=n}transform(n,r,i){if(!Bde(n))return null;i||=this._locale;try{let o=Vde(n);return Nde(o,i,r)}catch(o){throw Fde(e,o.message)}}static{this.\u0275fac=function(r){return new(r||e)(ut(N_,16))}}static{this.\u0275pipe=zm({name:"number",type:e,pure:!0,standalone:!0})}}return e})();function Bde(e){return!(e==null||e===""||e!==e)}function Vde(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var Sk=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})(),Ik="browser",Ude="server";function mH(e){return e===Ik}function ZS(e){return e===Ude}var gH=(()=>{class e{static{this.\u0275prov=Se({token:e,providedIn:"root",factory:()=>mH(ae(Ks))?new _k(ae(hr),window):new vk})}}return e})(),_k=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=jde(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function jde(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var vk=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},Zm=class{};var k_=class{},QS=class{},hh=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Tk=class{encodeKey(t){return _H(t)}encodeValue(t){return _H(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Hde(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var Gde=/%(\d[a-f0-9])/gi,qde={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _H(e){return encodeURIComponent(e).replace(Gde,(t,n)=>qde[n]??t)}function XS(e){return`${e}`}var _f=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Tk,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Hde(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(XS):[XS(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(XS(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(XS(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Ck=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Wde(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function vH(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function bH(e){return typeof Blob<"u"&&e instanceof Blob}function xH(e){return typeof FormData<"u"&&e instanceof FormData}function Yde(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var L_=class e{constructor(t,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(Wde(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new hh,this.context??=new Ck,!this.params)this.params=new _f,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||vH(this.body)||bH(this.body)||xH(this.body)||Yde(this.body)?this.body:this.body instanceof _f?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||xH(this.body)?null:bH(this.body)?this.body.type||null:vH(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof _f?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,u=t.headers||this.headers,f=t.params||this.params,h=t.context??this.context;return t.setHeaders!==void 0&&(u=Object.keys(t.setHeaders).reduce((p,m)=>p.set(m,t.setHeaders[m]),u)),t.setParams&&(f=Object.keys(t.setParams).reduce((p,m)=>p.set(m,t.setParams[m]),f)),new e(n,r,s,{params:f,headers:u,context:h,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Qm=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Qm||{}),F_=class{constructor(t,n=eI.Ok,r="OK"){this.headers=t.headers||new hh,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Mk=class e extends F_{constructor(t={}){super(t),this.type=Qm.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},KS=class e extends F_{constructor(t={}){super(t),this.type=Qm.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},JS=class extends F_{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},eI=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(eI||{});function Ek(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var B_=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof L_)o=n;else{let c;i.headers instanceof hh?c=i.headers:c=new hh(i.headers);let u;i.params&&(i.params instanceof _f?u=i.params:u=new _f({fromObject:i.params})),o=new L_(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Re(o).pipe(hl(c=>this.handler.handle(c)));if(n instanceof L_||i.observe==="events")return s;let a=s.pipe(Er(c=>c instanceof KS));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ct(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ct(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ct(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(ct(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new _f().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Ek(i,r))}post(n,r,i={}){return this.request("POST",n,Ek(i,r))}put(n,r,i={}){return this.request("PUT",n,Ek(i,r))}static{this.\u0275fac=function(r){return new(r||e)($e(k_))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac})}}return e})();function Zde(e,t){return t(e)}function Xde(e,t,n){return(r,i)=>Qs(n,()=>t(r,o=>e(o,i)))}var SH=new Le(""),Qde=new Le(""),Kde=new Le("");var wH=(()=>{class e extends k_{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=ae(Wm);let i=ae(Kde,{optional:!0});this.backend=i??n}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(SH),...this.injector.get(Qde,[])]));this.chain=i.reduceRight((o,s)=>Xde(o,s,this.injector),Zde)}let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(cf(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)($e(QS),$e(Tr))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac})}}return e})();var Jde=/^\)\]\}',?\n/;function ehe(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var DH=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Ae(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Nn(r.\u0275loadImpl()):Re(null)).pipe(wi(()=>new pt(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((v,b)=>s.setRequestHeader(v,b.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let v=n.detectContentTypeHeader();v!==null&&s.setRequestHeader("Content-Type",v)}if(n.responseType){let v=n.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let v=s.statusText||"OK",b=new hh(s.getAllResponseHeaders()),x=ehe(s)||n.url;return c=new Mk({headers:b,status:s.status,statusText:v,url:x}),c},f=()=>{let{headers:v,status:b,statusText:x,url:w}=u(),D=null;b!==eI.NoContent&&(D=typeof s.response>"u"?s.responseText:s.response),b===0&&(b=D?eI.Ok:0);let I=b>=200&&b<300;if(n.responseType==="json"&&typeof D=="string"){let A=D;D=D.replace(Jde,"");try{D=D!==""?JSON.parse(D):null}catch(T){D=A,I&&(I=!1,D={error:T,text:D})}}I?(o.next(new KS({body:D,headers:v,status:b,statusText:x,url:w||void 0})),o.complete()):o.error(new JS({error:D,headers:v,status:b,statusText:x,url:w||void 0}))},h=v=>{let{url:b}=u(),x=new JS({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});o.error(x)},p=!1,m=v=>{p||(o.next(u()),p=!0);let b={type:Qm.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(b.total=v.total),n.responseType==="text"&&s.responseText&&(b.partialText=s.responseText),o.next(b)},y=v=>{let b={type:Qm.UploadProgress,loaded:v.loaded};v.lengthComputable&&(b.total=v.total),o.next(b)};return s.addEventListener("load",f),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),n.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:Qm.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",f),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)($e(Zm))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac})}}return e})(),IH=new Le(""),the="XSRF-TOKEN",nhe=new Le("",{providedIn:"root",factory:()=>the}),rhe="X-XSRF-TOKEN",ihe=new Le("",{providedIn:"root",factory:()=>rhe}),tI=class{},ohe=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=YS(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)($e(hr),$e(Ks),$e(nhe))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac})}}return e})();function she(e,t){let n=e.url.toLowerCase();if(!ae(IH)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=ae(tI).getToken(),i=ae(ihe);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}function EH(...e){let t=[B_,DH,wH,{provide:k_,useExisting:wH},{provide:QS,useExisting:DH},{provide:SH,useValue:she,multi:!0},{provide:IH,useValue:!0},{provide:tI,useClass:ohe}];for(let n of e)t.push(...n.\u0275providers);return Hm(t)}var Nk=class extends qS{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Rk=class e extends Nk{static makeCurrent(){oH(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=ahe();return n==null?null:che(n)}resetBaseElement(){V_=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return YS(document.cookie,t)}},V_=null;function ahe(){return V_=V_||document.querySelector("base"),V_?V_.getAttribute("href"):null}function che(e){return new URL(e,document.baseURI).pathname}var lhe=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac})}}return e})(),Pk=new Le(""),OH=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Ae(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)($e(Pk),$e(dn))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac})}}return e})(),nI=class{constructor(t){this._doc=t}},Ak="ng-app-id",NH=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ZS(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Ak}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Ak),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Ak,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)($e(hr),$e(GL),$e(WL,8),$e(Ks))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac})}}return e})(),Ok={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kk=/%COMP%/g,RH="%COMP%",uhe=`_nghost-${RH}`,fhe=`_ngcontent-${RH}`,dhe=!0,hhe=new Le("",{providedIn:"root",factory:()=>dhe});function phe(e){return fhe.replace(kk,e)}function mhe(e){return uhe.replace(kk,e)}function PH(e,t){return t.map(n=>n.replace(kk,e))}var CH=(()=>{class e{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ZS(a),this.defaultRenderer=new U_(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ya.ShadowDom&&(r=V(E({},r),{encapsulation:Ya.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof rI?i.applyToHost(n):i instanceof j_&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Ya.Emulated:o=new rI(c,u,r,this.appId,f,s,a,h);break;case Ya.ShadowDom:return new Lk(c,u,n,r,s,a,this.nonce,h);default:o=new j_(c,u,r,f,s,a,h);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)($e(OH),$e(NH),$e(GL),$e(hhe),$e(hr),$e(Ks),$e(dn),$e(WL))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac})}}return e})(),U_=class{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Ok[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(MH(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(MH(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new Ae(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Ok[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Ok[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Ka.DashCase|Ka.Important)?t.style.setProperty(n,r,i&Ka.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Ka.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=Al().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function MH(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Lk=class extends U_{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=PH(i.id,i.styles);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},j_=class extends U_{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?PH(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rI=class extends j_{constructor(t,n,r,i,o,s,a,c){let u=i+"-"+r.id;super(t,n,r,o,s,a,c,u),this.contentAttr=phe(u),this.hostAttr=mhe(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},ghe=(()=>{class e extends nI{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)($e(hr))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac})}}return e})(),AH=["alt","control","meta","shift"],yhe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_he={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},vhe=(()=>{class e extends nI{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Al().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),AH.forEach(u=>{let f=r.indexOf(u);f>-1&&(r.splice(f,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=yhe[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),AH.forEach(s=>{if(s!==i){let a=_he[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||e)($e(hr))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac})}}return e})();function LH(e,t){return Z7(E({rootComponent:e},bhe(t)))}function bhe(e){return{appProviders:[...Ihe,...e?.providers??[]],platformProviders:She}}function xhe(){Rk.makeCurrent()}function whe(){return new Qa}function Dhe(){return Uz(document),document}var She=[{provide:Ks,useValue:Ik},{provide:qL,useValue:xhe,multi:!0},{provide:hr,useFactory:Dhe,deps:[]}];var Ihe=[{provide:SS,useValue:"root"},{provide:Qa,useFactory:whe,deps:[]},{provide:Pk,useClass:ghe,multi:!0,deps:[hr,dn,Ks]},{provide:Pk,useClass:vhe,multi:!0,deps:[hr]},CH,NH,OH,{provide:b_,useExisting:CH},{provide:Zm,useClass:lhe,deps:[]},[]];var kH=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)($e(hr))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var yt="primary",rv=Symbol("RouteTitle"),jk=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ng(e){return new jk(e)}function Che(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Mhe(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!tc(e[n],t[n]))return!1;return!0}function tc(e,t){let n=e?$k(e):void 0,r=t?$k(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!GH(e[i],t[i]))return!1;return!0}function $k(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function GH(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function qH(e){return e.length>0?e[e.length-1]:null}function Df(e){return rP(e)?e:fh(e)?Nn(Promise.resolve(e)):Re(e)}var Ahe={exact:YH,subset:ZH},WH={exact:Ohe,subset:Nhe,ignored:()=>!0};function FH(e,t,n){return Ahe[n.paths](e.root,t.root,n.matrixParams)&&WH[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function Ohe(e,t){return tc(e,t)}function YH(e,t,n){if(!mh(e.segments,t.segments)||!sI(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!YH(e.children[r],t.children[r],n))return!1;return!0}function Nhe(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>GH(e[n],t[n]))}function ZH(e,t,n){return XH(e,t,t.segments,n)}function XH(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!mh(i,n)||t.hasChildren()||!sI(i,n,r))}else if(e.segments.length===n.length){if(!mh(e.segments,n)||!sI(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!ZH(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!mh(e.segments,i)||!sI(e.segments,i,r)||!e.children[yt]?!1:XH(e.children[yt],t,o,r)}}function sI(e,t,n){return t.every((r,i)=>WH[n](e[i].parameters,r.parameters))}var vf=class{constructor(t=new tn([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ng(this.queryParams),this._queryParamMap}toString(){return Lhe.serialize(this)}},tn=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return aI(this)}},ph=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=ng(this.parameters),this._parameterMap}toString(){return KH(this)}};function Rhe(e,t){return mh(e,t)&&e.every((n,r)=>tc(n.parameters,t[r].parameters))}function mh(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function Phe(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===yt&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==yt&&(n=n.concat(t(i,r)))}),n}var iv=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:()=>new Y_,providedIn:"root"})}}return e})(),Y_=class{parse(t){let n=new Hk(t);return new vf(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${$_(t.root,!0)}`,r=Bhe(t.queryParams),i=typeof t.fragment=="string"?`#${khe(t.fragment)}`:"";return`${n}${r}${i}`}},Lhe=new Y_;function aI(e){return e.segments.map(t=>KH(t)).join("/")}function $_(e,t){if(!e.hasChildren())return aI(e);if(t){let n=e.children[yt]?$_(e.children[yt],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==yt&&r.push(`${i}:${$_(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Phe(e,(r,i)=>i===yt?[$_(e.children[yt],!1)]:[`${i}:${$_(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[yt]!=null?`${aI(e)}/${n[0]}`:`${aI(e)}/(${n.join("//")})`}}function QH(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function iI(e){return QH(e).replace(/%3B/gi,";")}function khe(e){return encodeURI(e)}function zk(e){return QH(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cI(e){return decodeURIComponent(e)}function BH(e){return cI(e.replace(/\+/g,"%20"))}function KH(e){return`${zk(e.path)}${Fhe(e.parameters)}`}function Fhe(e){return Object.entries(e).map(([t,n])=>`;${zk(t)}=${zk(n)}`).join("")}function Bhe(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${iI(n)}=${iI(i)}`).join("&"):`${iI(n)}=${iI(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var Vhe=/^[^\/()?;#]+/;function Fk(e){let t=e.match(Vhe);return t?t[0]:""}var Uhe=/^[^\/()?;=#]+/;function jhe(e){let t=e.match(Uhe);return t?t[0]:""}var $he=/^[^=?&#]+/;function zhe(e){let t=e.match($he);return t?t[0]:""}var Hhe=/^[^&#]+/;function Ghe(e){let t=e.match(Hhe);return t?t[0]:""}var Hk=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[yt]=new tn(t,n)),r}parseSegment(){let t=Fk(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Ae(4009,!1);return this.capture(t),new ph(cI(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=jhe(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Fk(this.remaining);i&&(r=i,this.capture(r))}t[cI(n)]=cI(r)}parseQueryParam(t){let n=zhe(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Ghe(this.remaining);s&&(r=s,this.capture(r))}let i=BH(n),o=BH(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Fk(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Ae(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=yt);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[yt]:new tn([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Ae(4011,!1)}};function JH(e){return e.segments.length>0?new tn([],{[yt]:e}):e}function e9(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=e9(i);if(r===yt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new tn(e.segments,t);return qhe(n)}function qhe(e){if(e.numberOfChildren===1&&e.children[yt]){let t=e.children[yt];return new tn(e.segments.concat(t.segments),t.children)}return e}function rg(e){return e instanceof vf}function Whe(e,t,n=null,r=null){let i=t9(e);return n9(i,t,n,r)}function t9(e){let t;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new tn(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=JH(r);return t??i}function n9(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Bk(i,i,i,n,r);let o=Yhe(t);if(o.toRoot())return Bk(i,i,new tn([],{}),n,r);let s=Zhe(o,i,e),a=s.processChildren?G_(s.segmentGroup,s.index,o.commands):i9(s.segmentGroup,s.index,o.commands);return Bk(i,s.segmentGroup,a,n,r)}function lI(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Z_(e){return typeof e=="object"&&e!=null&&e.outlets}function Bk(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`});let s;e===t?s=n:s=r9(e,t,n);let a=JH(e9(s));return new vf(a,o,i)}function r9(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=r9(o,t,n)}),new tn(e.segments,r)}var uI=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&lI(r[0]))throw new Ae(4003,!1);let i=r.find(Z_);if(i&&i!==qH(r))throw new Ae(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Yhe(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new uI(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new uI(n,t,r)}var eg=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function Zhe(e,t,n){if(e.isAbsolute)return new eg(t,!0,0);if(!n)return new eg(t,!1,NaN);if(n.parent===null)return new eg(n,!0,0);let r=lI(e.commands[0])?0:1,i=n.segments.length-1+r;return Xhe(n,i,e.numberOfDoubleDots)}function Xhe(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Ae(4005,!1);i=r.segments.length}return new eg(r,!1,i-o)}function Qhe(e){return Z_(e[0])?e[0].outlets:{[yt]:e}}function i9(e,t,n){if(e??=new tn([],{}),e.segments.length===0&&e.hasChildren())return G_(e,t,n);let r=Khe(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new tn(e.segments.slice(0,r.pathIndex),{});return o.children[yt]=new tn(e.segments.slice(r.pathIndex),e.children),G_(o,0,i)}else return r.match&&i.length===0?new tn(e.segments,{}):r.match&&!e.hasChildren()?Gk(e,t,n):r.match?G_(e,0,i):Gk(e,t,n)}function G_(e,t,n){if(n.length===0)return new tn(e.segments,{});{let r=Qhe(n),i={};if(Object.keys(r).some(o=>o!==yt)&&e.children[yt]&&e.numberOfChildren===1&&e.children[yt].segments.length===0){let o=G_(e.children[yt],t,n);return new tn(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=i9(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new tn(e.segments,i)}}function Khe(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(Z_(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!UH(c,u,s))return o;r+=2}else{if(!UH(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Gk(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(Z_(o)){let c=Jhe(o.outlets);return new tn(r,c)}if(i===0&&lI(n[0])){let c=e.segments[t];r.push(new ph(c.path,VH(n[0]))),i++;continue}let s=Z_(o)?o.outlets[yt]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&lI(a)?(r.push(new ph(s,VH(a))),i+=2):(r.push(new ph(s,{})),i++)}return new tn(r,{})}function Jhe(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Gk(new tn([],{}),0,r))}),t}function VH(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function UH(e,t,n){return e==n.path&&tc(t,n.parameters)}var q_="imperative",$r=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}($r||{}),gs=class{constructor(t,n){this.id=t,this.url=n}},ig=class extends gs{constructor(t,n,r="imperative",i=null){super(t,n),this.type=$r.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ol=class extends gs{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=$r.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Bo=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Bo||{}),fI=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(fI||{}),bf=class extends gs{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=$r.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xf=class extends gs{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=$r.NavigationSkipped}},X_=class extends gs{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=$r.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},dI=class extends gs{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=$r.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qk=class extends gs{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=$r.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wk=class extends gs{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=$r.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Yk=class extends gs{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=$r.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zk=class extends gs{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=$r.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xk=class{constructor(t){this.route=t,this.type=$r.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qk=class{constructor(t){this.route=t,this.type=$r.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kk=class{constructor(t){this.snapshot=t,this.type=$r.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jk=class{constructor(t){this.snapshot=t,this.type=$r.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eF=class{constructor(t){this.snapshot=t,this.type=$r.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tF=class{constructor(t){this.snapshot=t,this.type=$r.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hI=class{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=$r.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Q_=class{},K_=class{constructor(t){this.url=t}};var nF=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ov,this.attachRef=null}},ov=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new nF,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),pI=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=rF(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=rF(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=iF(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return iF(t,this._root).map(n=>n.value)}};function rF(e,t){if(e===t.value)return t;for(let n of t.children){let r=rF(e,n);if(r)return r}return null}function iF(e,t){if(e===t.value)return[t];for(let n of t.children){let r=iF(e,n);if(r.length)return r.unshift(t),r}return[]}var Fo=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Jm(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var mI=class extends pI{constructor(t,n){super(t),this.snapshot=n,pF(this,t)}toString(){return this.snapshot.toString()}};function o9(e){let t=epe(e),n=new Ur([new ph("",{})]),r=new Ur({}),i=new Ur({}),o=new Ur({}),s=new Ur(""),a=new gh(n,r,o,s,i,yt,e,t.root);return a.snapshot=t.root,new mI(new Fo(a,[]),t)}function epe(e){let t={},n={},r={},i="",o=new J_([],t,r,i,n,yt,e,null,{});return new gI("",new Fo(o,[]))}var gh=class{constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ct(u=>u[rv]))??Re(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ct(t=>ng(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ct(t=>ng(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hF(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:E(E({},t.params),e.params),data:E(E({},t.data),e.data),resolve:E(E(E(E({},e.data),t.data),i?.data),e._resolvedData)}:r={params:E({},e.params),data:E({},e.data),resolve:E(E({},e.data),e._resolvedData??{})},i&&a9(i)&&(r.resolve[rv]=i.title),r}var J_=class{get title(){return this.data?.[rv]}constructor(t,n,r,i,o,s,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ng(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ng(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},gI=class extends pI{constructor(t,n){super(n),this.url=t,pF(this,n)}toString(){return s9(this._root)}};function pF(e,t){t.value._routerState=e,t.children.forEach(n=>pF(e,n))}function s9(e){let t=e.children.length>0?` { ${e.children.map(s9).join(", ")} } `:"";return`${e.value}${t}`}function Vk(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,tc(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),tc(t.params,n.params)||e.paramsSubject.next(n.params),Mhe(t.url,n.url)||e.urlSubject.next(n.url),tc(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function oF(e,t){let n=tc(e.params,t.params)&&Rhe(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||oF(e.parent,t.parent))}function a9(e){return typeof e.title=="string"||e.title===null}var mF=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=yt,this.activateEvents=new dr,this.deactivateEvents=new dr,this.attachEvents=new dr,this.detachEvents=new dr,this.parentContexts=ae(ov),this.location=ae(Sl),this.changeDetector=ae(Tl),this.environmentInjector=ae(Tr),this.inputBinder=ae(bI,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ae(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Ae(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new sF(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Qn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ah]})}}return e})(),sF=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===gh?this.route:t===ov?this.childContexts:this.parent.get(t,n)}},bI=new Le(""),jH=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Cm([r.queryParams,r.params,r.data]).pipe(wi(([o,s,a],c)=>(a=E(E(E({},o),s),a),c===0?Re(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=X7(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac})}}return e})();function tpe(e,t,n){let r=ev(e,t._root,n?n._root:void 0);return new mI(r,t)}function ev(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=npe(e,t,n);return new Fo(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ev(e,a)),s}}let r=rpe(t.value),i=t.children.map(o=>ev(e,o));return new Fo(r,i)}}function npe(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ev(e,r,i);return ev(e,r)})}function rpe(e){return new gh(new Ur(e.url),new Ur(e.params),new Ur(e.queryParams),new Ur(e.fragment),new Ur(e.data),e.outlet,e.component,e)}var c9="ngNavigationCancelingError";function l9(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=rg(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=u9(!1,Bo.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function u9(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[c9]=!0,n.cancellationCode=t,n}function ipe(e){return f9(e)&&rg(e.url)}function f9(e){return!!e&&e[c9]}var ope=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=vl({type:e,selectors:[["ng-component"]],standalone:!0,features:[Il],decls:1,vars:0,template:function(r,i){r&1&&ms(0,"router-outlet")},dependencies:[mF],encapsulation:2})}}return e})();function spe(e,t){return e.providers&&!e._injector&&(e._injector=BS(e.providers,t,`Route: ${e.path}`)),e._injector??t}function gF(e){let t=e.children&&e.children.map(gF),n=t?V(E({},e),{children:t}):E({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==yt&&(n.component=ope),n}function nc(e){return e.outlet||yt}function ape(e,t){let n=e.filter(r=>nc(r)===t);return n.push(...e.filter(r=>nc(r)!==t)),n}function sv(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var cpe=(e,t,n,r)=>ct(i=>(new aF(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),aF=class{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Vk(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Jm(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Jm(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Jm(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Jm(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new tF(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Jk(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Vk(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Vk(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=sv(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}},yI=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},tg=class{constructor(t,n){this.component=t,this.route=n}};function lpe(e,t,n){let r=e._root,i=t?t._root:null;return z_(r,i,n,[r.value])}function upe(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function sg(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!C$(e)?e:t.get(e):r}function z_(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Jm(t);return e.children.forEach(s=>{fpe(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>W_(a,n.getContext(s),i)),i}function fpe(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=dpe(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new yI(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?z_(e,t,a?a.children:null,r,i):z_(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new tg(a.outlet.component,s))}else s&&W_(t,a,i),i.canActivateChecks.push(new yI(r)),o.component?z_(e,null,a?a.children:null,r,i):z_(e,null,n,r,i);return i}function dpe(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!mh(e.url,t.url);case"pathParamsOrQueryParamsChange":return!mh(e.url,t.url)||!tc(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oF(e,t)||!tc(e.queryParams,t.queryParams);case"paramsChange":default:return!oF(e,t)}}function W_(e,t,n){let r=Jm(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?W_(s,t.children.getContext(o),n):W_(s,null,n):W_(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new tg(t.outlet.component,i)):n.canDeactivateChecks.push(new tg(null,i)):n.canDeactivateChecks.push(new tg(null,i))}function av(e){return typeof e=="function"}function hpe(e){return typeof e=="boolean"}function ppe(e){return e&&av(e.canLoad)}function mpe(e){return e&&av(e.canActivate)}function gpe(e){return e&&av(e.canActivateChild)}function ype(e){return e&&av(e.canDeactivate)}function _pe(e){return e&&av(e.canMatch)}function d9(e){return e instanceof dl||e?.name==="EmptyError"}var oI=Symbol("INITIAL_VALUE");function og(){return wi(e=>Cm(e.map(t=>t.pipe(po(1),HD(oI)))).pipe(ct(t=>{for(let n of t)if(n!==!0){if(n===oI)return oI;if(n===!1||n instanceof vf)return n}return!0}),Er(t=>t!==oI),po(1)))}function vpe(e,t){return $n(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Re(V(E({},n),{guardsResult:!0})):bpe(s,r,i,e).pipe($n(a=>a&&hpe(a)?xpe(r,o,e,t):Re(a)),ct(a=>V(E({},n),{guardsResult:a})))})}function bpe(e,t,n,r){return Nn(e).pipe($n(i=>Epe(i.component,i.route,n,t,r)),Ga(i=>i!==!0,!0))}function xpe(e,t,n,r){return Nn(t).pipe(hl(i=>of(Dpe(i.route.parent,r),wpe(i.route,r),Ipe(e,i.path,n),Spe(e,i.route,n))),Ga(i=>i!==!0,!0))}function wpe(e,t){return e!==null&&t&&t(new eF(e)),Re(!0)}function Dpe(e,t){return e!==null&&t&&t(new Kk(e)),Re(!0)}function Spe(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return Re(!0);let i=r.map(o=>jD(()=>{let s=sv(t)??n,a=sg(o,s),c=mpe(a)?a.canActivate(t,e):Qs(s,()=>a(t,e));return Df(c).pipe(Ga())}));return Re(i).pipe(og())}function Ipe(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>upe(s)).filter(s=>s!==null).map(s=>jD(()=>{let a=s.guards.map(c=>{let u=sv(s.node)??n,f=sg(c,u),h=gpe(f)?f.canActivateChild(r,e):Qs(u,()=>f(r,e));return Df(h).pipe(Ga())});return Re(a).pipe(og())}));return Re(o).pipe(og())}function Epe(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Re(!0);let s=o.map(a=>{let c=sv(t)??i,u=sg(a,c),f=ype(u)?u.canDeactivate(e,t,n,r):Qs(c,()=>u(e,t,n,r));return Df(f).pipe(Ga())});return Re(s).pipe(og())}function Tpe(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return Re(!0);let o=i.map(s=>{let a=sg(s,e),c=ppe(a)?a.canLoad(t,n):Qs(e,()=>a(t,n));return Df(c)});return Re(o).pipe(og(),h9(r))}function h9(e){return KR(fr(t=>{if(rg(t))throw l9(e,t)}),ct(t=>t===!0))}function Cpe(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return Re(!0);let o=i.map(s=>{let a=sg(s,e),c=_pe(a)?a.canMatch(t,n):Qs(e,()=>a(t,n));return Df(c)});return Re(o).pipe(og(),h9(r))}var tv=class{constructor(t){this.segmentGroup=t||null}},_I=class extends Error{constructor(t){super(),this.urlTree=t}};function Km(e){return Em(new tv(e))}function Mpe(e){return Em(new Ae(4e3,!1))}function Ape(e){return Em(u9(!1,Bo.GuardRejected))}var cF=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Re(r);if(i.numberOfChildren>1||!i.children[yt])return Mpe(t.redirectTo);i=i.children[yt]}}applyRedirectCommands(t,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new _I(i);return i}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new vf(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new tn(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new Ae(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},lF={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ope(e,t,n,r,i){let o=yF(e,t,n);return o.matched?(r=spe(t,r),Cpe(r,t,n,i).pipe(ct(s=>s===!0?o:E({},lF)))):Re(o)}function yF(e,t,n){if(t.path==="**")return Npe(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?E({},lF):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Che)(n,e,t);if(!i)return E({},lF);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Npe(e){return{matched:!0,parameters:e.length>0?qH(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function $H(e,t,n,r){return n.length>0&&Lpe(e,n,r)?{segmentGroup:new tn(t,Ppe(r,new tn(n,e.children))),slicedSegments:[]}:n.length===0&&kpe(e,n,r)?{segmentGroup:new tn(e.segments,Rpe(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new tn(e.segments,e.children),slicedSegments:n}}function Rpe(e,t,n,r){let i={};for(let o of n)if(xI(e,t,o)&&!r[nc(o)]){let s=new tn([],{});i[nc(o)]=s}return E(E({},r),i)}function Ppe(e,t){let n={};n[yt]=t;for(let r of e)if(r.path===""&&nc(r)!==yt){let i=new tn([],{});n[nc(r)]=i}return n}function Lpe(e,t,n){return n.some(r=>xI(e,t,r)&&nc(r)!==yt)}function kpe(e,t,n){return n.some(r=>xI(e,t,r))}function xI(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Fpe(e,t,n,r){return nc(e)!==r&&(r===yt||!xI(t,n,e))?!1:yF(t,e,n).matched}function Bpe(e,t,n){return t.length===0&&!e.children[n]}var uF=class{};function Vpe(e,t,n,r,i,o,s="emptyOnly"){return new fF(e,t,n,r,i,s,o).recognize()}var Upe=31,fF=class{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new cF(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Ae(4002,`'${t.segmentGroup}'`)}recognize(){let t=$H(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ct(n=>{let r=new J_([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,{},yt,this.rootComponentType,null,{}),i=new Fo(r,n),o=new gI("",i),s=Whe(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,yt).pipe(sf(r=>{if(r instanceof _I)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof tv?this.noMatchError(r):r}))}inheritParamsAndData(t,n){let r=t.value,i=hF(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0).pipe(ct(o=>o instanceof Fo?[o]:[]))}processChildren(t,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Nn(i).pipe(hl(o=>{let s=r.children[o],a=ape(n,o);return this.processSegmentGroup(t,a,s,o)}),uP((o,s)=>(o.push(...s),o)),af(null),lP(),$n(o=>{if(o===null)return Km(r);let s=p9(o);return jpe(s),Re(s)}))}processSegment(t,n,r,i,o,s){return Nn(n).pipe(hl(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(sf(c=>{if(c instanceof tv)return Re(null);throw c}))),Ga(a=>!!a),sf(a=>{if(d9(a))return Bpe(r,i,o)?Re(new uF):Km(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return Fpe(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Km(i):Km(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:f}=yF(n,i,o);if(!a)return Km(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Upe&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,h).pipe($n(p=>this.processSegment(t,r,n,p.concat(f),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){let s=Ope(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(wi(a=>a.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(wi(({routes:c})=>{let u=r._loadedInjector??t,{consumedSegments:f,remainingSegments:h,parameters:p}=a,m=new J_(f,p,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,zpe(r),nc(r),r.component??r._loadedComponent??null,r,Hpe(r)),{segmentGroup:y,slicedSegments:v}=$H(n,f,h,c);if(v.length===0&&y.hasChildren())return this.processChildren(u,c,y).pipe(ct(x=>x===null?null:new Fo(m,x)));if(c.length===0&&v.length===0)return Re(new Fo(m,[]));let b=nc(r)===o;return this.processSegment(u,c,y,v,b?yt:o,!0).pipe(ct(x=>new Fo(m,x instanceof Fo?[x]:[])))}))):Km(n)))}getChildConfig(t,n,r){return n.children?Re({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Re({routes:n._loadedRoutes,injector:n._loadedInjector}):Tpe(t,n,r,this.urlSerializer).pipe($n(i=>i?this.configLoader.loadChildren(t,n).pipe(fr(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Ape(n))):Re({routes:[],injector:t})}};function jpe(e){e.sort((t,n)=>t.value.outlet===yt?-1:n.value.outlet===yt?1:t.value.outlet.localeCompare(n.value.outlet))}function $pe(e){let t=e.value.routeConfig;return t&&t.path===""}function p9(e){let t=[],n=new Set;for(let r of e){if(!$pe(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=p9(r.children);t.push(new Fo(r.value,i))}return t.filter(r=>!n.has(r))}function zpe(e){return e.data||{}}function Hpe(e){return e.resolve||{}}function Gpe(e,t,n,r,i,o){return $n(s=>Vpe(e,t,n,r,s.extractedUrl,i,o).pipe(ct(({state:a,tree:c})=>V(E({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function qpe(e,t){return $n(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Re(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of m9(c))s.add(u);let a=0;return Nn(s).pipe(hl(c=>o.has(c)?Wpe(c,r,e,t):(c.data=hF(c,c.parent,e).resolve,Re(void 0))),fr(()=>a++),Am(1),$n(c=>a===s.size?Re(n):oi))})}function m9(e){let t=e.children.map(n=>m9(n)).flat();return[e,...t]}function Wpe(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!a9(i)&&(o[rv]=i.title),Ype(o,e,t,r).pipe(ct(s=>(e._resolvedData=s,e.data=hF(e,e.parent,n).resolve,null)))}function Ype(e,t,n,r){let i=$k(e);if(i.length===0)return Re({});let o={};return Nn(i).pipe($n(s=>Zpe(e[s],t,n,r).pipe(Ga(),fr(a=>{o[s]=a}))),Am(1),aP(o),sf(s=>d9(s)?oi:Em(s)))}function Zpe(e,t,n,r){let i=sv(t)??r,o=sg(e,i),s=o.resolve?o.resolve(t,n):Qs(i,()=>o(t,n));return Df(s)}function Uk(e){return wi(t=>{let n=e(t);return n?Nn(n).pipe(ct(()=>t)):Re(t)})}var g9=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===yt);return r}getResolvedTitleForRoute(n){return n.data[rv]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:()=>ae(Xpe),providedIn:"root"})}}return e})(),Xpe=(()=>{class e extends g9{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)($e(kH))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cv=new Le("",{providedIn:"root",factory:()=>({})}),nv=new Le(""),_F=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ae(zS)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Re(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Df(n.loadComponent()).pipe(ct(y9),fr(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),cf(()=>{this.componentLoaders.delete(n)})),i=new wm(r,()=>new On).pipe(xm());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Qpe(r,this.compiler,n,this.onLoadEndListener).pipe(cf(()=>{this.childrenLoaders.delete(r)})),s=new wm(o,()=>new On).pipe(xm());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Qpe(e,t,n,r){return Df(e.loadChildren()).pipe(ct(y9),$n(i=>i instanceof x_||Array.isArray(i)?Re(i):Nn(t.compileModuleAsync(i))),ct(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(nv,[],{optional:!0,self:!0}).flat()),{routes:s.map(gF),injector:o}}))}function Kpe(e){return e&&typeof e=="object"&&"default"in e}function y9(e){return Kpe(e)?e.default:e}var vF=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:()=>ae(Jpe),providedIn:"root"})}}return e})(),Jpe=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_9=new Le(""),v9=new Le("");function eme(e,t,n){let r=e.get(v9),i=e.get(hr);return e.get(dn).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),tme(e))),{onViewTransitionCreated:c}=r;return c&&Qs(e,()=>c({transition:a,from:t,to:n})),s})}function tme(e){return new Promise(t=>{FS(t,{injector:e})})}var bF=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new On,this.transitionAbortSubject=new On,this.configLoader=ae(_F),this.environmentInjector=ae(Tr),this.urlSerializer=ae(iv),this.rootContexts=ae(ov),this.location=ae(Xm),this.inputBindingEnabled=ae(bI,{optional:!0})!==null,this.titleStrategy=ae(g9),this.options=ae(cv,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ae(vF),this.createViewTransition=ae(_9,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Re(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Xk(i)),r=i=>this.events.next(new Qk(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(V(E(E({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Ur({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:q_,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Er(o=>o.id!==0),ct(o=>V(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),wi(o=>{let s=!1,a=!1;return Re(o).pipe(wi(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Bo.SupersededByNewNavigation),oi;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?V(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&f!=="reload"){let h="";return this.events.next(new xf(c.id,this.urlSerializer.serialize(c.rawUrl),h,fI.IgnoredSameUrlNavigation)),c.resolve(null),oi}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Re(c).pipe(wi(h=>{let p=this.transitions?.getValue();return this.events.next(new ig(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?oi:Promise.resolve(h)}),Gpe(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),fr(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=V(E({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new dI(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:p,source:m,restoredState:y,extras:v}=c,b=new ig(h,this.urlSerializer.serialize(p),m,y);this.events.next(b);let x=o9(this.rootComponentType).snapshot;return this.currentTransition=o=V(E({},c),{targetSnapshot:x,urlAfterRedirects:p,extras:V(E({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,Re(o)}else{let h="";return this.events.next(new xf(c.id,this.urlSerializer.serialize(c.extractedUrl),h,fI.IgnoredByUrlHandlingStrategy)),c.resolve(null),oi}}),fr(c=>{let u=new qk(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ct(c=>(this.currentTransition=o=V(E({},c),{guards:lpe(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),vpe(this.environmentInjector,c=>this.events.next(c)),fr(c=>{if(o.guardsResult=c.guardsResult,rg(c.guardsResult))throw l9(this.urlSerializer,c.guardsResult);let u=new Wk(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Er(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Bo.GuardRejected),!1)),Uk(c=>{if(c.guards.canActivateChecks.length)return Re(c).pipe(fr(u=>{let f=new Yk(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),wi(u=>{let f=!1;return Re(u).pipe(qpe(this.paramsInheritanceStrategy,this.environmentInjector),fr({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",Bo.NoDataFromResolver)}}))}),fr(u=>{let f=new Zk(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),Uk(c=>{let u=f=>{let h=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(f.routeConfig).pipe(fr(p=>{f.component=p}),ct(()=>{})));for(let p of f.children)h.push(...u(p));return h};return Cm(u(c.targetSnapshot.root)).pipe(af(null),po(1))}),Uk(()=>this.afterPreactivation()),wi(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,f=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return f?Nn(f).pipe(ct(()=>o)):Re(o)}),ct(c=>{let u=tpe(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=V(E({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),fr(()=>{this.events.next(new Q_)}),cpe(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),po(1),fr({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ol(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Di(this.transitionAbortSubject.pipe(fr(c=>{throw c}))),cf(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Bo.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),sf(c=>{if(a=!0,f9(c))this.events.next(new bf(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),ipe(c)?this.events.next(new K_(c.url)):o.resolve(!1);else{this.events.next(new X_(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return oi}))}))}cancelNavigationTransition(n,r,i){let o=new bf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function nme(e){return e!==q_}var rme=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:()=>ae(ime),providedIn:"root"})}}return e})(),dF=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},ime=(()=>{class e extends dF{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=wl(e)))(i||e)}})()}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),b9=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:()=>ae(ome),providedIn:"root"})}}return e})(),ome=(()=>{class e extends b9{constructor(){super(...arguments),this.location=ae(Xm),this.urlSerializer=ae(iv),this.options=ae(cv,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ae(vF),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new vf,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=o9(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ig)this.stateMemento=this.createStateMemento();else if(n instanceof xf)this.rawUrlTree=r.initialUrl;else if(n instanceof dI){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof Q_?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof bf&&(n.code===Bo.GuardRejected||n.code===Bo.NoDataFromResolver)?this.restoreHistory(r):n instanceof X_?this.restoreHistory(r,!0):n instanceof Ol&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=wl(e)))(i||e)}})()}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),H_=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(H_||{});function x9(e,t){e.events.pipe(Er(n=>n instanceof Ol||n instanceof bf||n instanceof X_||n instanceof xf),ct(n=>n instanceof Ol||n instanceof xf?H_.COMPLETE:(n instanceof bf?n.code===Bo.Redirect||n.code===Bo.SupersededByNewNavigation:!1)?H_.REDIRECTING:H_.FAILED),Er(n=>n!==H_.REDIRECTING),po(1)).subscribe(()=>{t()})}function sme(e){throw e}var ame={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cme={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wf=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ae(jS),this.stateManager=ae(b9),this.options=ae(cv,{optional:!0})||{},this.pendingTasks=ae(Wm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ae(bF),this.urlSerializer=ae(iv),this.location=ae(Xm),this.urlHandlingStrategy=ae(vF),this._events=new On,this.errorHandler=this.options.errorHandler||sme,this.navigated=!1,this.routeReuseStrategy=ae(rme),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ae(nv,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ae(bI,{optional:!0}),this.eventsSubscription=new or,this.isNgZoneEnabled=ae(dn)instanceof dn&&dn.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof bf&&r.code!==Bo.Redirect&&r.code!==Bo.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ol)this.navigated=!0;else if(r instanceof K_){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||nme(i.source)};this.scheduleNavigation(s,q_,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}ume(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),q_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=E({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(gF),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,f=null;switch(a){case"merge":f=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let h;try{let p=i?i.snapshot:this.routerState.snapshot.root;h=t9(p)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return n9(h,n,f,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=rg(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,q_,null,r)}navigate(n,r={skipLocationChange:!1}){return lme(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=E({},ame):r===!1?i=E({},cme):i=r,rg(n))return FH(this.currentUrlTree,n,i);let o=this.parseUrl(n);return FH(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((h,p)=>{a=h,c=p});let f=this.pendingTasks.add();return x9(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function lme(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Ae(4008,!1)}function ume(e){return!(e instanceof Q_)&&!(e instanceof K_)}var vI=class{};var fme=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Er(n=>n instanceof Ol),hl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=BS(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Nn(i).pipe(Mm())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=Re(null);let o=i.pipe($n(s=>s===null?Re(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Nn([o,s]).pipe(Mm())}else return o})}static{this.\u0275fac=function(r){return new(r||e)($e(wf),$e(zS),$e(Tr),$e(vI),$e(_F))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),w9=new Le(""),dme=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=ae(Tr),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ig?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ol?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof xf&&n.code===fI.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof hI&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>ce(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),FS(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new hI(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){t7()}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac})}}return e})();function D9(e,...t){return Hm([{provide:nv,multi:!0,useValue:e},[],{provide:gh,useFactory:S9,deps:[wf]},{provide:O_,multi:!0,useFactory:I9},t.map(n=>n.\u0275providers)])}function S9(e){return e.routerState.root}function lv(e,t){return{\u0275kind:e,\u0275providers:t}}function I9(){let e=ae(ko);return t=>{let n=e.get(yf);if(t!==n.components[0])return;let r=e.get(wf),i=e.get(E9);e.get(xF)===1&&r.initialNavigation(),e.get(T9,null,Mt.Optional)?.setUpPreloading(),e.get(w9,null,Mt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var E9=new Le("",{factory:()=>new On}),xF=new Le("",{providedIn:"root",factory:()=>1});function hme(){return lv(2,[{provide:xF,useValue:0},{provide:$S,multi:!0,deps:[ko],useFactory:t=>{let n=t.get(sH,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=t.get(wf),o=t.get(E9);x9(i,()=>{r(!0)}),t.get(bF).afterPreactivation=()=>(r(!0),o.closed?Re(void 0):o),i.initialNavigation()}))}}])}function pme(){return lv(3,[{provide:$S,multi:!0,useFactory:()=>{let t=ae(wf);return()=>{t.setUpLocationChangeListener()}}},{provide:xF,useValue:2}])}var T9=new Le("");function mme(e){return lv(0,[{provide:T9,useExisting:fme},{provide:vI,useExisting:e}])}function gme(){return lv(8,[jH,{provide:bI,useExisting:jH}])}function yme(e){let t=[{provide:_9,useValue:eme},{provide:v9,useValue:E({skipNextTransition:!!e?.skipInitialTransition},e)}];return lv(9,t)}var zH=new Le("ROUTER_FORROOT_GUARD"),_me=[Xm,{provide:iv,useClass:Y_},wf,ov,{provide:gh,useFactory:S9,deps:[wf]},_F,[]],C9=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[_me,[],{provide:nv,multi:!0,useValue:n},{provide:zH,useFactory:wme,deps:[[wf,new S_,new DS]]},{provide:cv,useValue:r||{}},r?.useHash?bme():xme(),vme(),r?.preloadingStrategy?mme(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Dme(r):[],r?.bindToComponentInputs?gme().\u0275providers:[],r?.enableViewTransitions?yme().\u0275providers:[],Sme()]}}static forChild(n){return{ngModule:e,providers:[{provide:nv,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||e)($e(zH,8))}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();function vme(){return{provide:w9,useFactory:()=>{let e=ae(gH),t=ae(dn),n=ae(cv),r=ae(bF),i=ae(iv);return n.scrollOffset&&e.setOffset(n.scrollOffset),new dme(i,r,e,t,n)}}}function bme(){return{provide:dh,useClass:cH}}function xme(){return{provide:dh,useClass:Dk}}function wme(e){return"guarded"}function Dme(e){return[e.initialNavigation==="disabled"?pme().\u0275providers:[],e.initialNavigation==="enabledBlocking"?hme().\u0275providers:[]]}var HH=new Le("");function Sme(){return[{provide:HH,useFactory:I9},{provide:O_,multi:!0,useExisting:HH}]}var M9=(()=>{class e{constructor(){this.title="my-visualization-tool"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=vl({type:e,selectors:[["app-root"]],standalone:!0,features:[Il],decls:1,vars:0,template:function(r,i){r&1&&ms(0,"router-outlet")},dependencies:[C9,mF]})}}return e})();var B9=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(ut(ec),ut(li))}}static{this.\u0275dir=Qn({type:e})}}return e})(),CI=(()=>{class e extends B9{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=wl(e)))(i||e)}})()}static{this.\u0275dir=Qn({type:e,features:[ps]})}}return e})(),pv=new Le(""),Eme={provide:pv,useExisting:Ja(()=>DF),multi:!0},DF=(()=>{class e extends CI{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=wl(e)))(i||e)}})()}static{this.\u0275dir=Qn({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Kn("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[gf([Eme]),ps]})}}return e})(),Tme={provide:pv,useExisting:Ja(()=>V9),multi:!0};function Cme(){let e=Al()?Al().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Mme=new Le(""),V9=(()=>{class e extends B9{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Cme())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(ut(ec),ut(li),ut(Mme,8))}}static{this.\u0275dir=Qn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Kn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[gf([Tme]),ps]})}}return e})();var U9=new Le(""),j9=new Le("");function $9(e){return e!=null}function z9(e){return fh(e)?Nn(e):e}function H9(e){let t={};return e.forEach(n=>{t=n!=null?E(E({},t),n):t}),Object.keys(t).length===0?null:t}function G9(e,t){return t.map(n=>n(e))}function Ame(e){return!e.validate}function q9(e){return e.map(t=>Ame(t)?t:n=>t.validate(n))}function Ome(e){if(!e)return null;let t=e.filter($9);return t.length==0?null:function(n){return H9(G9(n,t))}}function SF(e){return e!=null?Ome(q9(e)):null}function Nme(e){if(!e)return null;let t=e.filter($9);return t.length==0?null:function(n){let r=G9(n,t).map(z9);return iP(r).pipe(ct(H9))}}function IF(e){return e!=null?Nme(q9(e)):null}function A9(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Rme(e){return e._rawValidators}function Pme(e){return e._rawAsyncValidators}function wF(e){return e?Array.isArray(e)?e:[e]:[]}function DI(e,t){return Array.isArray(e)?e.includes(t):e===t}function O9(e,t){let n=wF(t);return wF(e).forEach(i=>{DI(n,i)||n.push(i)}),n}function N9(e,t){return wF(t).filter(n=>!DI(e,n))}var SI=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=SF(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=IF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},cg=class extends SI{get formDirective(){return null}get path(){return null}},hv=class extends SI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},II=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Lme={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},k5e=V(E({},Lme),{"[class.ng-submitted]":"isSubmitted"}),W9=(()=>{class e extends II{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(ut(hv,2))}}static{this.\u0275dir=Qn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ea("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ps]})}}return e})(),Y9=(()=>{class e extends II{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(ut(cg,10))}}static{this.\u0275dir=Qn({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ea("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ps]})}}return e})();var uv="VALID",wI="INVALID",ag="PENDING",fv="DISABLED";function Z9(e){return(MI(e)?e.validators:e)||null}function kme(e){return Array.isArray(e)?SF(e):e||null}function X9(e,t){return(MI(t)?t.asyncValidators:e)||null}function Fme(e){return Array.isArray(e)?IF(e):e||null}function MI(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Bme(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new Ae(1e3,"");if(!r[n])throw new Ae(1001,"")}function Vme(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new Ae(1002,"")})}var EI=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===uv}get invalid(){return this.status===wI}get pending(){return this.status==ag}get disabled(){return this.status===fv}get enabled(){return this.status!==fv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(O9(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(O9(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(N9(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(N9(t,this._rawAsyncValidators))}hasValidator(t){return DI(this._rawValidators,t)}hasAsyncValidator(t){return DI(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ag,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=fv,this.errors=null,this._forEachChild(r=>{r.disable(V(E({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(V(E({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=uv,this._forEachChild(r=>{r.enable(V(E({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(V(E({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uv||this.status===ag)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fv:uv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ag,this._hasOwnPendingAsyncValidator=!0;let n=z9(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new dr,this.statusChanges=new dr}_calculateStatus(){return this._allControlsDisabled()?fv:this.errors?wI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ag)?ag:this._anyControlsHaveStatus(wI)?wI:uv}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){MI(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=kme(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Fme(this._rawAsyncValidators)}},TI=class extends EI{constructor(t,n,r){super(Z9(n),X9(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){Vme(this,!0,t),Object.keys(t).forEach(r=>{Bme(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var EF=new Le("CallSetDisabledState",{providedIn:"root",factory:()=>TF}),TF="always";function Ume(e,t){return[...t.path,e]}function Q9(e,t,n=TF){K9(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),$me(e,t),Hme(e,t),zme(e,t),jme(e,t)}function R9(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function jme(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function K9(e,t){let n=Rme(e);t.validator!==null?e.setValidators(A9(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=Pme(e);t.asyncValidator!==null?e.setAsyncValidators(A9(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();R9(t._rawValidators,i),R9(t._rawAsyncValidators,i)}function $me(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&J9(e,t)})}function zme(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&J9(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function J9(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Hme(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function Gme(e,t){e==null,K9(e,t)}function qme(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function Wme(e){return Object.getPrototypeOf(e.constructor)===CI}function Yme(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Zme(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===V9?n=o:Wme(o)?r=o:i=o}),i||r||n||null}var Xme={provide:cg,useExisting:Ja(()=>CF)},dv=Promise.resolve(),CF=(()=>{class e extends cg{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new dr,this.form=new TI({},SF(n),IF(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){dv.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Q9(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){dv.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){dv.then(()=>{let r=this._findContainer(n.path),i=new TI({});Gme(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){dv.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){dv.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,Yme(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||e)(ut(U9,10),ut(j9,10),ut(EF,8))}}static{this.\u0275dir=Qn({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Kn("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[zi.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gf([Xme]),ps]})}}return e})();function P9(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function L9(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Qme=class extends EI{constructor(t=null,n,r){super(Z9(n),X9(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),MI(n)&&(n.nonNullable||n.initialValueIsDefault)&&(L9(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){P9(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){P9(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){L9(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Kme={provide:hv,useExisting:Ja(()=>MF)},k9=Promise.resolve(),MF=(()=>{class e extends hv{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Qme,this._registered=!1,this.name="",this.update=new dr,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Zme(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),qme(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Q9(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){k9.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&HS(r);k9.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Ume(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||e)(ut(cg,9),ut(U9,10),ut(j9,10),ut(pv,10),ut(Tl,8),ut(EF,8))}}static{this.\u0275dir=Qn({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[zi.None,"disabled","isDisabled"],model:[zi.None,"ngModel","model"],options:[zi.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gf([Kme]),ps,ah]})}}return e})(),eG=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Qn({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})();var Jme={provide:pv,useExisting:Ja(()=>AI),multi:!0};function tG(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function ege(e){return e.split(":")[0]}var AI=(()=>{class e extends CI{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=tG(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=ege(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=wl(e)))(i||e)}})()}static{this.\u0275dir=Qn({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Kn("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[gf([Jme]),ps]})}}return e})(),nG=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(tG(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(ut(li),ut(ec),ut(AI,9))}}static{this.\u0275dir=Qn({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),tge={provide:pv,useExisting:Ja(()=>rG),multi:!0};function F9(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function nge(e){return e.split(":")[0]}var rG=(()=>{class e extends CI{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=nge(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=wl(e)))(i||e)}})()}static{this.\u0275dir=Qn({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Kn("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[gf([tge]),ps]})}}return e})(),iG=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(F9(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(F9(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(ut(li),ut(ec),ut(rG,9))}}static{this.\u0275dir=Qn({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();var rge=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();var oG=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:EF,useValue:n.callSetDisabledState??TF}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({imports:[rge]})}}return e})();var il=hj(aG());var hd={};tf(hd,{Area:()=>lp,Arrow:()=>C1,BarX:()=>fp,BarY:()=>dp,Cell:()=>hp,Contour:()=>F1,Density:()=>U1,Dot:()=>pp,Frame:()=>w1,Geo:()=>j1,Hexgrid:()=>$1,Image:()=>z1,Line:()=>mp,Link:()=>E1,Mark:()=>ze,Raster:()=>k1,Rect:()=>cp,RuleX:()=>h1,RuleY:()=>p1,Text:()=>op,TickX:()=>O1,TickY:()=>N1,Tip:()=>D1,Vector:()=>ap,WaffleX:()=>G1,WaffleY:()=>q1,area:()=>up,areaX:()=>ad,areaY:()=>Cs,arrow:()=>iJ,auto:()=>mJ,autoSpec:()=>r6,axisFx:()=>OM,axisFy:()=>AM,axisX:()=>g1,axisY:()=>m1,barX:()=>kc,barY:()=>Fc,bin:()=>mu,binX:()=>Pc,binY:()=>Lc,bollinger:()=>ud,bollingerX:()=>xJ,bollingerY:()=>wJ,boxX:()=>DJ,boxY:()=>R1,cell:()=>cd,cellX:()=>sJ,cellY:()=>aJ,centroid:()=>sA,circle:()=>uJ,cluster:()=>xee,column:()=>Xr,contour:()=>NJ,crosshair:()=>LJ,crosshairX:()=>kJ,crosshairY:()=>FJ,delaunayLink:()=>UJ,delaunayMesh:()=>jJ,density:()=>qJ,differenceX:()=>ZJ,differenceY:()=>XJ,dodgeX:()=>jee,dodgeY:()=>$ee,dot:()=>nn,dotX:()=>cJ,dotY:()=>lJ,filter:()=>gX,find:()=>IX,formatIsoDate:()=>CV,formatMonth:()=>AQ,formatNumber:()=>TV,formatWeekday:()=>OQ,frame:()=>Ty,geo:()=>aA,geoCentroid:()=>KJ,graticule:()=>eee,gridFx:()=>LM,gridFy:()=>RM,gridX:()=>PM,gridY:()=>NM,group:()=>i1,groupX:()=>Zf,groupY:()=>Xf,groupZ:()=>r1,hexagon:()=>fJ,hexbin:()=>tee,hexgrid:()=>nee,hull:()=>$J,identity:()=>pe,image:()=>iee,indexOf:()=>mn,initializer:()=>xn,interpolateNearest:()=>iA,interpolateNone:()=>nA,interpolatorBarycentric:()=>rA,interpolatorRandomWalk:()=>oA,legend:()=>EK,line:()=>Yo,lineX:()=>ld,lineY:()=>Lr,linearRegressionX:()=>aee,linearRegressionY:()=>cee,link:()=>Ay,map:()=>bo,mapX:()=>Ry,mapY:()=>Py,marks:()=>wr,normalize:()=>gA,normalizeX:()=>qee,normalizeY:()=>Wee,numberInterval:()=>G4,plot:()=>Pr,pointer:()=>Rc,pointerX:()=>Or,pointerY:()=>hu,raster:()=>CJ,rect:()=>x1,rectX:()=>Iy,rectY:()=>Ey,reverse:()=>yX,ruleX:()=>Nr,ruleY:()=>Rr,scale:()=>u1,select:()=>Qee,selectFirst:()=>Z1,selectLast:()=>X1,selectMaxX:()=>bA,selectMaxY:()=>xA,selectMinX:()=>_A,selectMinY:()=>vA,shiftX:()=>Yee,shiftY:()=>Zee,shuffle:()=>_X,sort:()=>KC,sphere:()=>JJ,spike:()=>sK,stackX:()=>qV,stackX1:()=>NK,stackX2:()=>RK,stackY:()=>WV,stackY1:()=>PK,stackY2:()=>LK,text:()=>Ri,textX:()=>DM,textY:()=>SM,tickX:()=>JM,tickY:()=>eA,timeInterval:()=>Qb,tip:()=>$M,transform:()=>xr,tree:()=>D6,treeLink:()=>dA,treeNode:()=>H1,utcInterval:()=>Zh,valueof:()=>ke,vector:()=>zV,vectorX:()=>TM,vectorY:()=>CM,voronoi:()=>zJ,voronoiMesh:()=>HJ,waffleX:()=>Tee,waffleY:()=>Cee,window:()=>Ly,windowX:()=>gJ,windowY:()=>yJ});function _t(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rc(e){let t,n,r;e.length!==2?(t=_t,n=(a,c)=>_t(e(a),c),r=(a,c)=>e(a)-c):(t=e===_t||e===Hi?e:oge,n=e,r=e);function i(a,c,u=0,f=a.length){if(u<f){if(t(c,c)!==0)return f;do{let h=u+f>>>1;n(a[h],c)<0?u=h+1:f=h}while(u<f)}return u}function o(a,c,u=0,f=a.length){if(u<f){if(t(c,c)!==0)return f;do{let h=u+f>>>1;n(a[h],c)<=0?u=h+1:f=h}while(u<f)}return u}function s(a,c,u=0,f=a.length){let h=i(a,c,u,f-1);return h>u&&r(a[h-1],c)>-r(a[h],c)?h-1:h}return{left:i,center:s,right:o}}function oge(){return 0}function mv(e){return e===null?NaN:+e}function*cG(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}var lG=rc(_t),uG=lG.right,sge=lG.left,age=rc(mv).center,Nl=uG;var gv=fG(dG),AF=fG(cge);function fG(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:s}=t;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(s!==void 0?s:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!s||!n&&!r)return t;let a=n&&e(n),c=r&&e(r),u=i.slice();return a&&c?(lg(a,u,i,o,s),lg(a,i,u,o,s),lg(a,u,i,o,s),ug(c,i,u,o,s),ug(c,u,i,o,s),ug(c,i,u,o,s)):a?(lg(a,i,u,o,s),lg(a,u,i,o,s),lg(a,i,u,o,s)):c&&(ug(c,i,u,o,s),ug(c,u,i,o,s),ug(c,i,u,o,s)),t}}function lg(e,t,n,r,i){for(let o=0,s=r*i;o<s;)e(t,n,o,o+=r,1)}function ug(e,t,n,r,i){for(let o=0,s=r*i;o<r;++o)e(t,n,o,o+s,r)}function cge(e){let t=dG(e);return(n,r,i,o,s)=>{i<<=2,o<<=2,s<<=2,t(n,r,i+0,o+0,s),t(n,r,i+1,o+1,s),t(n,r,i+2,o+2,s),t(n,r,i+3,o+3,s)}}function dG(e){let t=Math.floor(e);if(t===e)return lge(e);let n=e-t,r=2*e+1;return(i,o,s,a,c)=>{if(!((a-=c)>=s))return;let u=t*o[s],f=c*t,h=f+c;for(let p=s,m=s+f;p<m;p+=c)u+=o[Math.min(a,p)];for(let p=s,m=a;p<=m;p+=c)u+=o[Math.min(a,p+f)],i[p]=(u+n*(o[Math.max(s,p-h)]+o[Math.min(a,p+h)]))/r,u-=o[Math.max(s,p-f)]}}function lge(e){let t=2*e+1;return(n,r,i,o,s)=>{if(!((o-=s)>=i))return;let a=e*r[i],c=s*e;for(let u=i,f=i+c;u<f;u+=s)a+=r[Math.min(o,u)];for(let u=i,f=o;u<=f;u+=s)a+=r[Math.min(o,u+c)],n[u]=a/t,a-=r[Math.max(i,u-c)]}}function ic(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function uge(e){return e.length|0}function fge(e){return!(e>0)}function dge(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function hge(e){return t=>e(...t)}function NI(...e){let t=typeof e[e.length-1]=="function"&&hge(e.pop());e=e.map(dge);let n=e.map(uge),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(fge))return o;for(;;){o.push(i.map((a,c)=>e[c][a]));let s=r;for(;++i[s]===n[s];){if(s===0)return t?o.map(t):o;i[s--]=0}}}function RI(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function Sf(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function ys(e,t){let n=Sf(e,t);return n&&Math.sqrt(n)}function qt(e,t){let n,r;if(t===void 0)for(let i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}var ui=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let n=this._partials,r=0;for(let i=0;i<this._n&&i<32;i++){let o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){let t=this._partials,n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}};var Gi=class extends Map{constructor(t,n=mG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let[r,i]of t)this.set(r,i)}get(t){return super.get(OF(this,t))}has(t){return super.has(OF(this,t))}set(t,n){return super.set(hG(this,t),n)}delete(t){return super.delete(pG(this,t))}},yo=class extends Set{constructor(t,n=mG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let r of t)this.add(r)}has(t){return super.has(OF(this,t))}add(t){return super.add(hG(this,t))}delete(t){return super.delete(pG(this,t))}};function OF({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):n}function hG({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function pG({_intern:e,_key:t},n){let r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function mG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function yv(e){return e}function fi(e,...t){return RF(e,yv,yv,t)}function oa(e,t,...n){return RF(e,yv,t,n)}function NF(e,t,...n){return RF(e,Array.from,t,n)}function RF(e,t,n,r){return function i(o,s){if(s>=r.length)return n(o);let a=new Gi,c=r[s++],u=-1;for(let f of o){let h=c(f,++u,o),p=a.get(h);p?p.push(f):a.set(h,[f])}for(let[f,h]of a)a.set(f,i(h,s));return t(a)}(e,0)}function PF(e,t){return Array.from(t,n=>e[n])}function Rl(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){let r=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,o)=>{for(let s of t){let a=yh(s[i],s[o]);if(a)return a}})):(n=e.map(n),r.sort((i,o)=>yh(n[i],n[o]))),PF(e,r)}return e.sort(_v(n))}function _v(e=_t){if(e===_t)return yh;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{let r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function yh(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function fg(e,t,n){return(t.length!==2?Rl(oa(e,t,n),([r,i],[o,s])=>_t(i,s)||_t(r,o)):Rl(fi(e,n),([r,i],[o,s])=>t(i,s)||_t(r,o))).map(([r])=>r)}var pge=Math.sqrt(50),mge=Math.sqrt(10),gge=Math.sqrt(2);function PI(e,t,n){let r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=pge?10:o>=mge?5:o>=gge?2:1,a,c,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),c=Math.round(t*u),a/u<e&&++a,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),c=Math.round(t/u),a*u<e&&++a,c*u>t&&--c),c<a&&.5<=n&&n<2?PI(e,t,n*2):[a,c,u]}function di(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];let r=t<e,[i,o,s]=r?PI(t,e,n):PI(e,t,n);if(!(o>=i))return[];let a=o-i+1,c=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)c[u]=(o-u)/-s;else for(let u=0;u<a;++u)c[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)c[u]=(i+u)/-s;else for(let u=0;u<a;++u)c[u]=(i+u)*s;return c}function Pl(e,t,n){return t=+t,e=+e,n=+n,PI(e,t,n)[2]}function dg(e,t,n){t=+t,e=+e,n=+n;let r=t<e,i=r?Pl(t,e,n):Pl(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function hg(e,t,n){let r;for(;;){let i=Pl(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function If(e){return Math.max(1,Math.ceil(Math.log(ic(e))/Math.LN2)+1)}function Ft(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function LI(e,t){let n,r=-1,i=-1;if(t===void 0)for(let o of e)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function $t(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function kI(e,t){let n,r=-1,i=-1;if(t===void 0)for(let o of e)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function FI(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?yh:_v(i);r>n;){if(r-n>600){let c=r-n+1,u=t-n+1,f=Math.log(c),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*h/c+p)),y=Math.min(r,Math.floor(t+(c-u)*h/c+p));FI(e,t,m,y,i)}let o=e[t],s=n,a=r;for(vv(e,n,t),i(e[r],o)>0&&vv(e,n,r);s<a;){for(vv(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?vv(e,n,a):(++a,vv(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function vv(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function _h(e,t=_t){let n,r=!1;if(t.length===1){let i;for(let o of e){let s=t(o);(r?_t(s,i)>0:_t(s,s)===0)&&(n=o,i=s,r=!0)}}else for(let i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function qi(e,t,n){if(e=Float64Array.from(cG(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return $t(e);if(t>=1)return Ft(e);var r,i=(r-1)*t,o=Math.floor(i),s=Ft(FI(e,o).subarray(0,o+1)),a=$t(e.subarray(o+1));return s+(a-s)*(i-o)}}function LF(e,t,n=mv){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function BI(e,t,n){let r=ic(e),i=qi(e,.75)-qi(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function bv(e,t,n){let r=ic(e),i=ys(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function Ll(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function sa(e,t){return qi(e,.5,t)}function*_ge(e){for(let t of e)yield*fl(t)}function pg(e){return Array.from(_ge(e))}function mg(e,t){let n=new Gi;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(let[o,s]of n)s>i&&(i=s,r=o);return r}function VI(e,t=vge){let n=[],r,i=!1;for(let o of e)i&&n.push(t(r,o)),r=o,i=!0;return n}function vge(e,t){return[e,t]}function Jn(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function xv(e,t=_t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(e),r=new Float64Array(n.length);t.length!==2&&(n=n.map(t),t=_t);let i=(a,c)=>t(n[a],n[c]),o,s;return e=Uint32Array.from(n,(a,c)=>c),e.sort(t===_t?(a,c)=>yh(n[a],n[c]):_v(i)),e.forEach((a,c)=>{let u=i(a,o===void 0?a:o);u>=0?((o===void 0||u>0)&&(o=a,s=c),r[a]=s):r[a]=NaN}),r}function UI(e,t=_t){let n,r=!1;if(t.length===1){let i;for(let o of e){let s=t(o);(r?_t(s,i)<0:_t(s,s)===0)&&(n=o,i=s,r=!0)}}else for(let i of e)(r?t(i,n)<0:t(i,i)===0)&&(n=i,r=!0);return n}function zr(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Ef(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function gG(e){return e}var kF=1,FF=2,BF=3,jI=4,yG=1e-6;function bge(e){return"translate("+e+",0)"}function xge(e){return"translate(0,"+e+")"}function wge(e){return t=>+e(t)}function Dge(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Sge(){return!this.__axis}function Ige(e,t){var n=[],r=null,i=null,o=6,s=6,a=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===kF||e===jI?-1:1,f=e===jI||e===FF?"x":"y",h=e===kF||e===BF?bge:xge;function p(m){var y=r??(t.ticks?t.ticks.apply(t,n):t.domain()),v=i??(t.tickFormat?t.tickFormat.apply(t,n):gG),b=Math.max(o,0)+a,x=t.range(),w=+x[0]+c,D=+x[x.length-1]+c,I=(t.bandwidth?Dge:wge)(t.copy(),c),A=m.selection?m.selection():m,T=A.selectAll(".domain").data([null]),N=A.selectAll(".tick").data(y,t).order(),B=N.exit(),R=N.enter().append("g").attr("class","tick"),P=N.select("line"),O=N.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge(R),P=P.merge(R.append("line").attr("stroke","currentColor").attr(f+"2",u*o)),O=O.merge(R.append("text").attr("fill","currentColor").attr(f,u*b).attr("dy",e===kF?"0em":e===BF?"0.71em":"0.32em")),m!==A&&(T=T.transition(m),N=N.transition(m),P=P.transition(m),O=O.transition(m),B=B.transition(m).attr("opacity",yG).attr("transform",function(k){return isFinite(k=I(k))?h(k+c):this.getAttribute("transform")}),R.attr("opacity",yG).attr("transform",function(k){var H=this.parentNode.__axis;return h((H&&isFinite(H=H(k))?H:I(k))+c)})),B.remove(),T.attr("d",e===jI||e===FF?s?"M"+u*s+","+w+"H"+c+"V"+D+"H"+u*s:"M"+c+","+w+"V"+D:s?"M"+w+","+u*s+"V"+c+"H"+D+"V"+u*s:"M"+w+","+c+"H"+D),N.attr("opacity",1).attr("transform",function(k){return h(I(k)+c)}),P.attr(f+"2",u*o),O.attr(f,u*b).text(v),A.filter(Sge).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===FF?"start":e===jI?"end":"middle"),A.each(function(){this.__axis=I})}return p.scale=function(m){return arguments.length?(t=m,p):t},p.ticks=function(){return n=Array.from(arguments),p},p.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),p):n.slice()},p.tickValues=function(m){return arguments.length?(r=m==null?null:Array.from(m),p):r&&r.slice()},p.tickFormat=function(m){return arguments.length?(i=m,p):i},p.tickSize=function(m){return arguments.length?(o=s=+m,p):o},p.tickSizeInner=function(m){return arguments.length?(o=+m,p):o},p.tickSizeOuter=function(m){return arguments.length?(s=+m,p):s},p.tickPadding=function(m){return arguments.length?(a=+m,p):a},p.offset=function(m){return arguments.length?(c=+m,p):c},p}function VF(e){return Ige(BF,e)}var Ege={value:()=>{}};function vG(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new $I(n)}function $I(e){this._=e}function Tge(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}$I.prototype=vG.prototype={constructor:$I,on:function(e,t){var n=this._,r=Tge(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Cge(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=_G(n[i],e.name,t);else if(t==null)for(i in n)n[i]=_G(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new $I(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Cge(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function _G(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Ege,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var wv=vG;var zI="http://www.w3.org/1999/xhtml",Wi={svg:"http://www.w3.org/2000/svg",xhtml:zI,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function kl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Wi.hasOwnProperty(t)?{space:Wi[t],local:e}:e}function Mge(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===zI&&t.documentElement.namespaceURI===zI?t.createElement(e):t.createElementNS(n,e)}}function Age(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Fl(e){var t=kl(e);return(t.local?Age:Mge)(t)}function Oge(){}function vh(e){return e==null?Oge:function(){return this.querySelector(e)}}function bG(e){typeof e!="function"&&(e=vh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),c,u,f=0;f<s;++f)(c=o[f])&&(u=e.call(c,c.__data__,f,o))&&("__data__"in c&&(u.__data__=c.__data__),a[f]=u);return new er(r,this._parents)}function UF(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Nge(){return[]}function Dv(e){return e==null?Nge:function(){return this.querySelectorAll(e)}}function Rge(e){return function(){return UF(e.apply(this,arguments))}}function xG(e){typeof e=="function"?e=Rge(e):e=Dv(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&(r.push(e.call(c,c.__data__,u,s)),i.push(c));return new er(r,i)}function Sv(e){return function(){return this.matches(e)}}function HI(e){return function(t){return t.matches(e)}}var Pge=Array.prototype.find;function Lge(e){return function(){return Pge.call(this.children,e)}}function kge(){return this.firstElementChild}function wG(e){return this.select(e==null?kge:Lge(typeof e=="function"?e:HI(e)))}var Fge=Array.prototype.filter;function Bge(){return Array.from(this.children)}function Vge(e){return function(){return Fge.call(this.children,e)}}function DG(e){return this.selectAll(e==null?Bge:Vge(typeof e=="function"?e:HI(e)))}function SG(e){typeof e!="function"&&(e=Sv(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new er(r,this._parents)}function GI(e){return new Array(e.length)}function IG(){return new er(this._enter||this._groups.map(GI),this._parents)}function Iv(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Iv.prototype={constructor:Iv,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function EG(e){return function(){return e}}function Uge(e,t,n,r,i,o){for(var s=0,a,c=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Iv(e,o[s]);for(;s<c;++s)(a=t[s])&&(i[s]=a)}function jge(e,t,n,r,i,o,s){var a,c,u=new Map,f=t.length,h=o.length,p=new Array(f),m;for(a=0;a<f;++a)(c=t[a])&&(p[a]=m=s.call(c,c.__data__,a,t)+"",u.has(m)?i[a]=c:u.set(m,c));for(a=0;a<h;++a)m=s.call(e,o[a],a,o)+"",(c=u.get(m))?(r[a]=c,c.__data__=o[a],u.delete(m)):n[a]=new Iv(e,o[a]);for(a=0;a<f;++a)(c=t[a])&&u.get(p[a])===c&&(i[a]=c)}function $ge(e){return e.__data__}function TG(e,t){if(!arguments.length)return Array.from(this,$ge);var n=t?jge:Uge,r=this._parents,i=this._groups;typeof e!="function"&&(e=EG(e));for(var o=i.length,s=new Array(o),a=new Array(o),c=new Array(o),u=0;u<o;++u){var f=r[u],h=i[u],p=h.length,m=zge(e.call(f,f&&f.__data__,u,r)),y=m.length,v=a[u]=new Array(y),b=s[u]=new Array(y),x=c[u]=new Array(p);n(f,h,v,b,x,m,t);for(var w=0,D=0,I,A;w<y;++w)if(I=v[w]){for(w>=D&&(D=w+1);!(A=b[D])&&++D<y;);I._next=A||null}}return s=new er(s,r),s._enter=a,s._exit=c,s}function zge(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function CG(){return new er(this._exit||this._groups.map(GI),this._parents)}function MG(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function AG(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),c=0;c<s;++c)for(var u=n[c],f=r[c],h=u.length,p=a[c]=new Array(h),m,y=0;y<h;++y)(m=u[y]||f[y])&&(p[y]=m);for(;c<i;++c)a[c]=n[c];return new er(a,this._parents)}function OG(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function NG(e){e||(e=Hge);function t(h,p){return h&&p?e(h.__data__,p.__data__):!h-!p}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,c=i[o]=new Array(a),u,f=0;f<a;++f)(u=s[f])&&(c[f]=u);c.sort(t)}return new er(i,this._parents).order()}function Hge(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function RG(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function PG(){return Array.from(this)}function LG(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function kG(){let e=0;for(let t of this)++e;return e}function FG(){return!this.node()}function BG(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function Gge(e){return function(){this.removeAttribute(e)}}function qge(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wge(e,t){return function(){this.setAttribute(e,t)}}function Yge(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Zge(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Xge(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function VG(e,t){var n=kl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?qge:Gge:typeof t=="function"?n.local?Xge:Zge:n.local?Yge:Wge)(n,t))}function qI(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Qge(e){return function(){this.style.removeProperty(e)}}function Kge(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Jge(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function UG(e,t,n){return arguments.length>1?this.each((t==null?Qge:typeof t=="function"?Jge:Kge)(e,t,n??"")):Tf(this.node(),e)}function Tf(e,t){return e.style.getPropertyValue(t)||qI(e).getComputedStyle(e,null).getPropertyValue(t)}function eye(e){return function(){delete this[e]}}function tye(e,t){return function(){this[e]=t}}function nye(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function jG(e,t){return arguments.length>1?this.each((t==null?eye:typeof t=="function"?nye:tye)(e,t)):this.node()[e]}function $G(e){return e.trim().split(/^|\s+/)}function jF(e){return e.classList||new zG(e)}function zG(e){this._node=e,this._names=$G(e.getAttribute("class")||"")}zG.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function HG(e,t){for(var n=jF(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function GG(e,t){for(var n=jF(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function rye(e){return function(){HG(this,e)}}function iye(e){return function(){GG(this,e)}}function oye(e,t){return function(){(t.apply(this,arguments)?HG:GG)(this,e)}}function qG(e,t){var n=$G(e+"");if(arguments.length<2){for(var r=jF(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?oye:t?rye:iye)(n,t))}function sye(){this.textContent=""}function aye(e){return function(){this.textContent=e}}function cye(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function WG(e){return arguments.length?this.each(e==null?sye:(typeof e=="function"?cye:aye)(e)):this.node().textContent}function lye(){this.innerHTML=""}function uye(e){return function(){this.innerHTML=e}}function fye(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function YG(e){return arguments.length?this.each(e==null?lye:(typeof e=="function"?fye:uye)(e)):this.node().innerHTML}function dye(){this.nextSibling&&this.parentNode.appendChild(this)}function ZG(){return this.each(dye)}function hye(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function XG(){return this.each(hye)}function QG(e){var t=typeof e=="function"?e:Fl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function pye(){return null}function KG(e,t){var n=typeof e=="function"?e:Fl(e),r=t==null?pye:typeof t=="function"?t:vh(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function mye(){var e=this.parentNode;e&&e.removeChild(this)}function JG(){return this.each(mye)}function gye(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yye(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function eq(e){return this.select(e?yye:gye)}function tq(e){return arguments.length?this.property("__data__",e):this.node().__data__}function _ye(e){return function(t){e.call(this,t,this.__data__)}}function vye(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function bye(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function xye(e,t,n){return function(){var r=this.__on,i,o=_ye(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function nq(e,t,n){var r=vye(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,f;c<u;++c)for(i=0,f=a[c];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(a=t?xye:bye,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function rq(e,t,n){var r=qI(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function wye(e,t){return function(){return rq(this,e,t)}}function Dye(e,t){return function(){return rq(this,e,t.apply(this,arguments))}}function iq(e,t){return this.each((typeof t=="function"?Dye:wye)(e,t))}function*oq(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var $F=[null];function er(e,t){this._groups=e,this._parents=t}function sq(){return new er([[document.documentElement]],$F)}function Sye(){return this}er.prototype=sq.prototype={constructor:er,select:bG,selectAll:xG,selectChild:wG,selectChildren:DG,filter:SG,data:TG,enter:IG,exit:CG,join:MG,merge:AG,selection:Sye,order:OG,sort:NG,call:RG,nodes:PG,node:LG,size:kG,empty:FG,each:BG,attr:VG,style:UG,property:jG,classed:qG,text:WG,html:YG,raise:ZG,lower:XG,append:QG,insert:KG,remove:JG,clone:eq,datum:tq,on:nq,dispatch:iq,[Symbol.iterator]:oq};var Bl=sq;function ln(e){return typeof e=="string"?new er([[document.querySelector(e)]],[document.documentElement]):new er([[e]],$F)}function aq(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Cf(e,t){if(e=aq(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}var WI={capture:!0,passive:!1};function YI(e){e.preventDefault(),e.stopImmediatePropagation()}function zF(e){var t=e.document.documentElement,n=ln(e).on("dragstart.drag",YI,WI);"onselectstart"in t?n.on("selectstart.drag",YI,WI):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function HF(e,t){var n=e.document.documentElement,r=ln(e).on("dragstart.drag",null);t&&(r.on("click.drag",YI,WI),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Vl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Mf(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function sc(){}var Af=.7,wh=1/Af,gg="\\s*([+-]?\\d+)\\s*",Ev="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Iye=/^#([0-9a-f]{3,8})$/,Eye=new RegExp(`^rgb\\(${gg},${gg},${gg}\\)$`),Tye=new RegExp(`^rgb\\(${oc},${oc},${oc}\\)$`),Cye=new RegExp(`^rgba\\(${gg},${gg},${gg},${Ev}\\)$`),Mye=new RegExp(`^rgba\\(${oc},${oc},${oc},${Ev}\\)$`),Aye=new RegExp(`^hsl\\(${Ev},${oc},${oc}\\)$`),Oye=new RegExp(`^hsla\\(${Ev},${oc},${oc},${Ev}\\)$`),cq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vl(sc,Vo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lq,formatHex:lq,formatHex8:Nye,formatHsl:Rye,formatRgb:uq,toString:uq});function lq(){return this.rgb().formatHex()}function Nye(){return this.rgb().formatHex8()}function Rye(){return gq(this).formatHsl()}function uq(){return this.rgb().formatRgb()}function Vo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Iye.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fq(t):n===3?new pr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ZI(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ZI(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Eye.exec(e))?new pr(t[1],t[2],t[3],1):(t=Tye.exec(e))?new pr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Cye.exec(e))?ZI(t[1],t[2],t[3],t[4]):(t=Mye.exec(e))?ZI(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Aye.exec(e))?pq(t[1],t[2]/100,t[3]/100,1):(t=Oye.exec(e))?pq(t[1],t[2]/100,t[3]/100,t[4]):cq.hasOwnProperty(e)?fq(cq[e]):e==="transparent"?new pr(NaN,NaN,NaN,0):null}function fq(e){return new pr(e>>16&255,e>>8&255,e&255,1)}function ZI(e,t,n,r){return r<=0&&(e=t=n=NaN),new pr(e,t,n,r)}function Tv(e){return e instanceof sc||(e=Vo(e)),e?(e=e.rgb(),new pr(e.r,e.g,e.b,e.opacity)):new pr}function Si(e,t,n,r){return arguments.length===1?Tv(e):new pr(e,t,n,r??1)}function pr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Vl(pr,Si,Mf(sc,{brighter(e){return e=e==null?wh:Math.pow(wh,e),new pr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Af:Math.pow(Af,e),new pr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pr(xh(this.r),xh(this.g),xh(this.b),QI(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dq,formatHex:dq,formatHex8:Pye,formatRgb:hq,toString:hq}));function dq(){return`#${bh(this.r)}${bh(this.g)}${bh(this.b)}`}function Pye(){return`#${bh(this.r)}${bh(this.g)}${bh(this.b)}${bh((isNaN(this.opacity)?1:this.opacity)*255)}`}function hq(){let e=QI(this.opacity);return`${e===1?"rgb(":"rgba("}${xh(this.r)}, ${xh(this.g)}, ${xh(this.b)}${e===1?")":`, ${e})`}`}function QI(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bh(e){return e=xh(e),(e<16?"0":"")+e.toString(16)}function pq(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new aa(e,t,n,r)}function gq(e){if(e instanceof aa)return new aa(e.h,e.s,e.l,e.opacity);if(e instanceof sc||(e=Vo(e)),!e)return new aa;if(e instanceof aa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new aa(s,a,c,e.opacity)}function Cv(e,t,n,r){return arguments.length===1?gq(e):new aa(e,t,n,r??1)}function aa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Vl(aa,Cv,Mf(sc,{brighter(e){return e=e==null?wh:Math.pow(wh,e),new aa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Af:Math.pow(Af,e),new aa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new pr(GF(e>=240?e-240:e+120,i,r),GF(e,i,r),GF(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new aa(mq(this.h),XI(this.s),XI(this.l),QI(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=QI(this.opacity);return`${e===1?"hsl(":"hsla("}${mq(this.h)}, ${XI(this.s)*100}%, ${XI(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mq(e){return e=(e||0)%360,e<0?e+360:e}function XI(e){return Math.max(0,Math.min(1,e||0))}function GF(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var KI=Math.PI/180,JI=180/Math.PI;var eE=18,yq=.96422,_q=1,vq=.82521,bq=4/29,yg=6/29,xq=3*yg*yg,Lye=yg*yg*yg;function wq(e){if(e instanceof ac)return new ac(e.l,e.a,e.b,e.opacity);if(e instanceof Ul)return Dq(e);e instanceof pr||(e=Tv(e));var t=ZF(e.r),n=ZF(e.g),r=ZF(e.b),i=qF((.2225045*t+.7168786*n+.0606169*r)/_q),o,s;return t===n&&n===r?o=s=i:(o=qF((.4360747*t+.3850649*n+.1430804*r)/yq),s=qF((.0139322*t+.0971045*n+.7141733*r)/vq)),new ac(116*i-16,500*(o-i),200*(i-s),e.opacity)}function _g(e,t,n,r){return arguments.length===1?wq(e):new ac(e,t,n,r??1)}function ac(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Vl(ac,_g,Mf(sc,{brighter(e){return new ac(this.l+eE*(e??1),this.a,this.b,this.opacity)},darker(e){return new ac(this.l-eE*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=yq*WF(t),e=_q*WF(e),n=vq*WF(n),new pr(YF(3.1338561*t-1.6168667*e-.4906146*n),YF(-.9787684*t+1.9161415*e+.033454*n),YF(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function qF(e){return e>Lye?Math.pow(e,1/3):e/xq+bq}function WF(e){return e>yg?e*e*e:xq*(e-bq)}function YF(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function ZF(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function kye(e){if(e instanceof Ul)return new Ul(e.h,e.c,e.l,e.opacity);if(e instanceof ac||(e=wq(e)),e.a===0&&e.b===0)return new Ul(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*JI;return new Ul(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Mv(e,t,n,r){return arguments.length===1?kye(e):new Ul(e,t,n,r??1)}function Ul(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Dq(e){if(isNaN(e.h))return new ac(e.l,0,0,e.opacity);var t=e.h*KI;return new ac(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Vl(Ul,Mv,Mf(sc,{brighter(e){return new Ul(this.h,this.c,this.l+eE*(e??1),this.opacity)},darker(e){return new Ul(this.h,this.c,this.l-eE*(e??1),this.opacity)},rgb(){return Dq(this).rgb()}}));var Tq=-.14861,XF=1.78277,QF=-.29227,tE=-.90649,Av=1.97294,Sq=Av*tE,Iq=Av*XF,Eq=XF*QF-tE*Tq;function Fye(e){if(e instanceof Dh)return new Dh(e.h,e.s,e.l,e.opacity);e instanceof pr||(e=Tv(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Eq*r+Sq*t-Iq*n)/(Eq+Sq-Iq),o=r-i,s=(Av*(n-i)-QF*o)/tE,a=Math.sqrt(s*s+o*o)/(Av*i*(1-i)),c=a?Math.atan2(s,o)*JI-120:NaN;return new Dh(c<0?c+360:c,a,i,e.opacity)}function Yi(e,t,n,r){return arguments.length===1?Fye(e):new Dh(e,t,n,r??1)}function Dh(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Vl(Dh,Yi,Mf(sc,{brighter(e){return e=e==null?wh:Math.pow(wh,e),new Dh(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Af:Math.pow(Af,e),new Dh(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*KI,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new pr(255*(t+n*(Tq*r+XF*i)),255*(t+n*(QF*r+tE*i)),255*(t+n*(Av*r)),this.opacity)}}));function KF(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function Cq(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return KF((n-r/t)*t,s,i,o,a)}}function Mq(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return KF((n-r/t)*t,i,o,s,a)}}var vg=e=>()=>e;function Aq(e,t){return function(n){return e+n*t}}function Bye(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bg(e,t){var n=t-e;return n?Aq(e,n>180||n<-180?n-360*Math.round(n/360):n):vg(isNaN(e)?t:e)}function Oq(e){return(e=+e)==1?kn:function(t,n){return n-t?Bye(t,n,e):vg(isNaN(t)?n:t)}}function kn(e,t){var n=t-e;return n?Aq(e,n):vg(isNaN(e)?t:e)}var _s=function e(t){var n=Oq(t);function r(i,o){var s=n((i=Si(i)).r,(o=Si(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),u=kn(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=c(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function Nq(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=Si(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(c){return a.r=r(c),a.g=i(c),a.b=o(c),a+""}}}var JF=Nq(Cq),Vye=Nq(Mq);function Rq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Pq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Lq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Uo(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function kq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Rn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Fq(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Uo(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var tB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eB=new RegExp(tB.source,"g");function Uye(e){return function(){return e}}function jye(e){return function(t){return e(t)+""}}function Ov(e,t){var n=tB.lastIndex=eB.lastIndex=0,r,i,o,s=-1,a=[],c=[];for(e=e+"",t=t+"";(r=tB.exec(e))&&(i=eB.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:Rn(r,i)})),n=eB.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?jye(c[0].x):Uye(t):(t=c.length,function(u){for(var f=0,h;f<t;++f)a[(h=c[f]).i]=h.x(u);return a.join("")})}function Uo(e,t){var n=typeof t,r;return t==null||n==="boolean"?vg(t):(n==="number"?Rn:n==="string"?(r=Vo(t))?(t=r,_s):Ov:t instanceof Vo?_s:t instanceof Date?kq:Pq(t)?Rq:Array.isArray(t)?Lq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Fq:Rn)(e,t)}function Sh(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Bq=180/Math.PI,nE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nB(e,t,n,r,i,o){var s,a,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Bq,skewX:Math.atan(c)*Bq,scaleX:s,scaleY:a}}var rE;function Vq(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?nE:nB(t.a,t.b,t.c,t.d,t.e,t.f)}function Uq(e){return e==null?nE:(rE||(rE=document.createElementNS("http://www.w3.org/2000/svg","g")),rE.setAttribute("transform",e),(e=rE.transform.baseVal.consolidate())?(e=e.matrix,nB(e.a,e.b,e.c,e.d,e.e,e.f)):nE)}function jq(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,f,h,p,m,y){if(u!==h||f!==p){var v=m.push("translate(",null,t,null,n);y.push({i:v-4,x:Rn(u,h)},{i:v-2,x:Rn(f,p)})}else(h||p)&&m.push("translate("+h+t+p+n)}function s(u,f,h,p){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),p.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Rn(u,f)})):f&&h.push(i(h)+"rotate("+f+r)}function a(u,f,h,p){u!==f?p.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Rn(u,f)}):f&&h.push(i(h)+"skewX("+f+r)}function c(u,f,h,p,m,y){if(u!==h||f!==p){var v=m.push(i(m)+"scale(",null,",",null,")");y.push({i:v-4,x:Rn(u,h)},{i:v-2,x:Rn(f,p)})}else(h!==1||p!==1)&&m.push(i(m)+"scale("+h+","+p+")")}return function(u,f){var h=[],p=[];return u=e(u),f=e(f),o(u.translateX,u.translateY,f.translateX,f.translateY,h,p),s(u.rotate,f.rotate,h,p),a(u.skewX,f.skewX,h,p),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,p),u=f=null,function(m){for(var y=-1,v=p.length,b;++y<v;)h[(b=p[y]).i]=b.x(m);return h.join("")}}}var rB=jq(Vq,"px, ","px)","deg)"),iB=jq(Uq,", ",")",")");function $q(e){return function(t,n){var r=e((t=Cv(t)).h,(n=Cv(n)).h),i=kn(t.s,n.s),o=kn(t.l,n.l),s=kn(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}var oB=$q(bg),$ye=$q(kn);function iE(e,t){var n=kn((e=_g(e)).l,(t=_g(t)).l),r=kn(e.a,t.a),i=kn(e.b,t.b),o=kn(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function zq(e){return function(t,n){var r=e((t=Mv(t)).h,(n=Mv(n)).h),i=kn(t.c,n.c),o=kn(t.l,n.l),s=kn(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}var sB=zq(bg),zye=zq(kn);function Hq(e){return function t(n){n=+n;function r(i,o){var s=e((i=Yi(i)).h,(o=Yi(o)).h),a=kn(i.s,o.s),c=kn(i.l,o.l),u=kn(i.opacity,o.opacity);return function(f){return i.h=s(f),i.s=a(f),i.l=c(Math.pow(f,n)),i.opacity=u(f),i+""}}return r.gamma=t,r}(1)}var Hye=Hq(bg),xg=Hq(kn);function cc(e,t){t===void 0&&(t=e,e=Uo);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Ii(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var wg=0,Rv=0,Nv=0,qq=1e3,oE,Pv,sE=0,Ih=0,aE=0,Lv=typeof performance=="object"&&performance.now?performance:Date,Wq=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Fv(){return Ih||(Wq(Gye),Ih=Lv.now()+aE)}function Gye(){Ih=0}function kv(){this._call=this._time=this._next=null}kv.prototype=cE.prototype={constructor:kv,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Fv():+n)+(t==null?0:+t),!this._next&&Pv!==this&&(Pv?Pv._next=this:oE=this,Pv=this),this._call=e,this._time=n,aB()},stop:function(){this._call&&(this._call=null,this._time=1/0,aB())}};function cE(e,t,n){var r=new kv;return r.restart(e,t,n),r}function Yq(){Fv(),++wg;for(var e=oE,t;e;)(t=Ih-e._time)>=0&&e._call.call(void 0,t),e=e._next;--wg}function Gq(){Ih=(sE=Lv.now())+aE,wg=Rv=0;try{Yq()}finally{wg=0,Wye(),Ih=0}}function qye(){var e=Lv.now(),t=e-sE;t>qq&&(aE-=t,sE=e)}function Wye(){for(var e,t=oE,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:oE=n);Pv=e,aB(r)}function aB(e){if(!wg){Rv&&(Rv=clearTimeout(Rv));var t=e-Ih;t>24?(e<1/0&&(Rv=setTimeout(Gq,e-Lv.now()-aE)),Nv&&(Nv=clearInterval(Nv))):(Nv||(sE=Lv.now(),Nv=setInterval(qye,qq)),wg=1,Wq(Gq))}}function lE(e,t,n){var r=new kv;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Yye=wv("start","end","cancel","interrupt"),Zye=[],Qq=0,Zq=1,fE=2,uE=3,Xq=4,dE=5,Bv=6;function Of(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Xye(e,n,{name:t,index:r,group:i,on:Yye,tween:Zye,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Qq})}function Vv(e,t){var n=Mr(e,t);if(n.state>Qq)throw new Error("too late; already scheduled");return n}function hi(e,t){var n=Mr(e,t);if(n.state>uE)throw new Error("too late; already running");return n}function Mr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Xye(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=cE(o,0,n.time);function o(u){n.state=Zq,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,h,p,m;if(n.state!==Zq)return c();for(f in r)if(m=r[f],m.name===n.name){if(m.state===uE)return lE(s);m.state===Xq?(m.state=Bv,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[f]):+f<t&&(m.state=Bv,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[f])}if(lE(function(){n.state===uE&&(n.state=Xq,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=fE,n.on.call("start",e,e.__data__,n.index,n.group),n.state===fE){for(n.state=uE,i=new Array(p=n.tween.length),f=0,h=-1;f<p;++f)(m=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=m);i.length=h+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=dE,1),h=-1,p=i.length;++h<p;)i[h].call(e,f);n.state===dE&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Bv,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Eh(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>fE&&r.state<dE,r.state=Bv,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function Kq(e){return this.each(function(){Eh(this,e)})}function Qye(e,t){var n,r;return function(){var i=hi(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Kye(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=hi(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=a;break}c===u&&i.push(a)}o.tween=i}}function Jq(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Mr(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?Qye:Kye)(n,e,t))}function Dg(e,t,n){var r=e._id;return e.each(function(){var i=hi(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Mr(i,r).value[t]}}function hE(e,t){var n;return(typeof t=="number"?Rn:t instanceof Vo?_s:(n=Vo(t))?(t=n,_s):Ov)(e,t)}function Jye(e){return function(){this.removeAttribute(e)}}function e0e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function t0e(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function n0e(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function r0e(e,t,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=t(r=s,a)))}}function i0e(e,t,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=t(r=s,a)))}}function eW(e,t){var n=kl(e),r=n==="transform"?iB:hE;return this.attrTween(e,typeof t=="function"?(n.local?i0e:r0e)(n,r,Dg(this,"attr."+e,t)):t==null?(n.local?e0e:Jye)(n):(n.local?n0e:t0e)(n,r,t))}function o0e(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function s0e(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function a0e(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&s0e(e,o)),n}return i._value=t,i}function c0e(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&o0e(e,o)),n}return i._value=t,i}function tW(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=kl(e);return this.tween(n,(r.local?a0e:c0e)(r,t))}function l0e(e,t){return function(){Vv(this,e).delay=+t.apply(this,arguments)}}function u0e(e,t){return t=+t,function(){Vv(this,e).delay=t}}function nW(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?l0e:u0e)(t,e)):Mr(this.node(),t).delay}function f0e(e,t){return function(){hi(this,e).duration=+t.apply(this,arguments)}}function d0e(e,t){return t=+t,function(){hi(this,e).duration=t}}function rW(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?f0e:d0e)(t,e)):Mr(this.node(),t).duration}function h0e(e,t){if(typeof t!="function")throw new Error;return function(){hi(this,e).ease=t}}function iW(e){var t=this._id;return arguments.length?this.each(h0e(t,e)):Mr(this.node(),t).ease}function p0e(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;hi(this,e).ease=n}}function oW(e){if(typeof e!="function")throw new Error;return this.each(p0e(this._id,e))}function sW(e){typeof e!="function"&&(e=Sv(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new Zi(r,this._parents,this._name,this._id)}function aW(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var c=t[a],u=n[a],f=c.length,h=s[a]=new Array(f),p,m=0;m<f;++m)(p=c[m]||u[m])&&(h[m]=p);for(;a<r;++a)s[a]=t[a];return new Zi(s,this._parents,this._name,this._id)}function m0e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function g0e(e,t,n){var r,i,o=m0e(t)?Vv:hi;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function cW(e,t){var n=this._id;return arguments.length<2?Mr(this.node(),n).on.on(e):this.each(g0e(n,e,t))}function y0e(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function lW(){return this.on("end.remove",y0e(this._id))}function uW(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vh(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],c=a.length,u=o[s]=new Array(c),f,h,p=0;p<c;++p)(f=a[p])&&(h=e.call(f,f.__data__,p,a))&&("__data__"in f&&(h.__data__=f.__data__),u[p]=h,Of(u[p],t,n,p,u,Mr(f,n)));return new Zi(o,this._parents,t,n)}function fW(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Dv(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c=r[a],u=c.length,f,h=0;h<u;++h)if(f=c[h]){for(var p=e.call(f,f.__data__,h,c),m,y=Mr(f,n),v=0,b=p.length;v<b;++v)(m=p[v])&&Of(m,t,n,v,p,y);o.push(p),s.push(f)}return new Zi(o,s,t,n)}var _0e=Bl.prototype.constructor;function dW(){return new _0e(this._groups,this._parents)}function v0e(e,t){var n,r,i;return function(){var o=Tf(this,e),s=(this.style.removeProperty(e),Tf(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function hW(e){return function(){this.style.removeProperty(e)}}function b0e(e,t,n){var r,i=n+"",o;return function(){var s=Tf(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function x0e(e,t,n){var r,i,o;return function(){var s=Tf(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),Tf(this,e))),s===c?null:s===r&&c===i?o:(i=c,o=t(r=s,a))}}function w0e(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var c=hi(this,e),u=c.on,f=c.value[o]==null?a||(a=hW(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(s,i=f),c.on=r}}function pW(e,t,n){var r=(e+="")=="transform"?rB:hE;return t==null?this.styleTween(e,v0e(e,r)).on("end.style."+e,hW(e)):typeof t=="function"?this.styleTween(e,x0e(e,r,Dg(this,"style."+e,t))).each(w0e(this._id,e)):this.styleTween(e,b0e(e,r,t),n).on("end.style."+e,null)}function D0e(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function S0e(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&D0e(e,s,n)),r}return o._value=t,o}function mW(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,S0e(e,t,n??""))}function I0e(e){return function(){this.textContent=e}}function E0e(e){return function(){var t=e(this);this.textContent=t??""}}function gW(e){return this.tween("text",typeof e=="function"?E0e(Dg(this,"text",e)):I0e(e==null?"":e+""))}function T0e(e){return function(t){this.textContent=e.call(this,t)}}function C0e(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&T0e(i)),t}return r._value=e,r}function yW(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,C0e(e))}function _W(){for(var e=this._name,t=this._id,n=pE(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)if(c=s[u]){var f=Mr(c,t);Of(c,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Zi(r,this._parents,e,n)}function vW(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--i===0&&o()}};n.each(function(){var u=hi(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),u.on=t}),i===0&&o()})}var M0e=0;function Zi(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function bW(e){return Bl().transition(e)}function pE(){return++M0e}var jl=Bl.prototype;Zi.prototype=bW.prototype={constructor:Zi,select:uW,selectAll:fW,selectChild:jl.selectChild,selectChildren:jl.selectChildren,filter:sW,merge:aW,selection:dW,transition:_W,call:jl.call,nodes:jl.nodes,node:jl.node,size:jl.size,empty:jl.empty,each:jl.each,on:cW,attr:eW,attrTween:tW,style:pW,styleTween:mW,text:gW,textTween:yW,remove:lW,tween:Jq,delay:nW,duration:rW,ease:iW,easeVarying:oW,end:vW,[Symbol.iterator]:jl[Symbol.iterator]};function mE(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var A0e={time:null,delay:0,duration:250,ease:mE};function O0e(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function xW(e){var t,n;e instanceof Zi?(t=e._id,e=e._name):(t=pE(),(n=A0e).time=Fv(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&Of(c,e,t,u,s,n||O0e(c,t));return new Zi(r,this._parents,e,t)}Bl.prototype.interrupt=Kq;Bl.prototype.transition=xW;var gE=e=>()=>e;function cB(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function wW(e){e.stopImmediatePropagation()}function yE(e){e.preventDefault(),e.stopImmediatePropagation()}var DW={name:"drag"},lB={name:"space"},Sg={name:"handle"},Ig={name:"center"},{abs:SW,max:Ei,min:Ti}=Math;function IW(e){return[+e[0],+e[1]]}function fB(e){return[IW(e[0]),IW(e[1])]}var _E={name:"x",handles:["w","e"].map(Uv),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},vE={name:"y",handles:["n","s"].map(Uv),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},lqe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Uv),input:function(e){return e==null?null:fB(e)},output:function(e){return e}},$l={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},EW={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},TW={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},N0e={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},R0e={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Uv(e){return{type:e}}function P0e(e){return!e.ctrlKey&&!e.button}function L0e(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function k0e(){return navigator.maxTouchPoints||"ontouchstart"in this}function uB(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function F0e(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function dB(){return CW(_E)}function hB(){return CW(vE)}function CW(e){var t=L0e,n=P0e,r=k0e,i=!0,o=wv("start","brush","end"),s=6,a;function c(b){var x=b.property("__brush",v).selectAll(".overlay").data([Uv("overlay")]);x.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",$l.overlay).merge(x).each(function(){var D=uB(this).extent;ln(this).attr("x",D[0][0]).attr("y",D[0][1]).attr("width",D[1][0]-D[0][0]).attr("height",D[1][1]-D[0][1])}),b.selectAll(".selection").data([Uv("selection")]).enter().append("rect").attr("class","selection").attr("cursor",$l.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var w=b.selectAll(".handle").data(e.handles,function(D){return D.type});w.exit().remove(),w.enter().append("rect").attr("class",function(D){return"handle handle--"+D.type}).attr("cursor",function(D){return $l[D.type]}),b.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",p).filter(r).on("touchstart.brush",p).on("touchmove.brush",m).on("touchend.brush touchcancel.brush",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(b,x,w){b.tween?b.on("start.brush",function(D){f(this,arguments).beforestart().start(D)}).on("interrupt.brush end.brush",function(D){f(this,arguments).end(D)}).tween("brush",function(){var D=this,I=D.__brush,A=f(D,arguments),T=I.selection,N=e.input(typeof x=="function"?x.apply(this,arguments):x,I.extent),B=Uo(T,N);function R(P){I.selection=P===1&&N===null?null:B(P),u.call(D),A.brush()}return T!==null&&N!==null?R:R(1)}):b.each(function(){var D=this,I=arguments,A=D.__brush,T=e.input(typeof x=="function"?x.apply(D,I):x,A.extent),N=f(D,I).beforestart();Eh(D),A.selection=T===null?null:T,u.call(D),N.start(w).brush(w).end(w)})},c.clear=function(b,x){c.move(b,null,x)};function u(){var b=ln(this),x=uB(this).selection;x?(b.selectAll(".selection").style("display",null).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(w){return w.type[w.type.length-1]==="e"?x[1][0]-s/2:x[0][0]-s/2}).attr("y",function(w){return w.type[0]==="s"?x[1][1]-s/2:x[0][1]-s/2}).attr("width",function(w){return w.type==="n"||w.type==="s"?x[1][0]-x[0][0]+s:s}).attr("height",function(w){return w.type==="e"||w.type==="w"?x[1][1]-x[0][1]+s:s})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(b,x,w){var D=b.__brush.emitter;return D&&(!w||!D.clean)?D:new h(b,x,w)}function h(b,x,w){this.that=b,this.args=x,this.state=b.__brush,this.active=0,this.clean=w}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,x){return this.starting?(this.starting=!1,this.emit("start",b,x)):this.emit("brush",b),this},brush:function(b,x){return this.emit("brush",b,x),this},end:function(b,x){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,x)),this},emit:function(b,x,w){var D=ln(this.that).datum();o.call(b,this.that,new cB(b,{sourceEvent:x,target:c,selection:e.output(this.state.selection),mode:w,dispatch:o}),D)}};function p(b){if(a&&!b.touches||!n.apply(this,arguments))return;var x=this,w=b.target.__data__.type,D=(i&&b.metaKey?w="overlay":w)==="selection"?DW:i&&b.altKey?Ig:Sg,I=e===vE?null:N0e[w],A=e===_E?null:R0e[w],T=uB(x),N=T.extent,B=T.selection,R=N[0][0],P,O,k=N[0][1],H,U,C=N[1][0],F,W,G=N[1][1],q,K,X=0,J=0,re,te=I&&A&&i&&b.shiftKey,le,he,me=Array.from(b.touches||[b],ye=>{let ht=ye.identifier;return ye=Cf(ye,x),ye.point0=ye.slice(),ye.identifier=ht,ye});Eh(x);var at=f(x,arguments,!0).beforestart();if(w==="overlay"){B&&(re=!0);let ye=[me[0],me[1]||me[0]];T.selection=B=[[P=e===vE?R:Ti(ye[0][0],ye[1][0]),H=e===_E?k:Ti(ye[0][1],ye[1][1])],[F=e===vE?C:Ei(ye[0][0],ye[1][0]),q=e===_E?G:Ei(ye[0][1],ye[1][1])]],me.length>1&&Je(b)}else P=B[0][0],H=B[0][1],F=B[1][0],q=B[1][1];O=P,U=H,W=F,K=q;var ee=ln(x).attr("pointer-events","none"),ue=ee.selectAll(".overlay").attr("cursor",$l[w]);if(b.touches)at.moved=ne,at.ended=De;else{var fe=ln(b.view).on("mousemove.brush",ne,!0).on("mouseup.brush",De,!0);i&&fe.on("keydown.brush",xt,!0).on("keyup.brush",dt,!0),zF(b.view)}u.call(x),at.start(b,D.name);function ne(ye){for(let ht of ye.changedTouches||[ye])for(let Ht of me)Ht.identifier===ht.identifier&&(Ht.cur=Cf(ht,x));if(te&&!le&&!he&&me.length===1){let ht=me[0];SW(ht.cur[0]-ht[0])>SW(ht.cur[1]-ht[1])?he=!0:le=!0}for(let ht of me)ht.cur&&(ht[0]=ht.cur[0],ht[1]=ht.cur[1]);re=!0,yE(ye),Je(ye)}function Je(ye){let ht=me[0],Ht=ht.point0;var An;switch(X=ht[0]-Ht[0],J=ht[1]-Ht[1],D){case lB:case DW:{I&&(X=Ei(R-P,Ti(C-F,X)),O=P+X,W=F+X),A&&(J=Ei(k-H,Ti(G-q,J)),U=H+J,K=q+J);break}case Sg:{me[1]?(I&&(O=Ei(R,Ti(C,me[0][0])),W=Ei(R,Ti(C,me[1][0])),I=1),A&&(U=Ei(k,Ti(G,me[0][1])),K=Ei(k,Ti(G,me[1][1])),A=1)):(I<0?(X=Ei(R-P,Ti(C-P,X)),O=P+X,W=F):I>0&&(X=Ei(R-F,Ti(C-F,X)),O=P,W=F+X),A<0?(J=Ei(k-H,Ti(G-H,J)),U=H+J,K=q):A>0&&(J=Ei(k-q,Ti(G-q,J)),U=H,K=q+J));break}case Ig:{I&&(O=Ei(R,Ti(C,P-X*I)),W=Ei(R,Ti(C,F+X*I))),A&&(U=Ei(k,Ti(G,H-J*A)),K=Ei(k,Ti(G,q+J*A)));break}}W<O&&(I*=-1,An=P,P=F,F=An,An=O,O=W,W=An,w in EW&&ue.attr("cursor",$l[w=EW[w]])),K<U&&(A*=-1,An=H,H=q,q=An,An=U,U=K,K=An,w in TW&&ue.attr("cursor",$l[w=TW[w]])),T.selection&&(B=T.selection),le&&(O=B[0][0],W=B[1][0]),he&&(U=B[0][1],K=B[1][1]),(B[0][0]!==O||B[0][1]!==U||B[1][0]!==W||B[1][1]!==K)&&(T.selection=[[O,U],[W,K]],u.call(x),at.brush(ye,D.name))}function De(ye){if(wW(ye),ye.touches){if(ye.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else HF(ye.view,re),fe.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ee.attr("pointer-events","all"),ue.attr("cursor",$l.overlay),T.selection&&(B=T.selection),F0e(B)&&(T.selection=null,u.call(x)),at.end(ye,D.name)}function xt(ye){switch(ye.keyCode){case 16:{te=I&&A;break}case 18:{D===Sg&&(I&&(F=W-X*I,P=O+X*I),A&&(q=K-J*A,H=U+J*A),D=Ig,Je(ye));break}case 32:{(D===Sg||D===Ig)&&(I<0?F=W-X:I>0&&(P=O-X),A<0?q=K-J:A>0&&(H=U-J),D=lB,ue.attr("cursor",$l.selection),Je(ye));break}default:return}yE(ye)}function dt(ye){switch(ye.keyCode){case 16:{te&&(le=he=te=!1,Je(ye));break}case 18:{D===Ig&&(I<0?F=W:I>0&&(P=O),A<0?q=K:A>0&&(H=U),D=Sg,Je(ye));break}case 32:{D===lB&&(ye.altKey?(I&&(F=W-X*I,P=O+X*I),A&&(q=K-J*A,H=U+J*A),D=Ig):(I<0?F=W:I>0&&(P=O),A<0?q=K:A>0&&(H=U),D=Sg),ue.attr("cursor",$l[w]),Je(ye));break}default:return}yE(ye)}}function m(b){f(this,arguments).moved(b)}function y(b){f(this,arguments).ended(b)}function v(){var b=this.__brush||{selection:null};return b.extent=fB(t.apply(this,arguments)),b.dim=e,b}return c.extent=function(b){return arguments.length?(t=typeof b=="function"?b:gE(fB(b)),c):t},c.filter=function(b){return arguments.length?(n=typeof b=="function"?b:gE(!!b),c):n},c.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:gE(!!b),c):r},c.handleSize=function(b){return arguments.length?(s=+b,c):s},c.keyModifiers=function(b){return arguments.length?(i=!!b,c):i},c.on=function(){var b=o.on.apply(o,arguments);return b===o?c:b},c}var pB=Math.PI,mB=2*pB,Th=1e-6,V0e=mB-Th;function MW(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function U0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return MW;let n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}var Nf=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?MW:U0e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,c=r-t,u=i-n,f=s-t,h=a-n,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Th)if(!(Math.abs(h*c-u*f)>Th)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,y=i-a,v=c*c+u*u,b=m*m+y*y,x=Math.sqrt(v),w=Math.sqrt(p),D=o*Math.tan((pB-Math.acos((v+p-b)/(2*x*w)))/2),I=D/w,A=D/x;Math.abs(I-1)>Th&&this._append`L${t+I*f},${n+I*h}`,this._append`A${o},${o},0,0,${+(h*m>f*y)},${this._x1=t+A*c},${this._y1=n+A*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),c=r*Math.sin(i),u=t+a,f=n+c,h=1^s,p=s?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Th||Math.abs(this._y1-f)>Th)&&this._append`L${u},${f}`,r&&(p<0&&(p=p%mB+mB),p>V0e?this._append`A${r},${r},0,1,${h},${t-a},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=f}`:p>Th&&this._append`A${r},${r},0,${+(p>=pB)},${h},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function AW(){return new Nf}AW.prototype=Nf.prototype;function Xi(e=3){return new Nf(+e)}var j0e=Array.prototype,bE=j0e.slice;function OW(e,t){return e-t}function NW(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}var lc=e=>()=>e;function RW(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=$0e(e,t[n]))return i;return 0}function $0e(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var c=e[o],u=c[0],f=c[1],h=e[a],p=h[0],m=h[1];if(z0e(c,h,t))return 0;f>r!=m>r&&n<(p-u)*(r-f)/(m-f)+u&&(i=-i)}return i}function z0e(e,t,n){var r;return H0e(e,t,n)&&G0e(e[r=+(e[0]===t[0])],n[r],t[r])}function H0e(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function G0e(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function PW(){}var zl=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Mh(){var e=1,t=1,n=If,r=c;function i(u){var f=n(u);if(Array.isArray(f))f=f.slice().sort(OW);else{let h=qt(u,q0e);for(f=di(...hg(h[0],h[1],f),f);f[f.length-1]>=h[1];)f.pop();for(;f[1]<h[0];)f.shift()}return f.map(h=>o(u,h))}function o(u,f){let h=f==null?NaN:+f;if(isNaN(h))throw new Error(`invalid value: ${f}`);var p=[],m=[];return s(u,h,function(y){r(y,u,h),NW(y)>0?p.push([y]):m.push(y)}),m.forEach(function(y){for(var v=0,b=p.length,x;v<b;++v)if(RW((x=p[v])[0],y)!==-1){x.push(y);return}}),{type:"MultiPolygon",value:f,coordinates:p}}function s(u,f,h){var p=new Array,m=new Array,y,v,b,x,w,D;for(y=v=-1,x=Ch(u[0],f),zl[x<<1].forEach(I);++y<e-1;)b=x,x=Ch(u[y+1],f),zl[b|x<<1].forEach(I);for(zl[x<<0].forEach(I);++v<t-1;){for(y=-1,x=Ch(u[v*e+e],f),w=Ch(u[v*e],f),zl[x<<1|w<<2].forEach(I);++y<e-1;)b=x,x=Ch(u[v*e+e+y+1],f),D=w,w=Ch(u[v*e+y+1],f),zl[b|x<<1|w<<2|D<<3].forEach(I);zl[x|w<<3].forEach(I)}for(y=-1,w=u[v*e]>=f,zl[w<<2].forEach(I);++y<e-1;)D=w,w=Ch(u[v*e+y+1],f),zl[w<<2|D<<3].forEach(I);zl[w<<3].forEach(I);function I(A){var T=[A[0][0]+y,A[0][1]+v],N=[A[1][0]+y,A[1][1]+v],B=a(T),R=a(N),P,O;(P=m[B])?(O=p[R])?(delete m[P.end],delete p[O.start],P===O?(P.ring.push(N),h(P.ring)):p[P.start]=m[O.end]={start:P.start,end:O.end,ring:P.ring.concat(O.ring)}):(delete m[P.end],P.ring.push(N),m[P.end=R]=P):(P=p[R])?(O=m[B])?(delete p[P.start],delete m[O.end],P===O?(P.ring.push(N),h(P.ring)):p[O.start]=m[P.end]={start:O.start,end:P.end,ring:O.ring.concat(P.ring)}):(delete p[P.start],P.ring.unshift(T),p[P.start=B]=P):p[B]=m[R]={start:B,end:R,ring:[T,N]}}}function a(u){return u[0]*2+u[1]*(e+1)*4}function c(u,f,h){u.forEach(function(p){var m=p[0],y=p[1],v=m|0,b=y|0,x=gB(f[b*e+v]);m>0&&m<e&&v===m&&(p[0]=LW(m,gB(f[b*e+v-1]),x,h)),y>0&&y<t&&b===y&&(p[1]=LW(y,gB(f[(b-1)*e+v]),x,h))})}return i.contour=o,i.size=function(u){if(!arguments.length)return[e,t];var f=Math.floor(u[0]),h=Math.floor(u[1]);if(!(f>=0&&h>=0))throw new Error("invalid size");return e=f,t=h,i},i.thresholds=function(u){return arguments.length?(n=typeof u=="function"?u:Array.isArray(u)?lc(bE.call(u)):lc(u),i):n},i.smooth=function(u){return arguments.length?(r=u?c:PW,i):r===c},i}function q0e(e){return isFinite(e)?e:NaN}function Ch(e,t){return e==null?!1:+e>=t}function gB(e){return e==null||isNaN(e=+e)?-1/0:e}function LW(e,t,n,r){let i=r-t,o=n-t,s=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(s)?e:e+s-.5}function W0e(e){return e[0]}function Y0e(e){return e[1]}function Z0e(){return 1}function yB(){var e=W0e,t=Y0e,n=Z0e,r=960,i=500,o=20,s=2,a=o*3,c=r+a*2>>s,u=i+a*2>>s,f=lc(20);function h(w){var D=new Float32Array(c*u),I=Math.pow(2,-s),A=-1;for(let H of w){var T=(e(H,++A,w)+a)*I,N=(t(H,A,w)+a)*I,B=+n(H,A,w);if(B&&T>=0&&T<c&&N>=0&&N<u){var R=Math.floor(T),P=Math.floor(N),O=T-R-.5,k=N-P-.5;D[R+P*c]+=(1-O)*(1-k)*B,D[R+1+P*c]+=O*(1-k)*B,D[R+1+(P+1)*c]+=O*k*B,D[R+(P+1)*c]+=(1-O)*k*B}}return gv({data:D,width:c,height:u},o*I),D}function p(w){var D=h(w),I=f(D),A=Math.pow(2,2*s);return Array.isArray(I)||(I=di(Number.MIN_VALUE,Ft(D)/A,I)),Mh().size([c,u]).thresholds(I.map(T=>T*A))(D).map((T,N)=>(T.value=+I[N],m(T)))}p.contours=function(w){var D=h(w),I=Mh().size([c,u]),A=Math.pow(2,2*s),T=N=>{N=+N;var B=m(I.contour(D,N*A));return B.value=N,B};return Object.defineProperty(T,"max",{get:()=>Ft(D)/A}),T};function m(w){return w.coordinates.forEach(y),w}function y(w){w.forEach(v)}function v(w){w.forEach(b)}function b(w){w[0]=w[0]*Math.pow(2,s)-a,w[1]=w[1]*Math.pow(2,s)-a}function x(){return a=o*3,c=r+a*2>>s,u=i+a*2>>s,p}return p.x=function(w){return arguments.length?(e=typeof w=="function"?w:lc(+w),p):e},p.y=function(w){return arguments.length?(t=typeof w=="function"?w:lc(+w),p):t},p.weight=function(w){return arguments.length?(n=typeof w=="function"?w:lc(+w),p):n},p.size=function(w){if(!arguments.length)return[r,i];var D=+w[0],I=+w[1];if(!(D>=0&&I>=0))throw new Error("invalid size");return r=D,i=I,x()},p.cellSize=function(w){if(!arguments.length)return 1<<s;if(!((w=+w)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(w)/Math.LN2),x()},p.thresholds=function(w){return arguments.length?(f=typeof w=="function"?w:Array.isArray(w)?lc(bE.call(w)):lc(w),p):f},p.bandwidth=function(w){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((w=+w)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*w*w+1)-1)/2,x()},p}var Vt=11102230246251565e-32,mr=134217729,jv=(3+8*Vt)*Vt;function Ah(e,t,n,r,i){let o,s,a,c,u=t[0],f=r[0],h=0,p=0;f>u==f>-u?(o=u,u=t[++h]):(o=f,f=r[++p]);let m=0;if(h<e&&p<n)for(f>u==f>-u?(s=u+o,a=o-(s-u),u=t[++h]):(s=f+o,a=o-(s-f),f=r[++p]),o=s,a!==0&&(i[m++]=a);h<e&&p<n;)f>u==f>-u?(s=o+u,c=s-o,a=o-(s-c)+(u-c),u=t[++h]):(s=o+f,c=s-o,a=o-(s-c)+(f-c),f=r[++p]),o=s,a!==0&&(i[m++]=a);for(;h<e;)s=o+u,c=s-o,a=o-(s-c)+(u-c),u=t[++h],o=s,a!==0&&(i[m++]=a);for(;p<n;)s=o+f,c=s-o,a=o-(s-c)+(f-c),f=r[++p],o=s,a!==0&&(i[m++]=a);return(o!==0||m===0)&&(i[m++]=o),m}function $v(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function se(e){return new Float64Array(e)}var X0e=(3+16*Vt)*Vt,Q0e=(2+12*Vt)*Vt,K0e=(9+64*Vt)*Vt*Vt,Eg=se(4),kW=se(8),FW=se(12),BW=se(16),Qi=se(4);function J0e(e,t,n,r,i,o,s){let a,c,u,f,h,p,m,y,v,b,x,w,D,I,A,T,N,B,R=e-i,P=n-i,O=t-o,k=r-o;I=R*k,p=mr*R,m=p-(p-R),y=R-m,p=mr*k,v=p-(p-k),b=k-v,A=y*b-(I-m*v-y*v-m*b),T=O*P,p=mr*O,m=p-(p-O),y=O-m,p=mr*P,v=p-(p-P),b=P-v,N=y*b-(T-m*v-y*v-m*b),x=A-N,h=A-x,Eg[0]=A-(x+h)+(h-N),w=I+x,h=w-I,D=I-(w-h)+(x-h),x=D-T,h=D-x,Eg[1]=D-(x+h)+(h-T),B=w+x,h=B-w,Eg[2]=w-(B-h)+(x-h),Eg[3]=B;let H=$v(4,Eg),U=Q0e*s;if(H>=U||-H>=U||(h=e-R,a=e-(R+h)+(h-i),h=n-P,u=n-(P+h)+(h-i),h=t-O,c=t-(O+h)+(h-o),h=r-k,f=r-(k+h)+(h-o),a===0&&c===0&&u===0&&f===0)||(U=K0e*s+jv*Math.abs(H),H+=R*f+k*a-(O*u+P*c),H>=U||-H>=U))return H;I=a*k,p=mr*a,m=p-(p-a),y=a-m,p=mr*k,v=p-(p-k),b=k-v,A=y*b-(I-m*v-y*v-m*b),T=c*P,p=mr*c,m=p-(p-c),y=c-m,p=mr*P,v=p-(p-P),b=P-v,N=y*b-(T-m*v-y*v-m*b),x=A-N,h=A-x,Qi[0]=A-(x+h)+(h-N),w=I+x,h=w-I,D=I-(w-h)+(x-h),x=D-T,h=D-x,Qi[1]=D-(x+h)+(h-T),B=w+x,h=B-w,Qi[2]=w-(B-h)+(x-h),Qi[3]=B;let C=Ah(4,Eg,4,Qi,kW);I=R*f,p=mr*R,m=p-(p-R),y=R-m,p=mr*f,v=p-(p-f),b=f-v,A=y*b-(I-m*v-y*v-m*b),T=O*u,p=mr*O,m=p-(p-O),y=O-m,p=mr*u,v=p-(p-u),b=u-v,N=y*b-(T-m*v-y*v-m*b),x=A-N,h=A-x,Qi[0]=A-(x+h)+(h-N),w=I+x,h=w-I,D=I-(w-h)+(x-h),x=D-T,h=D-x,Qi[1]=D-(x+h)+(h-T),B=w+x,h=B-w,Qi[2]=w-(B-h)+(x-h),Qi[3]=B;let F=Ah(C,kW,4,Qi,FW);I=a*f,p=mr*a,m=p-(p-a),y=a-m,p=mr*f,v=p-(p-f),b=f-v,A=y*b-(I-m*v-y*v-m*b),T=c*u,p=mr*c,m=p-(p-c),y=c-m,p=mr*u,v=p-(p-u),b=u-v,N=y*b-(T-m*v-y*v-m*b),x=A-N,h=A-x,Qi[0]=A-(x+h)+(h-N),w=I+x,h=w-I,D=I-(w-h)+(x-h),x=D-T,h=D-x,Qi[1]=D-(x+h)+(h-T),B=w+x,h=B-w,Qi[2]=w-(B-h)+(x-h),Qi[3]=B;let W=Ah(F,FW,4,Qi,BW);return BW[W-1]}function Tg(e,t,n,r,i,o){let s=(t-o)*(n-i),a=(e-i)*(r-o),c=s-a,u=Math.abs(s+a);return Math.abs(c)>=X0e*u?c:-J0e(e,t,n,r,i,o,u)}var zqe=(7+56*Vt)*Vt,Hqe=(3+28*Vt)*Vt,Gqe=(26+288*Vt)*Vt*Vt,qqe=se(4),Wqe=se(4),Yqe=se(4),Zqe=se(4),Xqe=se(4),Qqe=se(4),Kqe=se(4),Jqe=se(4),eWe=se(4),tWe=se(8),nWe=se(8),rWe=se(8),iWe=se(4),oWe=se(8),sWe=se(8),aWe=se(8),cWe=se(12),lWe=se(192),uWe=se(192);var hWe=(10+96*Vt)*Vt,pWe=(4+48*Vt)*Vt,mWe=(44+576*Vt)*Vt*Vt,gWe=se(4),yWe=se(4),_We=se(4),vWe=se(4),bWe=se(4),xWe=se(4),wWe=se(4),DWe=se(4),SWe=se(8),IWe=se(8),EWe=se(8),TWe=se(8),CWe=se(8),MWe=se(8),AWe=se(8),OWe=se(8),NWe=se(8),RWe=se(4),PWe=se(4),LWe=se(4),kWe=se(8),FWe=se(16),BWe=se(16),VWe=se(16),UWe=se(32),jWe=se(32),$We=se(48),zWe=se(64),HWe=se(1152),GWe=se(1152);var ZWe=(16+224*Vt)*Vt,XWe=(5+72*Vt)*Vt,QWe=(71+1408*Vt)*Vt*Vt,KWe=se(4),JWe=se(4),eYe=se(4),tYe=se(4),nYe=se(4),rYe=se(4),iYe=se(4),oYe=se(4),sYe=se(4),aYe=se(4),cYe=se(24),lYe=se(24),uYe=se(24),fYe=se(24),dYe=se(24),hYe=se(24),pYe=se(24),mYe=se(24),gYe=se(24),yYe=se(24),_Ye=se(1152),vYe=se(1152),bYe=se(1152),xYe=se(1152),wYe=se(1152),DYe=se(2304),SYe=se(2304),IYe=se(3456),EYe=se(5760),TYe=se(8),CYe=se(8),MYe=se(8),AYe=se(16),OYe=se(24),NYe=se(48),RYe=se(48),PYe=se(96),LYe=se(192),kYe=se(384),FYe=se(384),BYe=se(384),VYe=se(768);var UYe=se(96),jYe=se(96),$Ye=se(96),zYe=se(1152);var UW=Math.pow(2,-52),xE=new Uint32Array(512),Hv=class e{static from(t,n=o_e,r=s_e){let i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){let a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new e(o)}constructor(t){let n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;let r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){let{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1,a=1/0,c=1/0,u=-1/0,f=-1/0;for(let R=0;R<s;R++){let P=t[2*R],O=t[2*R+1];P<a&&(a=P),O<c&&(c=O),P>u&&(u=P),O>f&&(f=O),this._ids[R]=R}let h=(a+u)/2,p=(c+f)/2,m,y,v;for(let R=0,P=1/0;R<s;R++){let O=_B(h,p,t[2*R],t[2*R+1]);O<P&&(m=R,P=O)}let b=t[2*m],x=t[2*m+1];for(let R=0,P=1/0;R<s;R++){if(R===m)continue;let O=_B(b,x,t[2*R],t[2*R+1]);O<P&&O>0&&(y=R,P=O)}let w=t[2*y],D=t[2*y+1],I=1/0;for(let R=0;R<s;R++){if(R===m||R===y)continue;let P=r_e(b,x,w,D,t[2*R],t[2*R+1]);P<I&&(v=R,I=P)}let A=t[2*v],T=t[2*v+1];if(I===1/0){for(let O=0;O<s;O++)this._dists[O]=t[2*O]-t[0]||t[2*O+1]-t[1];Cg(this._ids,this._dists,0,s-1);let R=new Uint32Array(s),P=0;for(let O=0,k=-1/0;O<s;O++){let H=this._ids[O],U=this._dists[H];U>k&&(R[P++]=H,k=U)}this.hull=R.subarray(0,P),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Tg(b,x,w,D,A,T)<0){let R=y,P=w,O=D;y=v,w=A,D=T,v=R,A=P,T=O}let N=i_e(b,x,w,D,A,T);this._cx=N.x,this._cy=N.y;for(let R=0;R<s;R++)this._dists[R]=_B(t[2*R],t[2*R+1],N.x,N.y);Cg(this._ids,this._dists,0,s-1),this._hullStart=m;let B=3;r[m]=n[v]=y,r[y]=n[m]=v,r[v]=n[y]=m,i[m]=0,i[y]=1,i[v]=2,o.fill(-1),o[this._hashKey(b,x)]=m,o[this._hashKey(w,D)]=y,o[this._hashKey(A,T)]=v,this.trianglesLen=0,this._addTriangle(m,y,v,-1,-1,-1);for(let R=0,P,O;R<this._ids.length;R++){let k=this._ids[R],H=t[2*k],U=t[2*k+1];if(R>0&&Math.abs(H-P)<=UW&&Math.abs(U-O)<=UW||(P=H,O=U,k===m||k===y||k===v))continue;let C=0;for(let K=0,X=this._hashKey(H,U);K<this._hashSize&&(C=o[(X+K)%this._hashSize],!(C!==-1&&C!==r[C]));K++);C=n[C];let F=C,W;for(;W=r[F],Tg(H,U,t[2*F],t[2*F+1],t[2*W],t[2*W+1])>=0;)if(F=W,F===C){F=-1;break}if(F===-1)continue;let G=this._addTriangle(F,k,r[F],-1,-1,i[F]);i[k]=this._legalize(G+2),i[F]=G,B++;let q=r[F];for(;W=r[q],Tg(H,U,t[2*q],t[2*q+1],t[2*W],t[2*W+1])<0;)G=this._addTriangle(q,k,W,i[k],-1,i[q]),i[k]=this._legalize(G+2),r[q]=q,B--,q=W;if(F===C)for(;W=n[F],Tg(H,U,t[2*W],t[2*W+1],t[2*F],t[2*F+1])<0;)G=this._addTriangle(W,k,F,-1,i[F],i[W]),this._legalize(G+2),i[W]=G,r[F]=F,B--,F=W;this._hullStart=n[k]=F,r[F]=n[q]=k,r[k]=q,o[this._hashKey(H,U)]=k,o[this._hashKey(t[2*F],t[2*F+1])]=F}this.hull=new Uint32Array(B);for(let R=0,P=this._hullStart;R<B;R++)this.hull[R]=P,P=r[P];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(t_e(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){let{_triangles:n,_halfedges:r,coords:i}=this,o=0,s=0;for(;;){let a=r[t],c=t-t%3;if(s=c+(t+2)%3,a===-1){if(o===0)break;t=xE[--o];continue}let u=a-a%3,f=c+(t+1)%3,h=u+(a+2)%3,p=n[s],m=n[t],y=n[f],v=n[h];if(n_e(i[2*p],i[2*p+1],i[2*m],i[2*m+1],i[2*y],i[2*y+1],i[2*v],i[2*v+1])){n[t]=v,n[a]=p;let x=r[h];if(x===-1){let D=this._hullStart;do{if(this._hullTri[D]===h){this._hullTri[D]=t;break}D=this._hullPrev[D]}while(D!==this._hullStart)}this._link(t,x),this._link(a,r[s]),this._link(s,h);let w=u+(a+1)%3;o<xE.length&&(xE[o++]=w)}else{if(o===0)break;t=xE[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){let a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}};function t_e(e,t){let n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function _B(e,t,n,r){let i=e-n,o=t-r;return i*i+o*o}function n_e(e,t,n,r,i,o,s,a){let c=e-s,u=t-a,f=n-s,h=r-a,p=i-s,m=o-a,y=c*c+u*u,v=f*f+h*h,b=p*p+m*m;return c*(h*b-v*m)-u*(f*b-v*p)+y*(f*m-h*p)<0}function r_e(e,t,n,r,i,o){let s=n-e,a=r-t,c=i-e,u=o-t,f=s*s+a*a,h=c*c+u*u,p=.5/(s*u-a*c),m=(u*f-a*h)*p,y=(s*h-c*f)*p;return m*m+y*y}function i_e(e,t,n,r,i,o){let s=n-e,a=r-t,c=i-e,u=o-t,f=s*s+a*a,h=c*c+u*u,p=.5/(s*u-a*c),m=e+(u*f-a*h)*p,y=t+(s*h-c*f)*p;return{x:m,y}}function Cg(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){let o=e[i],s=t[o],a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{let i=n+r>>1,o=n+1,s=r;zv(e,i,o),t[e[n]]>t[e[r]]&&zv(e,n,r),t[e[o]]>t[e[r]]&&zv(e,o,r),t[e[n]]>t[e[o]]&&zv(e,n,o);let a=e[o],c=t[a];for(;;){do o++;while(t[e[o]]<c);do s--;while(t[e[s]]>c);if(s<o)break;zv(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(Cg(e,t,o,r),Cg(e,t,n,s-1)):(Cg(e,t,n,s-1),Cg(e,t,o,r))}}function zv(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function o_e(e){return e[0]}function s_e(e){return e[1]}var ca=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;let i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-o)>1e-6)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}};var Oh=class{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}};var wE=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this,o,s,a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let v=0,b=0,x=r.length,w,D;v<x;v+=3,b+=2){let I=r[v]*2,A=r[v+1]*2,T=r[v+2]*2,N=t[I],B=t[I+1],R=t[A],P=t[A+1],O=t[T],k=t[T+1],H=R-N,U=P-B,C=O-N,F=k-B,W=(H*F-U*C)*2;if(Math.abs(W)<1e-9){if(o===void 0){o=s=0;for(let q of n)o+=t[q*2],s+=t[q*2+1];o/=n.length,s/=n.length}let G=1e9*Math.sign((o-N)*F-(s-B)*C);w=(N+O)/2-G*F,D=(B+k)/2+G*C}else{let G=1/W,q=H*H+U*U,K=C*C+F*F;w=N+(F*q-U*K)*G,D=B+(H*K-C*q)*G}a[b]=w,a[b+1]=D}let c=n[n.length-1],u,f=c*4,h,p=t[2*c],m,y=t[2*c+1];i.fill(0);for(let v=0;v<n.length;++v)c=n[v],u=f,h=p,m=y,f=c*4,p=t[2*c],y=t[2*c+1],i[u+2]=i[f]=m-y,i[u+3]=i[f+1]=p-h}render(t){let n=t==null?t=new ca:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let f=0,h=r.length;f<h;++f){let p=r[f];if(p<f)continue;let m=Math.floor(f/3)*2,y=Math.floor(p/3)*2,v=s[m],b=s[m+1],x=s[y],w=s[y+1];this._renderSegment(v,b,x,w,t)}let c,u=o[o.length-1];for(let f=0;f<o.length;++f){c=u,u=o[f];let h=Math.floor(i[u]/3)*2,p=s[h],m=s[h+1],y=c*4,v=this._project(p,m,a[y+2],a[y+3]);v&&this._renderSegment(p,m,v[0],v[1],t)}return n&&n.value()}renderBounds(t){let n=t==null?t=new ca:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){let r=n==null?n=new ca:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){let{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){let i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){let n=new Oh;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s,a=this._regioncode(t,n),c=this._regioncode(r,i);a===0&&c===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,c))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){let n=this._clip(t);if(n)for(let r of this.delaunay.neighbors(t)){let i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,c=i.length;a<c;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+c-2)%c]&&n[(o+3)%s]===i[(a+c-1)%c]){yield r;break e}}}}_cell(t){let{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;let a=[],c=s;do{let u=Math.floor(c/3);if(a.push(n[u*2],n[u*2+1]),c=c%3===2?c-2:c+1,o[c]!==t)break;c=i[c]}while(c!==s&&c!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let n=this._cell(t);if(n===null)return null;let{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){let r=n.length,i=null,o,s,a=n[r-2],c=n[r-1],u,f=this._regioncode(a,c),h,p=0;for(let m=0;m<r;m+=2)if(o=a,s=c,a=n[m],c=n[m+1],u=f,f=this._regioncode(a,c),u===0&&f===0)h=p,p=0,i?i.push(a,c):i=[a,c];else{let y,v,b,x,w;if(u===0){if((y=this._clipSegment(o,s,a,c,u,f))===null)continue;[v,b,x,w]=y}else{if((y=this._clipSegment(a,c,o,s,f,u))===null)continue;[x,w,v,b]=y,h=p,p=this._edgecode(v,b),h&&p&&this._edge(t,h,p,i,i.length),i?i.push(v,b):i=[v,b]}h=p,p=this._edgecode(x,w),h&&p&&this._edge(t,h,p,i,i.length),i?i.push(x,w):i=[x,w]}if(i)h=p,p=this._edgecode(i[0],i[1]),h&&p&&this._edge(t,h,p,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){let a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let c,u,f=o||s;f&8?(c=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):f&4?(c=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):f&2?(u=n+(i-n)*(this.xmax-t)/(r-t),c=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),c=this.xmin),o?(t=c,n=u,o=this._regioncode(t,n)):(r=c,i=u,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),c;if((c=this._project(a[0],a[1],r,i))&&a.unshift(c[0],c[1]),(c=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(c[0],c[1]),a=this._clipFinite(t,a))for(let u=0,f=a.length,h,p=this._edgecode(a[f-2],a[f-1]);u<f;u+=2)h=p,p=this._edgecode(a[u],a[u+1]),h&&p&&(u=this._edge(t,h,p,a,u),f=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,c;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(c=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(c=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,c=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,c=n+(o=s)*i)}return[a,c]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){let r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};var a_e=2*Math.PI,Mg=Math.pow;function c_e(e){return e[0]}function l_e(e){return e[1]}function u_e(e){let{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){let i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function f_e(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var la=class e{static from(t,n=c_e,r=l_e,i){return new e("length"in t?d_e(t,n,r,i):Float64Array.from(h_e(t,n,r,i)))}constructor(t){this._delaunator=new Hv(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&u_e(t)){this.collinear=Int32Array.from({length:n.length/2},(p,m)=>m).sort((p,m)=>n[2*p]-n[2*m]||n[2*p+1]-n[2*m+1]);let c=this.collinear[0],u=this.collinear[this.collinear.length-1],f=[n[2*c],n[2*c+1],n[2*u],n[2*u+1]],h=1e-8*Math.hypot(f[3]-f[1],f[2]-f[0]);for(let p=0,m=n.length/2;p<m;++p){let y=f_e(n[2*p],n[2*p+1],h);n[2*p]=y[0],n[2*p+1]=y[1]}this._delaunator=new Hv(n)}else delete this.collinear;let r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let c=0,u=r.length;c<u;++c){let f=o[c%3===2?c-2:c+1];(r[c]===-1||s[f]===-1)&&(s[f]=c)}for(let c=0,u=i.length;c<u;++c)a[i[c]]=c;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new wE(this,t)}*neighbors(t){let{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){let h=a.indexOf(t);h>0&&(yield a[h-1]),h<a.length-1&&(yield a[h+1]);return}let c=n[t];if(c===-1)return;let u=c,f=-1;do{if(yield f=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=o[u],u===-1){let h=r[(i[t]+1)%r.length];h!==f&&(yield h);return}}while(u!==c)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;let i=r,o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){let{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:c,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let f=t,h=Mg(n-u[t*2],2)+Mg(r-u[t*2+1],2),p=i[t],m=p;do{let y=c[m],v=Mg(n-u[y*2],2)+Mg(r-u[y*2+1],2);if(v<h&&(h=v,f=y),m=m%3===2?m-2:m+1,c[m]!==t)break;if(m=a[m],m===-1){if(m=o[(s[t]+1)%o.length],m!==y&&Mg(n-u[m*2],2)+Mg(r-u[m*2+1],2)<h)return m;break}}while(m!==p);return f}render(t){let n=t==null?t=new ca:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){let c=i[s];if(c<s)continue;let u=o[s]*2,f=o[c]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[f],r[f+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;let r=t==null?t=new ca:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){let a=i[o],c=i[o+1];t.moveTo(a+n,c),t.arc(a,c,n,0,a_e)}return r&&r.value()}renderHull(t){let n=t==null?t=new ca:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){let c=2*r[a];t.lineTo(i[c],i[c+1])}return t.closePath(),n&&n.value()}hullPolygon(){let t=new Oh;return this.renderHull(t),t.value()}renderTriangle(t,n){let r=n==null?n=new ca:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,c=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[c],i[c+1]),n.closePath(),r&&r.value()}*trianglePolygons(){let{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){let n=new Oh;return this.renderTriangle(t,n),n.value()}};function d_e(e,t,n,r){let i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){let a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*h_e(e,t,n,r){let i=0;for(let o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function jW(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function uc(e){return e=Nh(Math.abs(e)),e?e[1]:NaN}function $W(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function zW(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var p_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fc(e){if(!(t=p_e.exec(e)))throw new Error("invalid format: "+e);var t;return new DE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fc.prototype=DE.prototype;function DE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}DE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function HW(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var vB;function GW(e,t){var n=Nh(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(vB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Nh(e,Math.max(0,t+o-1))[0]}function bB(e,t){var n=Nh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var xB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jW,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bB(e*100,t),r:bB,s:GW,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wB(e){return e}var qW=Array.prototype.map,WW=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function YW(e){var t=e.grouping===void 0||e.thousands===void 0?wB:$W(qW.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?wB:zW(qW.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=fc(h);var p=h.fill,m=h.align,y=h.sign,v=h.symbol,b=h.zero,x=h.width,w=h.comma,D=h.precision,I=h.trim,A=h.type;A==="n"?(w=!0,A="g"):xB[A]||(D===void 0&&(D=12),I=!0,A="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var T=v==="$"?n:v==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",N=v==="$"?r:/[%p]/.test(A)?s:"",B=xB[A],R=/[defgprs%]/.test(A);D=D===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function P(O){var k=T,H=N,U,C,F;if(A==="c")H=B(O)+H,O="";else{O=+O;var W=O<0||1/O<0;if(O=isNaN(O)?c:B(Math.abs(O),D),I&&(O=HW(O)),W&&+O==0&&y!=="+"&&(W=!1),k=(W?y==="("?y:a:y==="-"||y==="("?"":y)+k,H=(A==="s"?WW[8+vB/3]:"")+H+(W&&y==="("?")":""),R){for(U=-1,C=O.length;++U<C;)if(F=O.charCodeAt(U),48>F||F>57){H=(F===46?i+O.slice(U+1):O.slice(U))+H,O=O.slice(0,U);break}}}w&&!b&&(O=t(O,1/0));var G=k.length+O.length+H.length,q=G<x?new Array(x-G+1).join(p):"";switch(w&&b&&(O=t(q+O,q.length?x-H.length:1/0),q=""),m){case"<":O=k+O+H+q;break;case"=":O=k+q+O+H;break;case"^":O=q.slice(0,G=q.length>>1)+k+O+H+q.slice(G);break;default:O=q+k+O+H;break}return o(O)}return P.toString=function(){return h+""},P}function f(h,p){var m=u((h=fc(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(uc(p)/3)))*3,v=Math.pow(10,-y),b=WW[8+y/3];return function(x){return m(v*x)+b}}return{format:u,formatPrefix:f}}var SE,vs,IE;DB({thousands:",",grouping:[3],currency:["$",""]});function DB(e){return SE=YW(e),vs=SE.format,IE=SE.formatPrefix,SE}function SB(e){return Math.max(0,-uc(Math.abs(e)))}function IB(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(uc(t)/3)))*3-uc(Math.abs(e)))}function EB(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,uc(t)-uc(e))+1}var we=1e-6,Rh=1e-12,nt=Math.PI,hn=nt/2,TB=nt/4,Hr=nt*2,tr=180/nt,Et=nt/180,ft=Math.abs,bs=Math.atan,gr=Math.atan2,xe=Math.cos,Gv=Math.ceil,EE=Math.exp;var TE=Math.hypot,Ph=Math.log,CE=Math.pow,ve=Math.sin,Ci=Math.sign||function(e){return e>0?1:e<0?-1:0},pn=Math.sqrt,Ag=Math.tan;function ME(e){return e>1?0:e<-1?nt:Math.acos(e)}function Pn(e){return e>1?hn:e<-1?-hn:Math.asin(e)}function yr(){}function AE(e,t){e&&XW.hasOwnProperty(e.type)&&XW[e.type](e,t)}var ZW={Feature:function(e,t){AE(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)AE(n[r].geometry,t)}},XW={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){CB(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)CB(n[r],t,0)},Polygon:function(e,t){QW(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)QW(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)AE(n[r],t)}};function CB(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function QW(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)CB(e[n],t,1);t.polygonEnd()}function jo(e,t){e&&ZW.hasOwnProperty(e.type)?ZW[e.type](e,t):AE(e,t)}function qv(e){return[gr(e[1],e[0]),Pn(e[2])]}function dc(e){var t=e[0],n=e[1],r=xe(n);return[r*xe(t),r*ve(t),ve(n)]}function Wv(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Og(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function OE(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Yv(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Zv(e){var t=pn(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Xv,NE,RE,PE,LE,kE,FE,BE,MB,AB,OB,eY,tY,Ki,Ji,eo,ua={sphere:yr,point:NB,lineStart:KW,lineEnd:JW,polygonStart:function(){ua.lineStart=y_e,ua.lineEnd=__e},polygonEnd:function(){ua.lineStart=KW,ua.lineEnd=JW}};function NB(e,t){e*=Et,t*=Et;var n=xe(t);Qv(n*xe(e),n*ve(e),ve(t))}function Qv(e,t,n){++Xv,RE+=(e-RE)/Xv,PE+=(t-PE)/Xv,LE+=(n-LE)/Xv}function KW(){ua.point=m_e}function m_e(e,t){e*=Et,t*=Et;var n=xe(t);Ki=n*xe(e),Ji=n*ve(e),eo=ve(t),ua.point=g_e,Qv(Ki,Ji,eo)}function g_e(e,t){e*=Et,t*=Et;var n=xe(t),r=n*xe(e),i=n*ve(e),o=ve(t),s=gr(pn((s=Ji*o-eo*i)*s+(s=eo*r-Ki*o)*s+(s=Ki*i-Ji*r)*s),Ki*r+Ji*i+eo*o);NE+=s,kE+=s*(Ki+(Ki=r)),FE+=s*(Ji+(Ji=i)),BE+=s*(eo+(eo=o)),Qv(Ki,Ji,eo)}function JW(){ua.point=NB}function y_e(){ua.point=v_e}function __e(){nY(eY,tY),ua.point=NB}function v_e(e,t){eY=e,tY=t,e*=Et,t*=Et,ua.point=nY;var n=xe(t);Ki=n*xe(e),Ji=n*ve(e),eo=ve(t),Qv(Ki,Ji,eo)}function nY(e,t){e*=Et,t*=Et;var n=xe(t),r=n*xe(e),i=n*ve(e),o=ve(t),s=Ji*o-eo*i,a=eo*r-Ki*o,c=Ki*i-Ji*r,u=TE(s,a,c),f=Pn(u),h=u&&-f/u;MB.add(h*s),AB.add(h*a),OB.add(h*c),NE+=f,kE+=f*(Ki+(Ki=r)),FE+=f*(Ji+(Ji=i)),BE+=f*(eo+(eo=o)),Qv(Ki,Ji,eo)}function RB(e){Xv=NE=RE=PE=LE=kE=FE=BE=0,MB=new ui,AB=new ui,OB=new ui,jo(e,ua);var t=+MB,n=+AB,r=+OB,i=TE(t,n,r);return i<Rh&&(t=kE,n=FE,r=BE,NE<we&&(t=RE,n=PE,r=LE),i=TE(t,n,r),i<Rh)?[NaN,NaN]:[gr(n,t)*tr,Pn(r/i)*tr]}function Kv(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function PB(e,t){return ft(e)>nt&&(e-=Math.round(e/Hr)*Hr),[e,t]}PB.invert=PB;function LB(e,t,n){return(e%=Hr)?t||n?Kv(iY(e),oY(t,n)):iY(e):t||n?oY(t,n):PB}function rY(e){return function(t,n){return t+=e,ft(t)>nt&&(t-=Math.round(t/Hr)*Hr),[t,n]}}function iY(e){var t=rY(e);return t.invert=rY(-e),t}function oY(e,t){var n=xe(e),r=ve(e),i=xe(t),o=ve(t);function s(a,c){var u=xe(c),f=xe(a)*u,h=ve(a)*u,p=ve(c),m=p*n+f*r;return[gr(h*i-m*o,f*n-p*r),Pn(m*i+h*o)]}return s.invert=function(a,c){var u=xe(c),f=xe(a)*u,h=ve(a)*u,p=ve(c),m=p*i-h*o;return[gr(h*i+p*o,f*n+m*r),Pn(m*n-f*r)]},s}function sY(e){e=LB(e[0]*Et,e[1]*Et,e.length>2?e[2]*Et:0);function t(n){return n=e(n[0]*Et,n[1]*Et),n[0]*=tr,n[1]*=tr,n}return t.invert=function(n){return n=e.invert(n[0]*Et,n[1]*Et),n[0]*=tr,n[1]*=tr,n},t}function cY(e,t,n,r,i,o){if(n){var s=xe(t),a=ve(t),c=r*n;i==null?(i=t+r*Hr,o=t-c/2):(i=aY(s,i),o=aY(s,o),(r>0?i<o:i>o)&&(i+=r*Hr));for(var u,f=i;r>0?f>o:f<o;f-=c)u=qv([s,-a*xe(f),-a*ve(f)]),e.point(u[0],u[1])}}function aY(e,t){t=dc(t),t[0]-=e,Zv(t);var n=ME(-t[1]);return((-t[2]<0?-n:n)+Hr-we)%Hr}function VE(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:yr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Ng(e,t){return ft(e[0]-t[0])<we&&ft(e[1]-t[1])<we}function UE(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function jE(e,t,n,r,i){var o=[],s=[],a,c;if(e.forEach(function(y){if(!((v=y.length-1)<=0)){var v,b=y[0],x=y[v],w;if(Ng(b,x)){if(!b[2]&&!x[2]){for(i.lineStart(),a=0;a<v;++a)i.point((b=y[a])[0],b[1]);i.lineEnd();return}x[0]+=2*we}o.push(w=new UE(b,y,null,!0)),s.push(w.o=new UE(b,null,w,!1)),o.push(w=new UE(x,y,null,!1)),s.push(w.o=new UE(x,null,w,!0))}}),!!o.length){for(s.sort(t),lY(o),lY(s),a=0,c=s.length;a<c;++a)s[a].e=n=!n;for(var u=o[0],f,h;;){for(var p=u,m=!0;p.v;)if((p=p.n)===u)return;f=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(m)for(a=0,c=f.length;a<c;++a)i.point((h=f[a])[0],h[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(m)for(f=p.p.z,a=f.length-1;a>=0;--a)i.point((h=f[a])[0],h[1]);else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,f=p.z,m=!m}while(!p.v);i.lineEnd()}}}function lY(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function kB(e){return ft(e[0])<=nt?e[0]:Ci(e[0])*((ft(e[0])+nt)%Hr-nt)}function uY(e,t){var n=kB(t),r=t[1],i=ve(r),o=[ve(n),-xe(n),0],s=0,a=0,c=new ui;i===1?r=hn+we:i===-1&&(r=-hn-we);for(var u=0,f=e.length;u<f;++u)if(p=(h=e[u]).length)for(var h,p,m=h[p-1],y=kB(m),v=m[1]/2+TB,b=ve(v),x=xe(v),w=0;w<p;++w,y=I,b=T,x=N,m=D){var D=h[w],I=kB(D),A=D[1]/2+TB,T=ve(A),N=xe(A),B=I-y,R=B>=0?1:-1,P=R*B,O=P>nt,k=b*T;if(c.add(gr(k*R*ve(P),x*N+k*xe(P))),s+=O?B+R*Hr:B,O^y>=n^I>=n){var H=Og(dc(m),dc(D));Zv(H);var U=Og(o,H);Zv(U);var C=(O^B>=0?-1:1)*Pn(U[2]);(r>C||r===C&&(H[0]||H[1]))&&(a+=O^B>=0?1:-1)}}return(s<-we||s<we&&c<-Rh)^a&1}function $E(e,t,n,r){return function(i){var o=t(i),s=VE(),a=t(s),c=!1,u,f,h,p={point:m,lineStart:v,lineEnd:b,polygonStart:function(){p.point=x,p.lineStart=w,p.lineEnd=D,f=[],u=[]},polygonEnd:function(){p.point=m,p.lineStart=v,p.lineEnd=b,f=pg(f);var I=uY(u,r);f.length?(c||(i.polygonStart(),c=!0),jE(f,x_e,I,n,i)):I&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),f=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function m(I,A){e(I,A)&&i.point(I,A)}function y(I,A){o.point(I,A)}function v(){p.point=y,o.lineStart()}function b(){p.point=m,o.lineEnd()}function x(I,A){h.push([I,A]),a.point(I,A)}function w(){a.lineStart(),h=[]}function D(){x(h[0][0],h[0][1]),a.lineEnd();var I=a.clean(),A=s.result(),T,N=A.length,B,R,P;if(h.pop(),u.push(h),h=null,!!N){if(I&1){if(R=A[0],(B=R.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),T=0;T<B;++T)i.point((P=R[T])[0],P[1]);i.lineEnd()}return}N>1&&I&2&&A.push(A.pop().concat(A.shift())),f.push(A.filter(b_e))}}return p}}function b_e(e){return e.length>1}function x_e(e,t){return((e=e.x)[0]<0?e[1]-hn-we:hn-e[1])-((t=t.x)[0]<0?t[1]-hn-we:hn-t[1])}var FB=$E(function(){return!0},w_e,S_e,[-nt,-hn]);function w_e(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?nt:-nt,c=ft(o-t);ft(c-nt)<we?(e.point(t,n=(n+s)/2>0?hn:-hn),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&c>=nt&&(ft(t-r)<we&&(t-=r*we),ft(o-a)<we&&(o-=a*we),n=D_e(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function D_e(e,t,n,r){var i,o,s=ve(e-n);return ft(s)>we?bs((ve(t)*(o=xe(r))*ve(n)-ve(r)*(i=xe(t))*ve(e))/(i*o*s)):(t+r)/2}function S_e(e,t,n,r){var i;if(e==null)i=n*hn,r.point(-nt,i),r.point(0,i),r.point(nt,i),r.point(nt,0),r.point(nt,-i),r.point(0,-i),r.point(-nt,-i),r.point(-nt,0),r.point(-nt,i);else if(ft(e[0]-t[0])>we){var o=e[0]<t[0]?nt:-nt;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function fY(e){var t=xe(e),n=2*Et,r=t>0,i=ft(t)>we;function o(f,h,p,m){cY(m,e,n,p,f,h)}function s(f,h){return xe(f)*xe(h)>t}function a(f){var h,p,m,y,v;return{lineStart:function(){y=m=!1,v=1},point:function(b,x){var w=[b,x],D,I=s(b,x),A=r?I?0:u(b,x):I?u(b+(b<0?nt:-nt),x):0;if(!h&&(y=m=I)&&f.lineStart(),I!==m&&(D=c(h,w),(!D||Ng(h,D)||Ng(w,D))&&(w[2]=1)),I!==m)v=0,I?(f.lineStart(),D=c(w,h),f.point(D[0],D[1])):(D=c(h,w),f.point(D[0],D[1],2),f.lineEnd()),h=D;else if(i&&h&&r^I){var T;!(A&p)&&(T=c(w,h,!0))&&(v=0,r?(f.lineStart(),f.point(T[0][0],T[0][1]),f.point(T[1][0],T[1][1]),f.lineEnd()):(f.point(T[1][0],T[1][1]),f.lineEnd(),f.lineStart(),f.point(T[0][0],T[0][1],3)))}I&&(!h||!Ng(h,w))&&f.point(w[0],w[1]),h=w,m=I,p=A},lineEnd:function(){m&&f.lineEnd(),h=null},clean:function(){return v|(y&&m)<<1}}}function c(f,h,p){var m=dc(f),y=dc(h),v=[1,0,0],b=Og(m,y),x=Wv(b,b),w=b[0],D=x-w*w;if(!D)return!p&&f;var I=t*x/D,A=-t*w/D,T=Og(v,b),N=Yv(v,I),B=Yv(b,A);OE(N,B);var R=T,P=Wv(N,R),O=Wv(R,R),k=P*P-O*(Wv(N,N)-1);if(!(k<0)){var H=pn(k),U=Yv(R,(-P-H)/O);if(OE(U,N),U=qv(U),!p)return U;var C=f[0],F=h[0],W=f[1],G=h[1],q;F<C&&(q=C,C=F,F=q);var K=F-C,X=ft(K-nt)<we,J=X||K<we;if(!X&&G<W&&(q=W,W=G,G=q),J?X?W+G>0^U[1]<(ft(U[0]-C)<we?W:G):W<=U[1]&&U[1]<=G:K>nt^(C<=U[0]&&U[0]<=F)){var re=Yv(R,(-P+H)/O);return OE(re,N),[U,qv(re)]}}}function u(f,h){var p=r?e:nt-e,m=0;return f<-p?m|=1:f>p&&(m|=2),h<-p?m|=4:h>p&&(m|=8),m}return $E(s,a,o,r?[0,-e]:[-nt,e-nt])}function dY(e,t,n,r,i,o){var s=e[0],a=e[1],c=t[0],u=t[1],f=0,h=1,p=c-s,m=u-a,y;if(y=n-s,!(!p&&y>0)){if(y/=p,p<0){if(y<f)return;y<h&&(h=y)}else if(p>0){if(y>h)return;y>f&&(f=y)}if(y=i-s,!(!p&&y<0)){if(y/=p,p<0){if(y>h)return;y>f&&(f=y)}else if(p>0){if(y<f)return;y<h&&(h=y)}if(y=r-a,!(!m&&y>0)){if(y/=m,m<0){if(y<f)return;y<h&&(h=y)}else if(m>0){if(y>h)return;y>f&&(f=y)}if(y=o-a,!(!m&&y<0)){if(y/=m,m<0){if(y>h)return;y>f&&(f=y)}else if(m>0){if(y<f)return;y<h&&(h=y)}return f>0&&(e[0]=s+f*p,e[1]=a+f*m),h<1&&(t[0]=s+h*p,t[1]=a+h*m),!0}}}}}var Jv=1e9,zE=-Jv;function Rg(e,t,n,r){function i(u,f){return e<=u&&u<=n&&t<=f&&f<=r}function o(u,f,h,p){var m=0,y=0;if(u==null||(m=s(u,h))!==(y=s(f,h))||c(u,f)<0^h>0)do p.point(m===0||m===3?e:n,m>1?r:t);while((m=(m+h+4)%4)!==y);else p.point(f[0],f[1])}function s(u,f){return ft(u[0]-e)<we?f>0?0:3:ft(u[0]-n)<we?f>0?2:1:ft(u[1]-t)<we?f>0?1:0:f>0?3:2}function a(u,f){return c(u.x,f.x)}function c(u,f){var h=s(u,1),p=s(f,1);return h!==p?h-p:h===0?f[1]-u[1]:h===1?u[0]-f[0]:h===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,h=VE(),p,m,y,v,b,x,w,D,I,A,T,N={point:B,lineStart:k,lineEnd:H,polygonStart:P,polygonEnd:O};function B(C,F){i(C,F)&&f.point(C,F)}function R(){for(var C=0,F=0,W=m.length;F<W;++F)for(var G=m[F],q=1,K=G.length,X=G[0],J,re,te=X[0],le=X[1];q<K;++q)J=te,re=le,X=G[q],te=X[0],le=X[1],re<=r?le>r&&(te-J)*(r-re)>(le-re)*(e-J)&&++C:le<=r&&(te-J)*(r-re)<(le-re)*(e-J)&&--C;return C}function P(){f=h,p=[],m=[],T=!0}function O(){var C=R(),F=T&&C,W=(p=pg(p)).length;(F||W)&&(u.polygonStart(),F&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),W&&jE(p,a,C,o,u),u.polygonEnd()),f=u,p=m=y=null}function k(){N.point=U,m&&m.push(y=[]),A=!0,I=!1,w=D=NaN}function H(){p&&(U(v,b),x&&I&&h.rejoin(),p.push(h.result())),N.point=B,I&&f.lineEnd()}function U(C,F){var W=i(C,F);if(m&&y.push([C,F]),A)v=C,b=F,x=W,A=!1,W&&(f.lineStart(),f.point(C,F));else if(W&&I)f.point(C,F);else{var G=[w=Math.max(zE,Math.min(Jv,w)),D=Math.max(zE,Math.min(Jv,D))],q=[C=Math.max(zE,Math.min(Jv,C)),F=Math.max(zE,Math.min(Jv,F))];dY(G,q,e,t,n,r)?(I||(f.lineStart(),f.point(G[0],G[1])),f.point(q[0],q[1]),W||f.lineEnd(),T=!1):W&&(f.lineStart(),f.point(C,F),T=!1)}w=C,D=F,I=W}return N}}function hY(e,t,n){var r=Jn(e,t-we,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function pY(e,t,n){var r=Jn(e,t-we,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function BB(){var e,t,n,r,i,o,s,a,c=10,u=c,f=90,h=360,p,m,y,v,b=2.5;function x(){return{type:"MultiLineString",coordinates:w()}}function w(){return Jn(Gv(r/f)*f,n,f).map(y).concat(Jn(Gv(a/h)*h,s,h).map(v)).concat(Jn(Gv(t/c)*c,e,c).filter(function(D){return ft(D%f)>we}).map(p)).concat(Jn(Gv(o/u)*u,i,u).filter(function(D){return ft(D%h)>we}).map(m))}return x.lines=function(){return w().map(function(D){return{type:"LineString",coordinates:D}})},x.outline=function(){return{type:"Polygon",coordinates:[y(r).concat(v(s).slice(1),y(n).reverse().slice(1),v(a).reverse().slice(1))]}},x.extent=function(D){return arguments.length?x.extentMajor(D).extentMinor(D):x.extentMinor()},x.extentMajor=function(D){return arguments.length?(r=+D[0][0],n=+D[1][0],a=+D[0][1],s=+D[1][1],r>n&&(D=r,r=n,n=D),a>s&&(D=a,a=s,s=D),x.precision(b)):[[r,a],[n,s]]},x.extentMinor=function(D){return arguments.length?(t=+D[0][0],e=+D[1][0],o=+D[0][1],i=+D[1][1],t>e&&(D=t,t=e,e=D),o>i&&(D=o,o=i,i=D),x.precision(b)):[[t,o],[e,i]]},x.step=function(D){return arguments.length?x.stepMajor(D).stepMinor(D):x.stepMinor()},x.stepMajor=function(D){return arguments.length?(f=+D[0],h=+D[1],x):[f,h]},x.stepMinor=function(D){return arguments.length?(c=+D[0],u=+D[1],x):[c,u]},x.precision=function(D){return arguments.length?(b=+D,p=hY(o,i,90),m=pY(t,e,b),y=hY(a,s,90),v=pY(r,n,b),x):b},x.extentMajor([[-180,-90+we],[180,90-we]]).extentMinor([[-180,-80-we],[180,80+we]])}function VB(){return BB()()}var eb=e=>e;var UB=new ui,jB=new ui,mY,gY,$B,zB,Rf={point:yr,lineStart:yr,lineEnd:yr,polygonStart:function(){Rf.lineStart=I_e,Rf.lineEnd=T_e},polygonEnd:function(){Rf.lineStart=Rf.lineEnd=Rf.point=yr,UB.add(ft(jB)),jB=new ui},result:function(){var e=UB/2;return UB=new ui,e}};function I_e(){Rf.point=E_e}function E_e(e,t){Rf.point=yY,mY=$B=e,gY=zB=t}function yY(e,t){jB.add(zB*e-$B*t),$B=e,zB=t}function T_e(){yY(mY,gY)}var HB=Rf;var Pg=1/0,HE=Pg,tb=-Pg,GE=tb,C_e={point:M_e,lineStart:yr,lineEnd:yr,polygonStart:yr,polygonEnd:yr,result:function(){var e=[[Pg,HE],[tb,GE]];return tb=GE=-(HE=Pg=1/0),e}};function M_e(e,t){e<Pg&&(Pg=e),e>tb&&(tb=e),t<HE&&(HE=t),t>GE&&(GE=t)}var Lg=C_e;var GB=0,qB=0,nb=0,qE=0,WE=0,kg=0,WB=0,YB=0,rb=0,bY,xY,hc,pc,fa={point:Lh,lineStart:_Y,lineEnd:vY,polygonStart:function(){fa.lineStart=N_e,fa.lineEnd=R_e},polygonEnd:function(){fa.point=Lh,fa.lineStart=_Y,fa.lineEnd=vY},result:function(){var e=rb?[WB/rb,YB/rb]:kg?[qE/kg,WE/kg]:nb?[GB/nb,qB/nb]:[NaN,NaN];return GB=qB=nb=qE=WE=kg=WB=YB=rb=0,e}};function Lh(e,t){GB+=e,qB+=t,++nb}function _Y(){fa.point=A_e}function A_e(e,t){fa.point=O_e,Lh(hc=e,pc=t)}function O_e(e,t){var n=e-hc,r=t-pc,i=pn(n*n+r*r);qE+=i*(hc+e)/2,WE+=i*(pc+t)/2,kg+=i,Lh(hc=e,pc=t)}function vY(){fa.point=Lh}function N_e(){fa.point=P_e}function R_e(){wY(bY,xY)}function P_e(e,t){fa.point=wY,Lh(bY=hc=e,xY=pc=t)}function wY(e,t){var n=e-hc,r=t-pc,i=pn(n*n+r*r);qE+=i*(hc+e)/2,WE+=i*(pc+t)/2,kg+=i,i=pc*e-hc*t,WB+=i*(hc+e),YB+=i*(pc+t),rb+=i*3,Lh(hc=e,pc=t)}var ZB=fa;function YE(e){this._context=e}YE.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Hr);break}}},result:yr};var QB=new ui,XB,DY,SY,ib,ob,ZE={point:yr,lineStart:function(){ZE.point=L_e},lineEnd:function(){XB&&IY(DY,SY),ZE.point=yr},polygonStart:function(){XB=!0},polygonEnd:function(){XB=null},result:function(){var e=+QB;return QB=new ui,e}};function L_e(e,t){ZE.point=IY,DY=ib=e,SY=ob=t}function IY(e,t){ib-=e,ob-=t,QB.add(pn(ib*ib+ob*ob)),ib=e,ob=t}var KB=ZE;var EY,XE,TY,CY,sb=class{constructor(t){this._append=t==null?MY:k_e(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==TY||this._append!==XE){let r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,TY=r,XE=this._append,CY=this._,this._=i}this._+=CY;break}}}result(){let t=this._;return this._="",t.length?t:null}};function MY(e){let t=1;this._+=e[0];for(let n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function k_e(e){let t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return MY;if(t!==EY){let n=10**t;EY=t,XE=function(i){let o=1;this._+=i[0];for(let s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return XE}function Gr(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),jo(a,i(o))),o.result()}return s.area=function(a){return jo(a,i(HB)),HB.result()},s.measure=function(a){return jo(a,i(KB)),KB.result()},s.bounds=function(a){return jo(a,i(Lg)),Lg.result()},s.centroid=function(a){return jo(a,i(ZB)),ZB.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,eb):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new sb(n)):new YE(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{let c=Math.floor(a);if(!(c>=0))throw new RangeError(`invalid digits: ${a}`);n=c}return t===null&&(o=new sb(n)),s},s.projection(e).digits(n).context(t)}function kh(e){return{stream:Fg(e)}}function Fg(e){return function(t){var n=new JB;for(var r in e)n[r]=e[r];return n.stream=t,n}}function JB(){}JB.prototype={constructor:JB,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function e3(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),jo(n,e.stream(Lg)),t(Lg.result()),r!=null&&e.clipExtent(r),e}function ab(e,t,n){return e3(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,c])},n)}function QE(e,t,n){return ab(e,[[0,0],t],n)}function KE(e,t,n){return e3(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function JE(e,t,n){return e3(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var AY=16,F_e=xe(30*Et);function t3(e,t){return+t?V_e(e,t):B_e(e)}function B_e(e){return Fg({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function V_e(e,t){function n(r,i,o,s,a,c,u,f,h,p,m,y,v,b){var x=u-r,w=f-i,D=x*x+w*w;if(D>4*t&&v--){var I=s+p,A=a+m,T=c+y,N=pn(I*I+A*A+T*T),B=Pn(T/=N),R=ft(ft(T)-1)<we||ft(o-h)<we?(o+h)/2:gr(A,I),P=e(R,B),O=P[0],k=P[1],H=O-r,U=k-i,C=w*H-x*U;(C*C/D>t||ft((x*H+w*U)/D-.5)>.3||s*p+a*m+c*y<F_e)&&(n(r,i,o,s,a,c,O,k,R,I/=N,A/=N,T,v,b),b.point(O,k),n(O,k,R,I,A,T,u,f,h,p,m,y,v,b))}}return function(r){var i,o,s,a,c,u,f,h,p,m,y,v,b={point:x,lineStart:w,lineEnd:I,polygonStart:function(){r.polygonStart(),b.lineStart=A},polygonEnd:function(){r.polygonEnd(),b.lineStart=w}};function x(B,R){B=e(B,R),r.point(B[0],B[1])}function w(){h=NaN,b.point=D,r.lineStart()}function D(B,R){var P=dc([B,R]),O=e(B,R);n(h,p,f,m,y,v,h=O[0],p=O[1],f=B,m=P[0],y=P[1],v=P[2],AY,r),r.point(h,p)}function I(){b.point=x,r.lineEnd()}function A(){w(),b.point=T,b.lineEnd=N}function T(B,R){D(i=B,R),o=h,s=p,a=m,c=y,u=v,b.point=D}function N(){n(h,p,f,m,y,v,o,s,i,a,c,u,AY,r),b.lineEnd=I,I()}return b}}var U_e=Fg({point:function(e,t){this.stream.point(e*Et,t*Et)}});function j_e(e){return Fg({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function $_e(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function OY(e,t,n,r,i,o){if(!o)return $_e(e,t,n,r,i);var s=xe(o),a=ve(o),c=s*e,u=a*e,f=s/e,h=a/e,p=(a*n-s*t)/e,m=(a*t+s*n)/e;function y(v,b){return v*=r,b*=i,[c*v-u*b+t,n-u*v-c*b]}return y.invert=function(v,b){return[r*(f*v-h*b+p),i*(m-h*v-f*b)]},y}function pi(e){return n3(function(){return e})()}function n3(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,c=0,u=0,f,h=0,p=1,m=1,y=null,v=FB,b=null,x,w,D,I=eb,A=.5,T,N,B,R,P;function O(C){return B(C[0]*Et,C[1]*Et)}function k(C){return C=B.invert(C[0],C[1]),C&&[C[0]*tr,C[1]*tr]}O.stream=function(C){return R&&P===C?R:R=U_e(j_e(f)(v(T(I(P=C)))))},O.preclip=function(C){return arguments.length?(v=C,y=void 0,U()):v},O.postclip=function(C){return arguments.length?(I=C,b=x=w=D=null,U()):I},O.clipAngle=function(C){return arguments.length?(v=+C?fY(y=C*Et):(y=null,FB),U()):y*tr},O.clipExtent=function(C){return arguments.length?(I=C==null?(b=x=w=D=null,eb):Rg(b=+C[0][0],x=+C[0][1],w=+C[1][0],D=+C[1][1]),U()):b==null?null:[[b,x],[w,D]]},O.scale=function(C){return arguments.length?(n=+C,H()):n},O.translate=function(C){return arguments.length?(r=+C[0],i=+C[1],H()):[r,i]},O.center=function(C){return arguments.length?(o=C[0]%360*Et,s=C[1]%360*Et,H()):[o*tr,s*tr]},O.rotate=function(C){return arguments.length?(a=C[0]%360*Et,c=C[1]%360*Et,u=C.length>2?C[2]%360*Et:0,H()):[a*tr,c*tr,u*tr]},O.angle=function(C){return arguments.length?(h=C%360*Et,H()):h*tr},O.reflectX=function(C){return arguments.length?(p=C?-1:1,H()):p<0},O.reflectY=function(C){return arguments.length?(m=C?-1:1,H()):m<0},O.precision=function(C){return arguments.length?(T=t3(N,A=C*C),U()):pn(A)},O.fitExtent=function(C,F){return ab(O,C,F)},O.fitSize=function(C,F){return QE(O,C,F)},O.fitWidth=function(C,F){return KE(O,C,F)},O.fitHeight=function(C,F){return JE(O,C,F)};function H(){var C=OY(n,0,0,p,m,h).apply(null,t(o,s)),F=OY(n,r-C[0],i-C[1],p,m,h);return f=LB(a,c,u),N=Kv(t,F),B=Kv(f,N),T=t3(N,A),U()}function U(){return R=P=null,O}return function(){return t=e.apply(this,arguments),O.invert=t.invert&&k,H()}}function Bg(e){var t=0,n=nt/3,r=n3(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*Et,n=o[1]*Et):[t*tr,n*tr]},i}function NY(e){var t=xe(e);function n(r,i){return[r*t,ve(i)/t]}return n.invert=function(r,i){return[r/t,Pn(i*t)]},n}function RY(e,t){var n=ve(e),r=(n+ve(t))/2;if(ft(r)<we)return NY(e);var i=1+n*(2*r-n),o=pn(i)/r;function s(a,c){var u=pn(i-2*r*ve(c))/r;return[u*ve(a*=r),o-u*xe(a)]}return s.invert=function(a,c){var u=o-c,f=gr(a,ft(u))*Ci(u);return u*r<0&&(f-=nt*Ci(a)*Ci(u)),[f/r,Pn((i-(a*a+u*u)*r*r)/(2*r))]},s}function Pf(){return Bg(RY).scale(155.424).center([0,33.6442])}function cb(){return Pf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function z_e(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function r3(){var e,t,n=cb(),r,i=Pf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=Pf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,c,u={point:function(p,m){c=[p,m]}};function f(p){var m=p[0],y=p[1];return c=null,r.point(m,y),c||(o.point(m,y),c)||(a.point(m,y),c)}f.invert=function(p){var m=n.scale(),y=n.translate(),v=(p[0]-y[0])/m,b=(p[1]-y[1])/m;return(b>=.12&&b<.234&&v>=-.425&&v<-.214?i:b>=.166&&b<.234&&v>=-.214&&v<-.115?s:n).invert(p)},f.stream=function(p){return e&&t===p?e:e=z_e([n.stream(t=p),i.stream(p),s.stream(p)])},f.precision=function(p){return arguments.length?(n.precision(p),i.precision(p),s.precision(p),h()):n.precision()},f.scale=function(p){return arguments.length?(n.scale(p),i.scale(p*.35),s.scale(p),f.translate(n.translate())):n.scale()},f.translate=function(p){if(!arguments.length)return n.translate();var m=n.scale(),y=+p[0],v=+p[1];return r=n.translate(p).clipExtent([[y-.455*m,v-.238*m],[y+.455*m,v+.238*m]]).stream(u),o=i.translate([y-.307*m,v+.201*m]).clipExtent([[y-.425*m+we,v+.12*m+we],[y-.214*m-we,v+.234*m-we]]).stream(u),a=s.translate([y-.205*m,v+.212*m]).clipExtent([[y-.214*m+we,v+.166*m+we],[y-.115*m-we,v+.234*m-we]]).stream(u),h()},f.fitExtent=function(p,m){return ab(f,p,m)},f.fitSize=function(p,m){return QE(f,p,m)},f.fitWidth=function(p,m){return KE(f,p,m)},f.fitHeight=function(p,m){return JE(f,p,m)};function h(){return e=t=null,f}return f.scale(1070)}function eT(e){return function(t,n){var r=xe(t),i=xe(n),o=e(r*i);return o===1/0?[2,0]:[o*i*ve(t),o*ve(n)]}}function mc(e){return function(t,n){var r=pn(t*t+n*n),i=e(r),o=ve(i),s=xe(i);return[gr(t*o,r*s),Pn(r&&n*o/r)]}}var i3=eT(function(e){return pn(2/(1+e))});i3.invert=mc(function(e){return 2*Pn(e/2)});function o3(){return pi(i3).scale(124.75).clipAngle(180-.001)}var s3=eT(function(e){return(e=ME(e))&&e/ve(e)});s3.invert=mc(function(e){return e});function a3(){return pi(s3).scale(79.4188).clipAngle(180-.001)}function Vg(e,t){return[e,Ph(Ag((hn+t)/2))]}Vg.invert=function(e,t){return[e,2*bs(EE(t))-hn]};function c3(){return l3(Vg).scale(961/Hr)}function l3(e){var t=pi(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,c,u;t.scale=function(h){return arguments.length?(r(h),f()):r()},t.translate=function(h){return arguments.length?(i(h),f()):i()},t.center=function(h){return arguments.length?(n(h),f()):n()},t.clipExtent=function(h){return arguments.length?(h==null?s=a=c=u=null:(s=+h[0][0],a=+h[0][1],c=+h[1][0],u=+h[1][1]),f()):s==null?null:[[s,a],[c,u]]};function f(){var h=nt*r(),p=t(sY(t.rotate()).invert([0,0]));return o(s==null?[[p[0]-h,p[1]-h],[p[0]+h,p[1]+h]]:e===Vg?[[Math.max(p[0]-h,s),a],[Math.min(p[0]+h,c),u]]:[[s,Math.max(p[1]-h,a)],[c,Math.min(p[1]+h,u)]])}return f()}function tT(e){return Ag((hn+e)/2)}function PY(e,t){var n=xe(e),r=e===t?ve(e):Ph(n/xe(t))/Ph(tT(t)/tT(e)),i=n*CE(tT(e),r)/r;if(!r)return Vg;function o(s,a){i>0?a<-hn+we&&(a=-hn+we):a>hn-we&&(a=hn-we);var c=i/CE(tT(a),r);return[c*ve(r*s),i-c*xe(r*s)]}return o.invert=function(s,a){var c=i-a,u=Ci(r)*pn(s*s+c*c),f=gr(s,ft(c))*Ci(c);return c*r<0&&(f-=nt*Ci(s)*Ci(c)),[f/r,2*bs(CE(i/u,1/r))-hn]},o}function u3(){return Bg(PY).scale(109.5).parallels([30,30])}function Ug(e,t){return[e,t]}Ug.invert=Ug;function f3(){return pi(Ug).scale(152.63)}function LY(e,t){var n=xe(e),r=e===t?ve(e):(n-xe(t))/(t-e),i=n/r+e;if(ft(r)<we)return Ug;function o(s,a){var c=i-a,u=r*s;return[c*ve(u),i-c*xe(u)]}return o.invert=function(s,a){var c=i-a,u=gr(s,ft(c))*Ci(c);return c*r<0&&(u-=nt*Ci(s)*Ci(c)),[u/r,i-Ci(r)*pn(s*s+c*c)]},o}function d3(){return Bg(LY).scale(131.154).center([0,13.9389])}var lb=1.340264,ub=-.081106,fb=893e-6,db=.003796,nT=pn(3)/2,H_e=12;function h3(e,t){var n=Pn(nT*ve(t)),r=n*n,i=r*r*r;return[e*xe(n)/(nT*(lb+3*ub*r+i*(7*fb+9*db*r))),n*(lb+ub*r+i*(fb+db*r))]}h3.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,c;o<H_e&&(a=n*(lb+ub*r+i*(fb+db*r))-t,c=lb+3*ub*r+i*(7*fb+9*db*r),n-=s=a/c,r=n*n,i=r*r*r,!(ft(s)<Rh));++o);return[nT*e*(lb+3*ub*r+i*(7*fb+9*db*r))/xe(n),Pn(ve(n)/nT)]};function p3(){return pi(h3).scale(177.158)}function m3(e,t){var n=xe(t),r=xe(e)*n;return[n*ve(e)/r,ve(t)/r]}m3.invert=mc(bs);function g3(){return pi(m3).scale(144.049).clipAngle(60)}function y3(e,t){return[xe(t)*ve(e),ve(t)]}y3.invert=mc(Pn);function _3(){return pi(y3).scale(249.5).clipAngle(90+we)}function v3(e,t){var n=xe(t),r=1+xe(e)*n;return[n*ve(e)/r,ve(t)/r]}v3.invert=mc(function(e){return 2*bs(e)});function b3(){return pi(v3).scale(250).clipAngle(142)}function x3(e,t){return[Ph(Ag((hn+t)/2)),-e]}x3.invert=function(e,t){return[-t,2*bs(EE(e))-hn]};function w3(){var e=l3(x3),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function G_e(e,t){return e.parent===t.parent?1:2}function q_e(e){return e.reduce(W_e,0)/e.length}function W_e(e,t){return e+t.x}function Y_e(e){return 1+e.reduce(Z_e,0)}function Z_e(e,t){return Math.max(e,t.y)}function X_e(e){for(var t;t=e.children;)e=t[0];return e}function Q_e(e){for(var t;t=e.children;)e=t[t.length-1];return e}function rT(){var e=G_e,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(p){var m=p.children;m?(p.x=q_e(m),p.y=Y_e(m)):(p.x=s?a+=e(p,s):0,p.y=0,s=p)});var c=X_e(o),u=Q_e(o),f=c.x-e(c,u)/2,h=u.x+e(u,c)/2;return o.eachAfter(r?function(p){p.x=(p.x-o.x)*t,p.y=(o.y-p.y)*n}:function(p){p.x=(p.x-f)/(h-f)*t,p.y=(1-(o.y?p.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function K_e(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function kY(){return this.eachAfter(K_e)}function FY(e,t){let n=-1;for(let r of this)e.call(t,r,++n,this);return this}function BY(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function VY(e,t){for(var n=this,r=[n],i=[],o,s,a,c=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++c,this);return this}function UY(e,t){let n=-1;for(let r of this)if(e.call(t,r,++n,this))return r}function jY(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function $Y(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function zY(e){for(var t=this,n=J_e(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function J_e(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function HY(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function GY(){return Array.from(this)}function qY(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function WY(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*YY(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function D3(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=nve)):t===void 0&&(t=tve);for(var n=new Lf(e),r,i=[n],o,s,a,c;r=i.pop();)if((s=t(r.data))&&(c=(s=Array.from(s)).length))for(r.children=s,a=c-1;a>=0;--a)i.push(o=s[a]=new Lf(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(S3)}function eve(){return D3(this).eachBefore(rve)}function tve(e){return e.children}function nve(e){return Array.isArray(e)?e[1]:null}function rve(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function S3(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Lf(e){this.data=e,this.depth=this.height=0,this.parent=null}Lf.prototype=D3.prototype={constructor:Lf,count:kY,each:FY,eachAfter:VY,eachBefore:BY,find:UY,sum:jY,sort:$Y,path:zY,ancestors:HY,descendants:GY,leaves:qY,links:WY,copy:eve,[Symbol.iterator]:YY};function iT(e){return e==null?null:ive(e)}function ive(e){if(typeof e!="function")throw new Error;return e}var ove={depth:-1},ZY={},I3={};function sve(e){return e.id}function ave(e){return e.parentId}function oT(){var e=sve,t=ave,n;function r(i){var o=Array.from(i),s=e,a=t,c,u,f,h,p,m,y,v,b=new Map;if(n!=null){let x=o.map((I,A)=>cve(n(I,A,i))),w=x.map(XY),D=new Set(x).add("");for(let I of w)D.has(I)||(D.add(I),x.push(I),w.push(XY(I)),o.push(I3));s=(I,A)=>x[A],a=(I,A)=>w[A]}for(f=0,c=o.length;f<c;++f)u=o[f],m=o[f]=new Lf(u),(y=s(u,f,i))!=null&&(y+="")&&(v=m.id=y,b.set(v,b.has(v)?ZY:m)),(y=a(u,f,i))!=null&&(y+="")&&(m.parent=y);for(f=0;f<c;++f)if(m=o[f],y=m.parent){if(p=b.get(y),!p)throw new Error("missing: "+y);if(p===ZY)throw new Error("ambiguous: "+y);p.children?p.children.push(m):p.children=[m],m.parent=p}else{if(h)throw new Error("multiple roots");h=m}if(!h)throw new Error("no root");if(n!=null){for(;h.data===I3&&h.children.length===1;)h=h.children[0],--c;for(let x=o.length-1;x>=0&&(m=o[x],m.data===I3);--x)m.data=null}if(h.parent=ove,h.eachBefore(function(x){x.depth=x.parent.depth+1,--c}).eachBefore(S3),h.parent=null,c>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(e=iT(i),r):e},r.parentId=function(i){return arguments.length?(t=iT(i),r):t},r.path=function(i){return arguments.length?(n=iT(i),r):n},r}function cve(e){e=`${e}`;let t=e.length;return E3(e,t-1)&&!E3(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function XY(e){let t=e.length;if(t<2)return"";for(;--t>1&&!E3(e,t););return e.slice(0,t)}function E3(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function lve(e,t){return e.parent===t.parent?1:2}function T3(e){var t=e.children;return t?t[0]:e.t}function C3(e){var t=e.children;return t?t[t.length-1]:e.t}function uve(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function fve(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function dve(e,t,n){return e.a.parent===t.parent?e.a:n}function sT(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}sT.prototype=Object.create(Lf.prototype);function hve(e){for(var t=new sT(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new sT(o[s],s)),i.parent=n;return(t.parent=new sT(null,0)).children=[t],t}function Fh(){var e=lve,t=1,n=1,r=null;function i(u){var f=hve(u);if(f.eachAfter(o),f.parent.m=-f.z,f.eachBefore(s),r)u.eachBefore(c);else{var h=u,p=u,m=u;u.eachBefore(function(w){w.x<h.x&&(h=w),w.x>p.x&&(p=w),w.depth>m.depth&&(m=w)});var y=h===p?1:e(h,p)/2,v=y-h.x,b=t/(p.x+y+v),x=n/(m.depth||1);u.eachBefore(function(w){w.x=(w.x+v)*b,w.y=w.depth*x})}return u}function o(u){var f=u.children,h=u.parent.children,p=u.i?h[u.i-1]:null;if(f){fve(u);var m=(f[0].z+f[f.length-1].z)/2;p?(u.z=p.z+e(u._,p._),u.m=u.z-m):u.z=m}else p&&(u.z=p.z+e(u._,p._));u.parent.A=a(u,p,u.parent.A||h[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,f,h){if(f){for(var p=u,m=u,y=f,v=p.parent.children[0],b=p.m,x=m.m,w=y.m,D=v.m,I;y=C3(y),p=T3(p),y&&p;)v=T3(v),m=C3(m),m.a=u,I=y.z+w-p.z-b+e(y._,p._),I>0&&(uve(dve(y,u,h),u,I),b+=I,x+=I),w+=y.m,b+=p.m,D+=v.m,x+=m.m;y&&!C3(m)&&(m.t=y,m.m+=w-x),p&&!T3(v)&&(v.t=p,v.m+=b-D,h=u)}return h}function c(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}var QY=23283064365386963e-26;function Bh(e=Math.random()){let t=(0<=e&&e<1?e/QY:Math.abs(e))|0;return()=>(t=1664525*t+1013904223|0,QY*(t>>>0))}function _r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function hb(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}var pb=Symbol("implicit");function Hl(){var e=new Gi,t=[],n=[],r=pb;function i(o){let s=e.get(o);if(s===void 0){if(r!==pb)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Gi;for(let s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Hl(t,n).unknown(r)},_r.apply(i,arguments),i}function kf(){var e=Hl().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,c=0,u=0,f=.5;delete e.unknown;function h(){var p=t().length,m=i<r,y=m?i:r,v=m?r:i;o=(v-y)/Math.max(1,p-c+u*2),a&&(o=Math.floor(o)),y+=(v-y-o*(p-c))*f,s=o*(1-c),a&&(y=Math.round(y),s=Math.round(s));var b=Jn(p).map(function(x){return y+o*x});return n(m?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),h()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,a=!0,h()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(p){return arguments.length?(a=!!p,h()):a},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),h()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),h()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},e.copy=function(){return kf(t(),[r,i]).round(a).paddingInner(c).paddingOuter(u).align(f)},_r.apply(h(),arguments)}function KY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return KY(t())},e}function M3(){return KY(kf.apply(null,arguments).paddingInner(1))}function A3(e){return function(){return e}}function jg(e){return+e}var JY=[0,1];function _o(e){return e}function O3(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:A3(isNaN(t)?NaN:.5)}function pve(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function mve(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=O3(i,r),o=n(s,o)):(r=O3(r,i),o=n(o,s)),function(a){return o(r(a))}}function gve(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=O3(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var c=Nl(e,a,1,r)-1;return o[c](i[c](a))}}function gc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vh(){var e=JY,t=JY,n=Uo,r,i,o,s=_o,a,c,u;function f(){var p=Math.min(e.length,t.length);return s!==_o&&(s=pve(e[0],e[p-1])),a=p>2?gve:mve,c=u=null,h}function h(p){return p==null||isNaN(p=+p)?o:(c||(c=a(e.map(r),t,n)))(r(s(p)))}return h.invert=function(p){return s(i((u||(u=a(t,e.map(r),Rn)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,jg),f()):e.slice()},h.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},h.rangeRound=function(p){return t=Array.from(p),n=Sh,f()},h.clamp=function(p){return arguments.length?(s=p?!0:_o,f()):s!==_o},h.interpolate=function(p){return arguments.length?(n=p,f()):n},h.unknown=function(p){return arguments.length?(o=p,h):o},function(p,m){return r=p,i=m,f()}}function mb(){return Vh()(_o,_o)}function N3(e,t,n,r){var i=dg(e,t,n),o;switch(r=fc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=IB(i,s))&&(r.precision=o),IE(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=EB(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=SB(i))&&(r.precision=o-(r.type==="%")*2);break}}return vs(r)}function Gl(e){var t=e.domain;return e.ticks=function(n){var r=t();return di(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return N3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],c,u,f=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);f-- >0;){if(u=Pl(s,a,n),u===c)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;c=u}return e},e}function yc(){var e=mb();return e.copy=function(){return gc(e,yc())},_r.apply(e,arguments),Gl(e)}function gb(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,jg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return gb(e).unknown(t)},e=arguments.length?Array.from(e,jg):[0,1],Gl(n)}function yb(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function eZ(e){return Math.log(e)}function tZ(e){return Math.exp(e)}function yve(e){return-Math.log(-e)}function _ve(e){return-Math.exp(-e)}function vve(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bve(e){return e===10?vve:e===Math.E?Math.exp:t=>Math.pow(e,t)}function xve(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nZ(e){return(t,n)=>-e(-t,n)}function R3(e){let t=e(eZ,tZ),n=t.domain,r=10,i,o;function s(){return i=xve(r),o=bve(r),n()[0]<0?(i=nZ(i),o=nZ(o),e(yve,_ve)):e(eZ,tZ),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{let c=n(),u=c[0],f=c[c.length-1],h=f<u;h&&([u,f]=[f,u]);let p=i(u),m=i(f),y,v,b=a==null?10:+a,x=[];if(!(r%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(y=1;y<r;++y)if(v=p<0?y/o(-p):y*o(p),!(v<u)){if(v>f)break;x.push(v)}}else for(;p<=m;++p)for(y=r-1;y>=1;--y)if(v=p>0?y/o(-p):y*o(p),!(v<u)){if(v>f)break;x.push(v)}x.length*2<b&&(x=di(u,f,b))}else x=di(p,m,Math.min(m-p,b)).map(o);return h?x.reverse():x},t.tickFormat=(a,c)=>{if(a==null&&(a=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=fc(c)).precision==null&&(c.trim=!0),c=vs(c)),a===1/0)return c;let u=Math.max(1,r*a/t.ticks().length);return f=>{let h=f/o(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=u?c(f):""}},t.nice=()=>n(yb(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function _b(){let e=R3(Vh()).domain([1,10]);return e.copy=()=>gc(e,_b()).base(e.base()),_r.apply(e,arguments),e}function rZ(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function iZ(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function P3(e){var t=1,n=e(rZ(t),iZ(t));return n.constant=function(r){return arguments.length?e(rZ(t=+r),iZ(t)):t},Gl(n)}function vb(){var e=P3(Vh());return e.copy=function(){return gc(e,vb()).constant(e.constant())},_r.apply(e,arguments)}function oZ(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wve(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Dve(e){return e<0?-e*e:e*e}function L3(e){var t=e(_o,_o),n=1;function r(){return n===1?e(_o,_o):n===.5?e(wve,Dve):e(oZ(n),oZ(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Gl(t)}function bb(){var e=L3(Vh());return e.copy=function(){return gc(e,bb()).exponent(e.exponent())},_r.apply(e,arguments),e}function xb(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=LF(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[Nl(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(_t),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return xb().domain(e).range(t).unknown(r)},_r.apply(o,arguments)}function wb(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Nl(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return wb().domain(e).range(t).unknown(n)},_r.apply(i,arguments)}var k3=new Date,F3=new Date;function bn(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{let s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{let c=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return c;let u;do c.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return c},i.filter=o=>bn(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(k3.setTime(+o),F3.setTime(+s),e(k3),e(F3),Math.floor(n(k3,F3))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}var Db=bn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Db.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?bn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Db);var ttt=Db.range;var qr=bn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),sZ=qr.range;var ql=bn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),Sve=ql.range,Wl=bn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),Ive=Wl.range;var Yl=bn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),Eve=Yl.range,Zl=bn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),Tve=Zl.range;var xs=bn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),Cve=xs.range,$h=bn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),Mve=$h.range,zh=bn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),Ave=zh.range;function Hh(e){return bn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}var $o=Hh(0),Ff=Hh(1),aT=Hh(2),cT=Hh(3),vc=Hh(4),lT=Hh(5),uT=Hh(6),cZ=$o.range,Ove=Ff.range,Nve=aT.range,Rve=cT.range,Pve=vc.range,Lve=lT.range,kve=uT.range;function Gh(e){return bn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/6048e5)}var zo=Gh(0),Bf=Gh(1),fT=Gh(2),dT=Gh(3),bc=Gh(4),hT=Gh(5),pT=Gh(6),lZ=zo.range,Fve=Bf.range,Bve=fT.range,Vve=dT.range,Uve=bc.range,jve=hT.range,$ve=pT.range;var Xl=bn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),zve=Xl.range,Ql=bn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),Hve=Ql.range;var Mi=bn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});var Gve=Mi.range,Ai=bn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});var qve=Ai.range;function fZ(e,t,n,r,i,o){let s=[[qr,1,1e3],[qr,5,5*1e3],[qr,15,15*1e3],[qr,30,30*1e3],[o,1,6e4],[o,5,5*6e4],[o,15,15*6e4],[o,30,30*6e4],[i,1,36e5],[i,3,3*36e5],[i,6,6*36e5],[i,12,12*36e5],[r,1,864e5],[r,2,2*864e5],[n,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function a(u,f,h){let p=f<u;p&&([u,f]=[f,u]);let m=h&&typeof h.range=="function"?h:c(u,f,h),y=m?m.range(u,+f+1):[];return p?y.reverse():y}function c(u,f,h){let p=Math.abs(f-u)/h,m=rc(([,,b])=>b).right(s,p);if(m===s.length)return e.every(dg(u/31536e6,f/31536e6,h));if(m===0)return Db.every(Math.max(dg(u,f,h),1));let[y,v]=s[p/s[m-1][2]<s[m][2]/p?m-1:m];return y.every(v)}return[a,c]}var[B3,Ib]=fZ(Ai,Ql,zo,zh,Zl,Wl),[V3,U3]=fZ(Mi,Xl,$o,xs,Yl,ql);function j3(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $3(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Eb(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function z3(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,c=e.shortMonths,u=Tb(i),f=Cb(i),h=Tb(o),p=Cb(o),m=Tb(s),y=Cb(s),v=Tb(a),b=Cb(a),x=Tb(c),w=Cb(c),D={a:W,A:G,b:q,B:K,c:null,d:yZ,e:yZ,f:gbe,g:Ebe,G:Cbe,H:hbe,I:pbe,j:mbe,L:wZ,m:ybe,M:_be,p:X,q:J,Q:bZ,s:xZ,S:vbe,u:bbe,U:xbe,V:wbe,w:Dbe,W:Sbe,x:null,X:null,y:Ibe,Y:Tbe,Z:Mbe,"%":vZ},I={a:re,A:te,b:le,B:he,c:null,d:_Z,e:_Z,f:Rbe,g:zbe,G:Gbe,H:Abe,I:Obe,j:Nbe,L:SZ,m:Pbe,M:Lbe,p:me,q:at,Q:bZ,s:xZ,S:kbe,u:Fbe,U:Bbe,V:Vbe,w:Ube,W:jbe,x:null,X:null,y:$be,Y:Hbe,Z:qbe,"%":vZ},A={a:P,A:O,b:k,B:H,c:U,d:mZ,e:mZ,f:lbe,g:pZ,G:hZ,H:gZ,I:gZ,j:obe,L:cbe,m:ibe,M:sbe,p:R,q:rbe,Q:fbe,s:dbe,S:abe,u:Kve,U:Jve,V:ebe,w:Qve,W:tbe,x:C,X:F,y:pZ,Y:hZ,Z:nbe,"%":ube};D.x=T(n,D),D.X=T(r,D),D.c=T(t,D),I.x=T(n,I),I.X=T(r,I),I.c=T(t,I);function T(ee,ue){return function(fe){var ne=[],Je=-1,De=0,xt=ee.length,dt,ye,ht;for(fe instanceof Date||(fe=new Date(+fe));++Je<xt;)ee.charCodeAt(Je)===37&&(ne.push(ee.slice(De,Je)),(ye=dZ[dt=ee.charAt(++Je)])!=null?dt=ee.charAt(++Je):ye=dt==="e"?" ":"0",(ht=ue[dt])&&(dt=ht(fe,ye)),ne.push(dt),De=Je+1);return ne.push(ee.slice(De,Je)),ne.join("")}}function N(ee,ue){return function(fe){var ne=Eb(1900,void 0,1),Je=B(ne,ee,fe+="",0),De,xt;if(Je!=fe.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(ue&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(De=$3(Eb(ne.y,0,1)),xt=De.getUTCDay(),De=xt>4||xt===0?Bf.ceil(De):Bf(De),De=$h.offset(De,(ne.V-1)*7),ne.y=De.getUTCFullYear(),ne.m=De.getUTCMonth(),ne.d=De.getUTCDate()+(ne.w+6)%7):(De=j3(Eb(ne.y,0,1)),xt=De.getDay(),De=xt>4||xt===0?Ff.ceil(De):Ff(De),De=xs.offset(De,(ne.V-1)*7),ne.y=De.getFullYear(),ne.m=De.getMonth(),ne.d=De.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),xt="Z"in ne?$3(Eb(ne.y,0,1)).getUTCDay():j3(Eb(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(xt+5)%7:ne.w+ne.U*7-(xt+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,$3(ne)):j3(ne)}}function B(ee,ue,fe,ne){for(var Je=0,De=ue.length,xt=fe.length,dt,ye;Je<De;){if(ne>=xt)return-1;if(dt=ue.charCodeAt(Je++),dt===37){if(dt=ue.charAt(Je++),ye=A[dt in dZ?ue.charAt(Je++):dt],!ye||(ne=ye(ee,fe,ne))<0)return-1}else if(dt!=fe.charCodeAt(ne++))return-1}return ne}function R(ee,ue,fe){var ne=u.exec(ue.slice(fe));return ne?(ee.p=f.get(ne[0].toLowerCase()),fe+ne[0].length):-1}function P(ee,ue,fe){var ne=m.exec(ue.slice(fe));return ne?(ee.w=y.get(ne[0].toLowerCase()),fe+ne[0].length):-1}function O(ee,ue,fe){var ne=h.exec(ue.slice(fe));return ne?(ee.w=p.get(ne[0].toLowerCase()),fe+ne[0].length):-1}function k(ee,ue,fe){var ne=x.exec(ue.slice(fe));return ne?(ee.m=w.get(ne[0].toLowerCase()),fe+ne[0].length):-1}function H(ee,ue,fe){var ne=v.exec(ue.slice(fe));return ne?(ee.m=b.get(ne[0].toLowerCase()),fe+ne[0].length):-1}function U(ee,ue,fe){return B(ee,t,ue,fe)}function C(ee,ue,fe){return B(ee,n,ue,fe)}function F(ee,ue,fe){return B(ee,r,ue,fe)}function W(ee){return s[ee.getDay()]}function G(ee){return o[ee.getDay()]}function q(ee){return c[ee.getMonth()]}function K(ee){return a[ee.getMonth()]}function X(ee){return i[+(ee.getHours()>=12)]}function J(ee){return 1+~~(ee.getMonth()/3)}function re(ee){return s[ee.getUTCDay()]}function te(ee){return o[ee.getUTCDay()]}function le(ee){return c[ee.getUTCMonth()]}function he(ee){return a[ee.getUTCMonth()]}function me(ee){return i[+(ee.getUTCHours()>=12)]}function at(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var ue=T(ee+="",D);return ue.toString=function(){return ee},ue},parse:function(ee){var ue=N(ee+="",!1);return ue.toString=function(){return ee},ue},utcFormat:function(ee){var ue=T(ee+="",I);return ue.toString=function(){return ee},ue},utcParse:function(ee){var ue=N(ee+="",!0);return ue.toString=function(){return ee},ue}}}var dZ={"-":"",_:" ",0:"0"},Wr=/^\s*\d+/,Yve=/^%/,Zve=/[\\^$*+?|[\]().{}]/g;function Wt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Xve(e){return e.replace(Zve,"\\$&")}function Tb(e){return new RegExp("^(?:"+e.map(Xve).join("|")+")","i")}function Cb(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Qve(e,t,n){var r=Wr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Kve(e,t,n){var r=Wr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Jve(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ebe(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function tbe(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function hZ(e,t,n){var r=Wr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function pZ(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nbe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rbe(e,t,n){var r=Wr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function ibe(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function mZ(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function obe(e,t,n){var r=Wr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function gZ(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function sbe(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function abe(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function cbe(e,t,n){var r=Wr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function lbe(e,t,n){var r=Wr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ube(e,t,n){var r=Yve.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function fbe(e,t,n){var r=Wr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function dbe(e,t,n){var r=Wr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function yZ(e,t){return Wt(e.getDate(),t,2)}function hbe(e,t){return Wt(e.getHours(),t,2)}function pbe(e,t){return Wt(e.getHours()%12||12,t,2)}function mbe(e,t){return Wt(1+xs.count(Mi(e),e),t,3)}function wZ(e,t){return Wt(e.getMilliseconds(),t,3)}function gbe(e,t){return wZ(e,t)+"000"}function ybe(e,t){return Wt(e.getMonth()+1,t,2)}function _be(e,t){return Wt(e.getMinutes(),t,2)}function vbe(e,t){return Wt(e.getSeconds(),t,2)}function bbe(e){var t=e.getDay();return t===0?7:t}function xbe(e,t){return Wt($o.count(Mi(e)-1,e),t,2)}function DZ(e){var t=e.getDay();return t>=4||t===0?vc(e):vc.ceil(e)}function wbe(e,t){return e=DZ(e),Wt(vc.count(Mi(e),e)+(Mi(e).getDay()===4),t,2)}function Dbe(e){return e.getDay()}function Sbe(e,t){return Wt(Ff.count(Mi(e)-1,e),t,2)}function Ibe(e,t){return Wt(e.getFullYear()%100,t,2)}function Ebe(e,t){return e=DZ(e),Wt(e.getFullYear()%100,t,2)}function Tbe(e,t){return Wt(e.getFullYear()%1e4,t,4)}function Cbe(e,t){var n=e.getDay();return e=n>=4||n===0?vc(e):vc.ceil(e),Wt(e.getFullYear()%1e4,t,4)}function Mbe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Wt(t/60|0,"0",2)+Wt(t%60,"0",2)}function _Z(e,t){return Wt(e.getUTCDate(),t,2)}function Abe(e,t){return Wt(e.getUTCHours(),t,2)}function Obe(e,t){return Wt(e.getUTCHours()%12||12,t,2)}function Nbe(e,t){return Wt(1+$h.count(Ai(e),e),t,3)}function SZ(e,t){return Wt(e.getUTCMilliseconds(),t,3)}function Rbe(e,t){return SZ(e,t)+"000"}function Pbe(e,t){return Wt(e.getUTCMonth()+1,t,2)}function Lbe(e,t){return Wt(e.getUTCMinutes(),t,2)}function kbe(e,t){return Wt(e.getUTCSeconds(),t,2)}function Fbe(e){var t=e.getUTCDay();return t===0?7:t}function Bbe(e,t){return Wt(zo.count(Ai(e)-1,e),t,2)}function IZ(e){var t=e.getUTCDay();return t>=4||t===0?bc(e):bc.ceil(e)}function Vbe(e,t){return e=IZ(e),Wt(bc.count(Ai(e),e)+(Ai(e).getUTCDay()===4),t,2)}function Ube(e){return e.getUTCDay()}function jbe(e,t){return Wt(Bf.count(Ai(e)-1,e),t,2)}function $be(e,t){return Wt(e.getUTCFullYear()%100,t,2)}function zbe(e,t){return e=IZ(e),Wt(e.getUTCFullYear()%100,t,2)}function Hbe(e,t){return Wt(e.getUTCFullYear()%1e4,t,4)}function Gbe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?bc(e):bc.ceil(e),Wt(e.getUTCFullYear()%1e4,t,4)}function qbe(){return"+0000"}function vZ(){return"%"}function bZ(e){return+e}function xZ(e){return Math.floor(+e/1e3)}var $g,zg,EZ,xc,TZ;H3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function H3(e){return $g=z3(e),zg=$g.format,EZ=$g.parse,xc=$g.utcFormat,TZ=$g.utcParse,$g}function Wbe(e){return new Date(e)}function Ybe(e){return e instanceof Date?+e:+new Date(+e)}function mT(e,t,n,r,i,o,s,a,c,u){var f=mb(),h=f.invert,p=f.domain,m=u(".%L"),y=u(":%S"),v=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),w=u("%b %d"),D=u("%B"),I=u("%Y");function A(T){return(c(T)<T?m:a(T)<T?y:s(T)<T?v:o(T)<T?b:r(T)<T?i(T)<T?x:w:n(T)<T?D:I)(T)}return f.invert=function(T){return new Date(h(T))},f.domain=function(T){return arguments.length?p(Array.from(T,Ybe)):p().map(Wbe)},f.ticks=function(T){var N=p();return e(N[0],N[N.length-1],T??10)},f.tickFormat=function(T,N){return N==null?A:u(N)},f.nice=function(T){var N=p();return(!T||typeof T.range!="function")&&(T=t(N[0],N[N.length-1],T??10)),T?p(yb(N,T)):f},f.copy=function(){return gc(f,mT(e,t,n,r,i,o,s,a,c,u))},f}function gT(){return _r.apply(mT(V3,U3,Mi,Xl,$o,xs,Yl,ql,qr,zg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yT(){return _r.apply(mT(B3,Ib,Ai,Ql,zo,$h,Zl,Wl,qr,xc).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mb(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _T(){var e=0,t=.5,n=1,r=1,i,o,s,a,c,u=_o,f,h=!1,p;function m(v){return isNaN(v=+v)?p:(v=.5+((v=+f(v))-o)*(r*v<r*o?a:c),u(h?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,n]=v,i=f(e=+e),o=f(t=+t),s=f(n=+n),a=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,m):[e,t,n]},m.clamp=function(v){return arguments.length?(h=!!v,m):h},m.interpolator=function(v){return arguments.length?(u=v,m):u};function y(v){return function(b){var x,w,D;return arguments.length?([x,w,D]=b,u=cc(v,[x,w,D]),m):[u(0),u(.5),u(1)]}}return m.range=y(Uo),m.rangeRound=y(Sh),m.unknown=function(v){return arguments.length?(p=v,m):p},function(v){return f=v,i=v(e),o=v(t),s=v(n),a=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,m}}function Ab(){var e=Gl(_T()(_o));return e.copy=function(){return Mb(e,Ab())},hb.apply(e,arguments)}function vT(){var e=R3(_T()).domain([.1,1,10]);return e.copy=function(){return Mb(e,vT()).base(e.base())},hb.apply(e,arguments)}function bT(){var e=P3(_T());return e.copy=function(){return Mb(e,bT()).constant(e.constant())},hb.apply(e,arguments)}function xT(){var e=L3(_T());return e.copy=function(){return Mb(e,xT()).exponent(e.exponent())},hb.apply(e,arguments)}function de(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}var G3=de("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var q3=de("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");var W3=de("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var Y3=de("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0");var Z3=de("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var X3=de("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");var Q3=de("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");var K3=de("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");var J3=de("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var e4=de("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var t4=de("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var Pe=e=>JF(e[e.length-1]);var wT=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(de),DT=Pe(wT);var ST=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(de),IT=Pe(ST);var ET=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(de),TT=Pe(ET);var CT=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(de),MT=Pe(CT);var Ob=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(de),Hg=Pe(Ob);var AT=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(de),OT=Pe(AT);var Nb=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(de),Gg=Pe(Nb);var NT=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(de),RT=Pe(NT);var PT=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(de),LT=Pe(PT);var kT=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(de),FT=Pe(kT);var BT=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(de),VT=Pe(BT);var UT=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(de),jT=Pe(UT);var $T=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(de),zT=Pe($T);var HT=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(de),GT=Pe(HT);var qT=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(de),WT=Pe(qT);var YT=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(de),ZT=Pe(YT);var XT=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(de),QT=Pe(XT);var KT=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(de),JT=Pe(KT);var eC=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(de),tC=Pe(eC);var nC=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(de),rC=Pe(nC);var iC=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(de),oC=Pe(iC);var sC=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(de),aC=Pe(sC);var cC=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(de),lC=Pe(cC);var uC=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(de),fC=Pe(uC);var dC=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(de),hC=Pe(dC);var pC=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(de),mC=Pe(pC);var gC=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(de),yC=Pe(gC);function _C(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var vC=xg(Yi(300,.5,0),Yi(-240,.5,1));var xC=xg(Yi(-100,.75,.35),Yi(80,1.5,.8)),wC=xg(Yi(260,.75,.35),Yi(80,1.5,.8)),bC=Yi();function DC(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return bC.h=360*e-100,bC.s=1.5-1.5*t,bC.l=.8-.9*t,bC+""}var SC=Si(),Zbe=Math.PI/3,Xbe=Math.PI*2/3;function IC(e){var t;return e=(.5-e)*Math.PI,SC.r=255*(t=Math.sin(e))*t,SC.g=255*(t=Math.sin(e+Zbe))*t,SC.b=255*(t=Math.sin(e+Xbe))*t,SC+""}function EC(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function TC(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var CC=TC(de("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),MC=TC(de("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),AC=TC(de("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),OC=TC(de("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function vr(e){return function(){return e}}var n4=Math.cos;var qg=Math.min,Rb=Math.sin,Yt=Math.sqrt,r4=1e-12,qh=Math.PI,Eot=qh/2,Wg=2*qh;function NC(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Nf(t)}var Aot=Array.prototype.slice;function RC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function CZ(e){this._context=e}CZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Kl(e){return new CZ(e)}function PC(e){return e[0]}function LC(e){return e[1]}function Pb(e,t){var n=vr(!0),r=null,i=Kl,o=null,s=NC(a);e=typeof e=="function"?e:e===void 0?PC:vr(e),t=typeof t=="function"?t:t===void 0?LC:vr(t);function a(c){var u,f=(c=RC(c)).length,h,p=!1,m;for(r==null&&(o=i(m=s())),u=0;u<=f;++u)!(u<f&&n(h=c[u],u,c))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(h,u,c),+t(h,u,c));if(m)return o=null,m+""||null}return a.x=function(c){return arguments.length?(e=typeof c=="function"?c:vr(+c),a):e},a.y=function(c){return arguments.length?(t=typeof c=="function"?c:vr(+c),a):t},a.defined=function(c){return arguments.length?(n=typeof c=="function"?c:vr(!!c),a):n},a.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),a):i},a.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),a):r},a}function Yg(e,t,n){var r=null,i=vr(!0),o=null,s=Kl,a=null,c=NC(u);e=typeof e=="function"?e:e===void 0?PC:vr(+e),t=typeof t=="function"?t:t===void 0?vr(0):vr(+t),n=typeof n=="function"?n:n===void 0?LC:vr(+n);function u(h){var p,m,y,v=(h=RC(h)).length,b,x=!1,w,D=new Array(v),I=new Array(v);for(o==null&&(a=s(w=c())),p=0;p<=v;++p){if(!(p<v&&i(b=h[p],p,h))===x)if(x=!x)m=p,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=p-1;y>=m;--y)a.point(D[y],I[y]);a.lineEnd(),a.areaEnd()}x&&(D[p]=+e(b,p,h),I[p]=+t(b,p,h),a.point(r?+r(b,p,h):D[p],n?+n(b,p,h):I[p]))}if(w)return a=null,w+""||null}function f(){return Pb().defined(i).curve(s).context(o)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:vr(+h),r=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:vr(+h),u):e},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:vr(+h),u):r},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:vr(+h),n=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:vr(+h),u):t},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:vr(+h),u):n},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(n)},u.lineX1=function(){return f().x(r).y(t)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:vr(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,o!=null&&(a=s(o)),u):s},u.context=function(h){return arguments.length?(h==null?o=a=null:a=s(o=h),u):o},u}var kC=class{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}};function i4(e){return new kC(e,!0)}function o4(e){return new kC(e,!1)}var Qbe=Yt(3),Lb={draw(e,t){let n=Yt(t+qg(t/28,.75))*.59436,r=n/2,i=r*Qbe;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}};var Jl={draw(e,t){let n=Yt(t/qh);e.moveTo(n,0),e.arc(0,0,n,0,Wg)}};var kb={draw(e,t){let n=Yt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}};var MZ=Yt(1/3),Kbe=MZ*2,Fb={draw(e,t){let n=Yt(t/Kbe),r=n*MZ;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}};var Bb={draw(e,t){let n=Yt(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}};var Vb={draw(e,t){let n=Yt(t-qg(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}};var Ub={draw(e,t){let n=Yt(t),r=-n/2;e.rect(r,r,n,n)}};var jb={draw(e,t){let n=Yt(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}};var Jbe=.8908130915292852,AZ=Rb(qh/10)/Rb(7*qh/10),e1e=Rb(Wg/10)*AZ,t1e=-n4(Wg/10)*AZ,$b={draw(e,t){let n=Yt(t*Jbe),r=e1e*n,i=t1e*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){let s=Wg*o/5,a=n4(s),c=Rb(s);e.lineTo(c*n,-a*n),e.lineTo(a*r-c*i,c*r+a*i)}e.closePath()}};var s4=Yt(3),zb={draw(e,t){let n=-Yt(t/(s4*3));e.moveTo(0,n*2),e.lineTo(-s4*n,-n),e.lineTo(s4*n,-n),e.closePath()}};var n1e=Yt(3),Hb={draw(e,t){let n=Yt(t)*.6824,r=n/2,i=n*n1e/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}};var ws=-.5,Ds=Yt(3)/2,a4=1/Yt(12),r1e=(a4/2+1)*3,Gb={draw(e,t){let n=Yt(t/r1e),r=n/2,i=n*a4,o=r,s=n*a4+n,a=-o,c=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,c),e.lineTo(ws*r-Ds*i,Ds*r+ws*i),e.lineTo(ws*o-Ds*s,Ds*o+ws*s),e.lineTo(ws*a-Ds*c,Ds*a+ws*c),e.lineTo(ws*r+Ds*i,ws*i-Ds*r),e.lineTo(ws*o+Ds*s,ws*s-Ds*o),e.lineTo(ws*a+Ds*c,ws*c-Ds*a),e.closePath()}};var Zg={draw(e,t){let n=Yt(t-qg(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}};var FC=[Jl,kb,Fb,Ub,$b,zb,Gb],c4=[Jl,Vb,Zg,Hb,Lb,jb,Bb];function Ss(){}function Xg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function qb(e){this._context=e}qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l4(e){return new qb(e)}function OZ(e){this._context=e}OZ.prototype={areaStart:Ss,areaEnd:Ss,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function u4(e){return new OZ(e)}function NZ(e){this._context=e}NZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Xg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function f4(e){return new NZ(e)}function RZ(e,t){this._basis=new qb(e),this._beta=t}RZ.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,c;++a<=n;)c=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+c*o),this._beta*t[a]+(1-this._beta)*(i+c*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var d4=function e(t){function n(r){return t===1?new qb(r):new RZ(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Qg(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function BC(e,t){this._context=e,this._k=(1-t)/6}BC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Qg(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Qg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var h4=function e(t){function n(r){return new BC(r,t)}return n.tension=function(r){return e(+r)},n}(0);function VC(e,t){this._context=e,this._k=(1-t)/6}VC.prototype={areaStart:Ss,areaEnd:Ss,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Qg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var p4=function e(t){function n(r){return new VC(r,t)}return n.tension=function(r){return e(+r)},n}(0);function UC(e,t){this._context=e,this._k=(1-t)/6}UC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Qg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var m4=function e(t){function n(r){return new UC(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Wb(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>r4){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>r4){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/f,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/f}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function PZ(e,t){this._context=e,this._alpha=t}PZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Wb(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var g4=function e(t){function n(r){return t?new PZ(r,t):new BC(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function LZ(e,t){this._context=e,this._alpha=t}LZ.prototype={areaStart:Ss,areaEnd:Ss,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Wb(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var y4=function e(t){function n(r){return t?new LZ(r,t):new VC(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function kZ(e,t){this._context=e,this._alpha=t}kZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wb(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var _4=function e(t){function n(r){return t?new kZ(r,t):new UC(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function FZ(e){this._context=e}FZ.prototype={areaStart:Ss,areaEnd:Ss,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function v4(e){return new FZ(e)}function BZ(e){return e<0?-1:1}function VZ(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(BZ(o)+BZ(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function UZ(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function b4(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function jC(e){this._context=e}jC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:b4(this,this._t0,UZ(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,b4(this,UZ(this,n=VZ(this,e,t)),n);break;default:b4(this,this._t0,n=VZ(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function jZ(e){this._context=new $Z(e)}(jZ.prototype=Object.create(jC.prototype)).point=function(e,t){jC.prototype.point.call(this,t,e)};function $Z(e){this._context=e}$Z.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function x4(e){return new jC(e)}function w4(e){return new jZ(e)}function HZ(e){this._context=e}HZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=zZ(e),i=zZ(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function zZ(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function D4(e){return new HZ(e)}function $C(e,t){this._context=e,this._t=t}$C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function S4(e){return new $C(e,.5)}function I4(e){return new $C(e,0)}function E4(e){return new $C(e,1)}function eu(e,t,n){this.k=e,this.x=t,this.y=n}eu.prototype={constructor:eu,scale:function(e){return e===1?this:new eu(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new eu(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var T4=new eu(1,0,0);C4.prototype=eu.prototype;function C4(e){for(;!e.__zoom;)if(!(e=e.parentNode))return T4;return e.__zoom}function Fn(e){return e!=null&&!Number.isNaN(e)}function Yr(e,t){return+Fn(t)-+Fn(e)||_t(e,t)}function Wh(e,t){return+Fn(t)-+Fn(e)||Hi(e,t)}function Yb(e){return e!=null&&`${e}`!=""}function Kg(e){return isFinite(e)?e:NaN}function to(e){return e>0&&isFinite(e)?e:NaN}function Vf(e){return e<0&&isFinite(e)?e:NaN}function Jg(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;let n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${s1e(e.getUTCFullYear(),4)}-${tu(e.getUTCMonth()+1,2)}-${tu(e.getUTCDate(),2)}${n||r||i||o?`T${tu(n,2)}:${tu(r,2)}${i||o?`:${tu(i,2)}${o?`.${tu(o,3)}`:""}`:""}Z`:""}`}function s1e(e){return e<0?`-${tu(-e,6)}`:e>9999?`+${tu(e,6)}`:tu(e,4)}function tu(e,t){return`${e}`.padStart(t,"0")}var a1e=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Zb(e,t){return a1e.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function nu(e){if(e==null)return;let t=e[0],n=e[e.length-1];return Hi(t,n)}var ty=1e3,jf=ty*60,$f=jf*60,Dc=$f*24,wc=Dc*7,Yh=Dc*30,Uf=Dc*365,M4=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",ty],["5 seconds",5*ty],["15 seconds",15*ty],["30 seconds",30*ty],["minute",jf],["5 minutes",5*jf],["15 minutes",15*jf],["30 minutes",30*jf],["hour",$f],["3 hours",3*$f],["6 hours",6*$f],["12 hours",12*$f],["day",Dc],["2 days",2*Dc],["week",wc],["2 weeks",2*wc],["month",Yh],["3 months",3*Yh],["6 months",6*Yh],["year",Uf],["2 years",2*Uf],["5 years",5*Uf],["10 years",10*Uf],["20 years",20*Uf],["50 years",50*Uf],["100 years",100*Uf]],A4=new Map([["second",ty],["minute",jf],["hour",$f],["day",Dc],["monday",wc],["tuesday",wc],["wednesday",wc],["thursday",wc],["friday",wc],["saturday",wc],["sunday",wc],["week",wc],["month",Yh],["year",Uf]]),qZ=new Map([["second",qr],["minute",ql],["hour",Yl],["day",xs],["monday",Ff],["tuesday",aT],["wednesday",cT],["thursday",vc],["friday",lT],["saturday",uT],["sunday",$o],["week",$o],["month",Xl],["year",Mi]]),O4=new Map([["second",qr],["minute",Wl],["hour",Zl],["day",zh],["monday",Bf],["tuesday",fT],["wednesday",dT],["thursday",bc],["friday",hT],["saturday",pT],["sunday",zo],["week",zo],["month",Ql],["year",Ai]]),ny=Symbol("intervalDuration"),HC=Symbol("intervalType");for(let[e,t]of qZ)t[ny]=A4.get(e),t[HC]="time";for(let[e,t]of O4)t[ny]=A4.get(e),t[HC]="utc";var Xb=[["year",Ai,"utc"],["month",Ql,"utc"],["day",zh,"utc",6*Yh],["hour",Zl,"utc",3*Dc],["minute",Wl,"utc",6*$f],["second",qr,"utc",30*jf]],zC=[["year",Mi,"time"],["month",Xl,"time"],["day",xs,"time",6*Yh],["hour",Yl,"time",3*Dc],["minute",ql,"time",6*$f],["second",qr,"time",30*jf]],c1e=[Xb[0],zC[0],Xb[1],zC[1],Xb[2],zC[2],...Xb.slice(3)];function GC(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let n=1,r=/^(?:(\d+)\s+)/.exec(t);switch(r&&(t=t.slice(r[0].length),n=+r[1]),t){case"quarter":t="month",n*=3;break;case"half":t="month",n*=6;break}let i=O4.get(t);if(!i)throw new Error(`unknown interval: ${e}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${t}`);return[t,n]}function Qb(e){return WZ(GC(e),"time")}function Zh(e){return WZ(GC(e),"utc")}function WZ([e,t],n){let r=(n==="time"?qZ:O4).get(e);return t>1&&(r=r.every(t),r[ny]=A4.get(e)*t,r[HC]=n),r}function N4(e,t){if(!(t>1))return;let n=e[ny];if(!M4.some(([,i])=>i===n)||n%Dc===0&&Dc<n&&n<Yh)return;let[r]=M4[rc(([,i])=>Math.log(i)).center(M4,Math.log(n*t))];return(e[HC]==="time"?Qb:Zh)(r)}function GZ(e,t,n){let r=t==="time"?zg:xc;if(n==null)return r(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");let i=l1e(n);switch(e){case"millisecond":return ey(r(".%L"),r(":%M:%S"),i);case"second":return ey(r(":%S"),r("%-I:%M"),i);case"minute":return ey(r("%-I:%M"),r("%p"),i);case"hour":return ey(r("%-I %p"),r("%b %-d"),i);case"day":return ey(r("%-d"),r("%b"),i);case"month":return ey(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function l1e(e){return e==="left"||e==="right"?(t,n)=>`
${t}
${n}`:e==="top"?(t,n)=>`${n}
${t}`:(t,n)=>`${t}
${n}`}function u1e(e){return e==="time"?zC:e==="utc"?Xb:c1e}function YZ(e,t,n){let r=Ft(VI(t,(i,o)=>Math.abs(o-i)));if(r<1e3)return GZ("millisecond","utc",n);for(let[i,o,s,a]of u1e(e)){if(r>a||i==="hour"&&!r)break;if(t.every(c=>o.floor(c)>=c))return GZ(i,s,n)}}function ey(e,t,n){return(r,i,o)=>{let s=e(r,i),a=t(r,i),c=i-nu(o);return i!==c&&o[c]!==void 0&&a===t(o[c],c)?s:n(s,a)}}var Kb=Object.getPrototypeOf(Uint8Array),f1e=Object.prototype.toString;function vo(e){return e instanceof Array||e instanceof Kb}function XZ(e){return e instanceof Kb&&!d1e(e)}function QZ(e){return e?.prototype instanceof Kb&&!h1e(e)}function d1e(e){return e instanceof BigInt64Array||e instanceof BigUint64Array}function h1e(e){return e===BigInt64Array||e===BigUint64Array}var P4=Symbol("reindex");function ke(e,t,n){let r=typeof t;return r==="string"?lX(e)?L4(e.getChild(t),n):ZZ(e,k4(t),n):r==="function"?ZZ(e,t,n):r==="number"||t instanceof Date||r==="boolean"?Ot(e,qn(t),n):typeof t?.transform=="function"?R4(t.transform(e),n):p1e(R4(t,n),e?.[P4])}function p1e(e,t){return e!=null&&t?e1(e,t):e}function ZZ(e,t,n){return Ot(e,QZ(n)?(r,i)=>F4(t(r,i)):t,n)}function R4(e,t){return t===void 0?Ho(e):uX(e)?L4(e,t):e instanceof t?e:t.from(e,QZ(t)&&!XZ(e)?F4:void 0)}function L4(e,t){return e==null?e:(t===void 0||t===Array)&&y1e(e.type)?B4(e.toArray()):R4(e.toArray(),t)}var zf=[null],k4=e=>t=>{let n=t[e];return n===void 0&&t.type==="Feature"?t.properties?.[e]:n},mn={transform:no},pe={transform:e=>e};var Jb=()=>1,KZ=()=>!0,ar=e=>e==null?e:`${e}`,Ut=e=>e==null?e:+e;var Xh=e=>e?e[0]:void 0,Hf=e=>e?e[1]:void 0,JZ=e=>e?e[2]:void 0,qn=e=>()=>e;function ry(e){let t=+`${e}`.slice(1)/100;return(n,r)=>qi(n,t,r)}function br(e){return XZ(e)?e:Ot(e,F4,Float64Array)}function F4(e){return e==null?NaN:Number(e)}function B4(e){return Ot(e,V4)}function V4(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?Zb(e):e==null||isNaN(e=Number(e))?void 0:new Date(e)}function Hn(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Yf(e)?[void 0,e]:[e,void 0]}function Kt(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function U4(e,t,n){if(e!=null)return Ar(e,t,n)}function Ar(e,t,n){let r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function ru(e){return lX(e)?e:Ho(e)}function Ho(e){if(e==null||vo(e))return e;if(uX(e))return L4(e);switch(e.type){case"FeatureCollection":return e.features;case"GeometryCollection":return e.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[e]}return Array.from(e)}function Ot(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function Gf(e,t=Array){return e instanceof t?e.slice():t.from(e)}function j4({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function $4({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function iu(e){return j4(e)||$4(e)||e.interval!==void 0}function Zr(e){return e?.toString===f1e}function Sc(e){return Zr(e)&&(e.type!==void 0||e.domain!==void 0)}function Go(e){return Zr(e)&&typeof e.transform!="function"}function Ic(e){return Go(e)&&e.value===void 0&&e.channel===void 0}function z4(e,t,n,r=pe){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function nr(e,t){return e===void 0&&t===void 0?[Xh,Hf]:[e,t]}function Oi({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Hn(t)),e===void 0&&([e]=Hn(n)),e}function qf(e){return vo(e)?e.length:e?.numRows}function no(e){let t=qf(e),n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function e1(e,t){return vo(e)?Ot(t,n=>e[n],e.constructor):Ot(t,n=>e.at(n))}function iy(e){return e.length===1?(t,n)=>e(e1(n,t)):e}function ou(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function Is(e){return e!==null&&typeof e=="object"?e.valueOf():e}function qC(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function Xr(e){let t;return[{transform:()=>t,label:gi(e)},n=>t=n]}function mi(e){return e==null?[e]:Xr(e)}function gi(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function oy(e,t){return{transform(n){let r=e.transform(n),i=t.transform(n);return Gn(r)||Gn(i)?Ot(r,(o,s)=>new Date((+r[s]+ +i[s])/2)):Ot(r,(o,s)=>(+r[s]+ +i[s])/2,Float64Array)},label:e.label}}function Qh(e,t){let n=H4(t?.interval,t?.type);return n?Ot(e,n):e}function H4(e,t){let n=sy(e,t);return n&&(r=>Fn(r)?n.floor(r):r)}function sy(e,t){if(e!=null){if(typeof e=="number")return G4(e);if(typeof e=="string")return(t==="time"?Qb:Zh)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function G4(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);let t=Math.abs(e);return e<0?{floor:n=>Math.floor(n*t)/t,offset:(n,r=1)=>(n*t+Math.floor(r))/t,range:(n,r)=>Jn(Math.ceil(n*t),r*t).map(i=>i/t)}:{floor:n=>Math.floor(n/t)*t,offset:(n,r=1)=>n+t*Math.floor(r),range:(n,r)=>Jn(Math.ceil(n/t),r/t).map(i=>i*t)}}function Ec(e,t){if(e=sy(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function eX(e,t){if(e=Ec(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function tX(e){return Wf(e)&&typeof e?.floor=="function"&&e.floor()instanceof Date}function Wf(e){return typeof e?.range=="function"}function Es(e){return e===void 0||Go(e)?e:{value:e}}function nX(e){return e==null?null:{transform:t=>ke(t,e,Float64Array),label:gi(e)}}function rX(e){if(!ro(e))return!1;for(let t of e)if(t!=null)return typeof t=="object"&&"0"in t&&"1"in t}function ro(e){return e&&typeof e[Symbol.iterator]=="function"}function WC(e){for(let t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function Bn(e){for(let t of e){if(t==null)continue;let n=typeof t;return n==="string"||n==="boolean"}}function Gn(e){for(let t of e)if(t!=null)return t instanceof Date}function iX(e){for(let t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&Zb(t)}function oX(e){for(let t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function su(e){for(let t of e)if(t!=null)return typeof t=="number"}function YC(e,t){let n;for(let r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}var m1e=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Yf(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||m1e.has(e))}function sX(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function Zt(e){return e==null||au(e)}function au(e){return/^\s*none\s*$/i.test(e)}function aX(e){return/^\s*round\s*$/i.test(e)}function ZC(e,t){return U4(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Tc(e="middle"){return ZC(e,"frameAnchor")}function cX(e={},...t){let n=e;for(let r of t)for(let i in r)if(n[i]===void 0){let o=r[i];n===e?n=V(E({},n),{[i]:o}):n[i]=o}return n}function g1e(e){console.warn("named iterables are deprecated; please use an object instead");let t=new Set;return Object.fromEntries(Array.from(e,n=>{let{name:r}=n;if(r==null)throw new Error("missing name");let i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function t1(e){return ro(e)?g1e(e):e}function XC(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=Ar(e,"clip",["frame","sphere"])),e}function lX(e){return e&&typeof e.getChild=="function"&&typeof e.toArray=="function"&&e.schema&&Array.isArray(e.schema.fields)}function uX(e){return e&&typeof e.toArray=="function"&&e.type}function y1e(e){return e&&(e.typeId===8||e.typeId===10)&&e.unit===1}var Ts=Symbol("position"),qo=Symbol("color"),Kh=Symbol("radius"),Jh=Symbol("length"),ep=Symbol("opacity"),ay=Symbol("symbol"),fX=Symbol("projection"),un=new Map([["x",Ts],["y",Ts],["fx",Ts],["fy",Ts],["r",Kh],["color",qo],["opacity",ep],["symbol",ay],["length",Jh],["projection",fX]]);function dX(e){return e===Ts||e===fX}function hX(e){return e===Ts||e===Kh||e===Jh||e===ep}var q4=Math.sqrt(3),W4=2/q4,_1e={draw(e,t){let n=Math.sqrt(t/Math.PI),r=n*W4,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},Y4=new Map([["asterisk",Lb],["circle",Jl],["cross",kb],["diamond",Fb],["diamond2",Bb],["hexagon",_1e],["plus",Vb],["square",Ub],["square2",jb],["star",$b],["times",Zg],["triangle",zb],["triangle2",Hb],["wye",Gb]]);function Z4(e){return e&&typeof e.draw=="function"}function pX(e){return Z4(e)?!0:typeof e!="string"?!1:Y4.has(e.toLowerCase())}function cy(e){if(e==null||Z4(e))return e;let t=Y4.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function mX(e){if(e==null||Z4(e))return[void 0,e];if(typeof e=="string"){let t=Y4.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function xr(a={},s){var c=a,{filter:e,sort:t,reverse:n,transform:r,initializer:i}=c,o=Y(c,["filter","sort","reverse","transform","initializer"]);if(r===void 0&&(e!=null&&(r=K4(e)),t!=null&&!Ic(t)&&(r=X4(r,eV(t))),n&&(r=X4(r,J4))),s!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return V(E(E({},o),(t===null||Ic(t))&&{sort:t}),{transform:X4(r,s)})}function xn(s={},o){var a=s,{filter:e,sort:t,reverse:n,initializer:r}=a,i=Y(a,["filter","sort","reverse","initializer"]);return r===void 0&&(e!=null&&(r=K4(e)),t!=null&&!Ic(t)&&(r=Q4(r,eV(t))),n&&(r=Q4(r,J4))),V(E(E({},i),(t===null||Ic(t))&&{sort:t}),{initializer:Q4(r,o)})}function X4(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,ru(n),r,i)}}function Q4(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...o){let s,a,c,u,f,h;return{data:a=n,facets:c=r,channels:s}=e.call(this,n,r,i,...o),{data:f=a,facets:h=c,channels:u}=t.call(this,a,c,E(E({},i),s),...o),{data:f,facets:h,channels:E(E({},s),u)}}}function QC(e,t){return(e.initializer!=null?xn:xr)(e,t)}function gX(e,t){return QC(t,K4(e))}function K4(e){return(t,n)=>{let r=ke(t,e);return{data:t,facets:n.map(i=>i.filter(o=>r[o]))}}}function yX(n={}){var r=n,{sort:e}=r,t=Y(r,["sort"]);return V(E({},QC(t,J4)),{sort:Ic(e)?e:null})}function J4(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function _X(r={}){var i=r,{seed:e,sort:t}=i,n=Y(i,["seed","sort"]);return V(E({},QC(n,vX(e==null?Math.random:Bh(e)))),{sort:Ic(t)?t:null})}function KC(e,r={}){var i=r,{sort:t}=i,n=Y(i,["sort"]);return V(E({},(Go(e)&&e.channel!==void 0?xn:QC)(n,eV(e))),{sort:Ic(t)?t:null})}function eV(e){return(typeof e=="function"&&e.length!==1?v1e:vX)(e)}function v1e(e){return(t,n)=>{let r=vo(t)?(i,o)=>e(t[i],t[o]):(i,o)=>e(t.get(i),t.get(o));return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function vX(e){let t,n;({channel:t,value:e,order:n}=E({},Es(e)));let r=t?.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?Wh:Yr),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Yr;break;case"descending":n=Wh;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,s)=>{let a;if(t===void 0)a=ke(i,e);else{if(s===void 0)throw new Error("channel sort requires an initializer");if(a=s[t],!a)return{};a=a.value}let c=(u,f)=>n(a[u],a[f]);return{data:i,facets:o.map(u=>u.slice().sort(c))}}}function r1(e,t){return JC(null,null,e,t)}function Zf(e={y:"count"},t={}){let{x:n=pe}=t;if(n==null)throw new Error("missing channel: x");return JC(n,null,e,t)}function Xf(e={x:"count"},t={}){let{y:n=pe}=t;if(n==null)throw new Error("missing channel: y");return JC(null,n,e,t)}function i1(e={fill:"count"},t={}){let{x:n,y:r}=t;if([n,r]=nr(n,r),n==null)throw new Error("missing channel: x");if(r==null)throw new Error("missing channel: y");return JC(n,r,e,t)}function JC(e,t,c={},a={}){var u=c,{data:n=nM,filter:r,sort:i,reverse:o}=u,s=Y(u,["data","filter","sort","reverse"]);s=nV(s,a),n=SX(n,pe),i=i==null?void 0:wX("sort",i,a),r=r==null?void 0:DX("filter",r,a);let[f,h]=mi(e),[p,m]=mi(t),U=a,{z:y,fill:v,stroke:b,x1:x,x2:w,y1:D,y2:I}=U,A=Y(U,["z","fill","stroke","x1","x2","y1","y2"]),[T,N]=mi(y),[B]=Hn(v),[R]=Hn(b),[P,O]=mi(B),[k,H]=mi(R);return E(E(E(E(E(E(E({},"z"in a&&{z:T||y}),"fill"in a&&{fill:P||v}),"stroke"in a&&{stroke:k||b}),xr(A,(C,F,W)=>{let G=Qh(ke(C,e),W?.x),q=Qh(ke(C,t),W?.y),K=ke(C,y),X=ke(C,B),J=ke(C,R),re=o1(s,{z:K,fill:X,stroke:J}),te=[],le=[],he=G&&h([]),me=q&&m([]),at=K&&N([]),ee=X&&O([]),ue=J&&H([]),fe=0;for(let ne of s)ne.initialize(C);i&&i.initialize(C),r&&r.initialize(C);for(let ne of F){let Je=[];for(let De of s)De.scope("facet",ne);i&&i.scope("facet",ne),r&&r.scope("facet",ne);for(let[De,xt]of Cc(ne,re))for(let[dt,ye]of Cc(xt,q))for(let[ht,Ht]of Cc(ye,G)){let An={data:C};if(G&&(An.x=ht),q&&(An.y=dt),re&&(An.z=De),!(r&&!r.reduce(Ht,An))){Je.push(fe++),le.push(n.reduceIndex(Ht,C,An)),G&&he.push(ht),q&&me.push(dt),K&&at.push(re===K?De:K[Ht[0]]),X&&ee.push(re===X?De:X[Ht[0]]),J&&ue.push(re===J?De:J[Ht[0]]);for(let uo of s)uo.reduce(Ht,An);i&&i.reduce(Ht,An)}}te.push(Je)}return rV(te,i,o),{data:le,facets:te}})),!Mc(s,"x")&&(f?{x:f}:{x1:x,x2:w})),!Mc(s,"y")&&(p?{y:p}:{y1:D,y2:I})),Object.fromEntries(s.map(({name:C,output:F})=>[C,F])))}function Mc(e,...t){for(let{name:n}of e)if(t.includes(n))return!0;return!1}function tV(e,t,n=eM){let r=Object.entries(e);return t.title!=null&&e.title===void 0&&r.push(["title",I1e]),t.href!=null&&e.href===void 0&&r.push(["href",rM]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?b1e(i):n(i,o,t))}function eM(e,t,n,r=tM){let i;Zr(t)&&"reduce"in t&&(i=t.scale,t=t.reduce);let o=r(e,t,n),[s,a]=Xr(o.label),c;return{name:e,output:i===void 0?s:{value:s,scale:i},initialize(u){o.initialize(u),c=a([])},scope(u,f){o.scope(u,f)},reduce(u,f){c.push(o.reduce(u,f))}}}function b1e(e){return{name:e,initialize(){},scope(){},reduce(){}}}function tM(e,t,n,r=ly){let i=qC(e,n),o=r(t,i),s,a;return{label:gi(o===n1?null:i,o.label),initialize(c){s=i===void 0?c:ke(c,i),o.scope==="data"&&(a=o.reduceIndex(no(c),s))},scope(c,u){o.scope===c&&(a=o.reduceIndex(u,s))},reduce(c,u){return o.scope==null?o.reduceIndex(c,s,u):o.reduceIndex(c,s,a,u)}}}function Cc(e,t){return t?fi(e,n=>t[n]):[[,e]]}function ly(e,t,n=x1e){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&Zr(e))return D1e(e);if(typeof e=="function")return S1e(e);if(/^p\d{2}$/i.test(e))return cu(ry(e));switch(`${e}`.toLowerCase()){case"first":return rM;case"last":return E1e;case"identity":return nM;case"count":return n1;case"distinct":return T1e;case"sum":return t==null?n1:C1e;case"proportion":return xX(t,"data");case"proportion-facet":return xX(t,"facet");case"deviation":return cu(ys);case"min":return cu($t);case"min-index":return cu(kI);case"max":return cu(Ft);case"max-index":return cu(LI);case"mean":return bX(Ll);case"median":return bX(sa);case"variance":return cu(Sf);case"mode":return cu(mg)}return n(e)}function x1e(e){throw new Error(`invalid reduce: ${e}`)}function nV(e,t){return tV(e,t,wX)}function wX(e,t,n){return eM(e,t,n,DX)}function DX(e,t,n){return tM(e,t,n,SX)}function SX(e,t){return ly(e,t,w1e)}function w1e(e){switch(`${e}`.toLowerCase()){case"x":return M1e;case"y":return A1e;case"z":return iV}throw new Error(`invalid group reduce: ${e}`)}function o1(e,t){for(let n in t){let r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function rV(e,t,n){if(t){let r=t.output.transform(),i=(o,s)=>Yr(r[o],r[s]);e.forEach(o=>o.sort(i))}n&&e.forEach(r=>r.reverse())}function D1e(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),V(E({},e),{reduceIndex:e.reduce.bind(e)})}function S1e(e){return{reduceIndex(t,n,r){return e(e1(n,t),r)}}}function cu(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function bX(e){return{reduceIndex(t,n){let r=e(t,i=>n[i]);return Gn(n)?new Date(r):r}}}var nM={reduceIndex(e,t){return e1(t,e)}},rM={reduceIndex(e,t){return t[e[0]]}},I1e={reduceIndex(e,t){let r=Rl(oa(e,o=>o.length,o=>t[o]),Hf),i=r.slice(-5).reverse();if(i.length<r.length){let o=r.slice(0,-4);i[4]=[`\u2026 ${o.length.toLocaleString("en-US")} more`,zr(o,Hf)]}return i.map(([o,s])=>`${o} (${s.toLocaleString("en-US")})`).join(`
`)}},E1e={reduceIndex(e,t){return t[e[e.length-1]]}},n1={label:"Frequency",reduceIndex(e){return e.length}},T1e={label:"Distinct",reduceIndex(e,t){let n=new yo;for(let r of e)n.add(t[r]);return n.size}},C1e=cu(zr);function xX(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>zr(n,o=>r[o])/i}}var M1e={reduceIndex(e,t,{x:n}){return n}},A1e={reduceIndex(e,t,{y:n}){return n}},iV={reduceIndex(e,t,{z:n}){return n}};function IX(e){if(typeof e!="function")throw new Error(`invalid test function: ${e}`);return{reduceIndex(t,n,{data:r}){return n[t.find(vo(r)?i=>e(r[i],i,r):i=>e(r.get(i),i,r))]}}}function uy(e,{scale:t,type:n,value:r,filter:i,hint:o,label:s=gi(r)},a){return o===void 0&&typeof r?.transform=="function"&&(o=r.hint),sV(a,{scale:t,type:n,value:ke(e,r),label:s,filter:i,hint:o})}function iM(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,uy(t,r,n)]))}function fy(e,t){let n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:o}])=>{let s=i==null?null:t[i];return[r,s==null?o:Ot(o,s)]}));return n.channels=e,n}function sV(e,t){let{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&YC(r,Yf)?null:"color",t.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&YC(r,sX)?null:"opacity",t.defaultScale="opacity";break;case"symbol":n!==!0&&YC(r,pX)?(t.scale=null,t.value=Ot(r,cy)):t.scale="symbol",t.defaultScale="symbol";break;default:t.scale=un.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!un.has(n))throw new Error(`unknown scale: ${n}`);return t}function TX(e,t,n,r,i){let{order:o,reverse:s,reduce:a=!0,limit:c}=i;for(let u in i){if(!un.has(u))continue;let{value:f,order:h=o,reverse:p=s,reduce:m=a,limit:y=c}=Es(i[u]),v=f?.startsWith("-");if(v&&(f=f.slice(1)),h=h===void 0?v!==(f==="width"||f==="height")?MX:CX:R1e(h),m==null||m===!1)continue;let b=u==="fx"||u==="fy"?N1e(t,r[u]):O1e(n,u);if(!b)throw new Error(`missing channel for scale: ${u}`);let x=b.value,[w=0,D=1/0]=ro(y)?y:y<0?[y]:[0,y];if(f==null)b.domain=()=>{let I=Array.from(new yo(x));return p&&(I=I.reverse()),(w!==0||D!==1/0)&&(I=I.slice(w,D)),I};else{let I=f==="data"?e:f==="height"?EX(n,"y1","y2"):f==="width"?EX(n,"x1","x2"):oV(n,f,f==="y"?"y2":f==="x"?"x2":void 0),A=ly(m===!0?"max":m,I);b.domain=()=>{let T=NF(no(x),N=>A.reduceIndex(N,I),N=>x[N]);return h&&T.sort(h),p&&T.reverse(),(w!==0||D!==1/0)&&(T=T.slice(w,D)),T.map(Xh)}}}}function O1e(e,t){for(let n in e){let r=e[n];if(r.scale===t)return r}}function N1e(e,t){let n=e.original;if(n===e)return t;let r=t.value,i=t.value=[];for(let o=0;o<n.length;++o){let s=r[n[o][0]];for(let a of e[o])i[a]=s}return t}function EX(e,t,n){let r=oV(e,t),i=oV(e,n);return Ot(i,(o,s)=>Math.abs(o-r[s]),Float64Array)}function oV(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function R1e(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return CX;case"descending":return MX}throw new Error(`invalid order: ${e}`)}function CX([e,t],[n,r]){return Yr(t,r)||Yr(e,n)}function MX([e,t],[n,r]){return Wh(t,r)||Yr(e,n)}function s1(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}var PX=new Map([["accent",q3],["category10",G3],["dark2",W3],["observable10",Y3],["paired",Z3],["pastel1",X3],["pastel2",Q3],["set1",K3],["set2",J3],["set3",e4],["tableau10",t4]]);function LX(e){return e!=null&&PX.has(`${e}`.toLowerCase())}var AX=new Map([...PX,["brbg",lu(wT,DT)],["prgn",lu(ST,IT)],["piyg",lu(ET,TT)],["puor",lu(CT,MT)],["rdbu",lu(Ob,Hg)],["rdgy",lu(AT,OT)],["rdylbu",lu(Nb,Gg)],["rdylgn",lu(NT,RT)],["spectral",lu(PT,LT)],["burd",OX(Ob,Hg)],["buylrd",OX(Nb,Gg)],["blues",Qr(sC,aC)],["greens",Qr(cC,lC)],["greys",Qr(uC,fC)],["oranges",Qr(gC,yC)],["purples",Qr(dC,hC)],["reds",Qr(pC,mC)],["turbo",uu(EC)],["viridis",uu(CC)],["magma",uu(MC)],["inferno",uu(AC)],["plasma",uu(OC)],["cividis",uu(_C)],["cubehelix",uu(vC)],["warm",uu(xC)],["cool",uu(wC)],["bugn",Qr(kT,FT)],["bupu",Qr(BT,VT)],["gnbu",Qr(UT,jT)],["orrd",Qr($T,zT)],["pubu",Qr(qT,WT)],["pubugn",Qr(HT,GT)],["purd",Qr(YT,ZT)],["rdpu",Qr(XT,QT)],["ylgn",Qr(eC,tC)],["ylgnbu",Qr(KT,JT)],["ylorbr",Qr(nC,rC)],["ylorrd",Qr(iC,oC)],["rainbow",NX(DC)],["sinebow",NX(IC)]]);function Qr(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Ii(t,n):e[n])}function lu(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Ii(t,n):e[n])}function OX(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Ii(r=>t(1-r),n):e[n].slice().reverse())}function uu(e){return({length:t})=>Ii(e,Math.max(2,Math.floor(t)))}function NX(e){return({length:t})=>Ii(e,Math.floor(t)+1).slice(0,-1)}function aV(e){let t=`${e}`.toLowerCase();if(!AX.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return AX.get(t)}function a1(e,t){let n=aV(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function kX(e,t="greys"){let n=new Set,[r,i]=a1(t,2);for(let o of e)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}var RX=new Map([["brbg",DT],["prgn",IT],["piyg",TT],["puor",MT],["rdbu",Hg],["rdgy",OT],["rdylbu",Gg],["rdylgn",RT],["spectral",LT],["burd",e=>Hg(1-e)],["buylrd",e=>Gg(1-e)],["blues",aC],["greens",lC],["greys",fC],["purples",hC],["reds",mC],["oranges",yC],["turbo",EC],["viridis",CC],["magma",MC],["inferno",AC],["plasma",OC],["cividis",_C],["cubehelix",vC],["warm",xC],["cool",wC],["bugn",FT],["bupu",VT],["gnbu",jT],["orrd",zT],["pubugn",GT],["pubu",WT],["purd",ZT],["rdpu",QT],["ylgnbu",JT],["ylgn",tC],["ylorbr",rC],["ylorrd",oC],["rainbow",DC],["sinebow",IC]]);function dy(e){let t=`${e}`.toLowerCase();if(!RX.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return RX.get(t)}var P1e=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function FX(e){return e!=null&&P1e.has(`${e}`.toLowerCase())}var lV=e=>t=>e(1-t),cV=[0,1],BX=new Map([["number",Rn],["rgb",_s],["hsl",oB],["hcl",sB],["lab",iE]]);function uV(e){let t=`${e}`.toLowerCase();if(!BX.has(t))throw new Error(`unknown interpolator: ${t}`);return BX.get(t)}function py(e,t,n,{type:r,nice:i,clamp:o,zero:s,domain:a=qX(e,n),unknown:c,round:u,scheme:f,interval:h,range:p=un.get(e)===Kh?B1e(n,a):un.get(e)===Jh?V1e(n,a):un.get(e)===ep?cV:void 0,interpolate:m=un.get(e)===qo?f==null&&p!==void 0?_s:dy(f!==void 0?f:r==="cyclical"?"rainbow":"turbo"):u?Sh:Rn,reverse:y}){if(h=Ec(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof m!="function"&&(m=uV(m)),y=!!y,p!==void 0){let v=(a=Ho(a)).length,b=(p=Ho(p)).length;if(v!==b){if(m.length===1)throw new Error("invalid piecewise interpolator");m=cc(m,p),p=void 0}}if(m.length===1?(y&&(m=lV(m),y=!1),p===void 0&&(p=Float64Array.from(a,(v,b)=>b/(a.length-1)),p.length===2&&(p=cV)),t.interpolate((p===cV?qn:c1)(m))):t.interpolate(m),s){let[v,b]=qt(a);(v>0||b<0)&&(a=Gf(a),(nu(a)||1)===Math.sign(v)?a[0]=0:a[a.length-1]=0)}return y&&(a=Ef(a)),t.domain(a).unknown(c),i&&(t.nice(L1e(i,r)),a=t.domain()),p!==void 0&&t.range(p),o&&t.clamp(o),{type:r,domain:a,range:p,scale:t,interpolate:m,interval:h}}function L1e(e,t){return e===!0?void 0:typeof e=="number"?e:eX(e,t)}function VX(e,t,n){return py(e,yc(),t,n)}function UX(e,t,n){return fV(e,t,V(E({},n),{exponent:.5}))}function fV(e,t,i){var o=i,{exponent:n=1}=o,r=Y(o,["exponent"]);return py(e,bb().exponent(n),t,V(E({},r),{type:"pow"}))}function jX(e,t,o){var s=o,{base:n=10,domain:r=U1e(t)}=s,i=Y(s,["base","domain"]);return py(e,_b().base(n),t,V(E({},i),{domain:r}))}function $X(e,t,i){var o=i,{constant:n=1}=o,r=Y(o,["constant"]);return py(e,vb().constant(n),t,r)}function zX(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:s=j1e(t),unknown:a,interpolate:c,reverse:u}){return n===void 0&&(n=c!==void 0?Ii(c,i):un.get(e)===qo?a1(o,i):void 0),s.length>0&&(s=xb(s,n===void 0?{length:i}:n).quantiles()),oM(e,t,{domain:s,range:n,reverse:u,unknown:a})}function HX(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=qX(e,t),unknown:s,interpolate:a,reverse:c}){let[u,f]=qt(o),h;return n===void 0?(h=di(u,f,r),h[0]<=u&&h.splice(0,1),h[h.length-1]>=f&&h.pop(),r=h.length+1,n=a!==void 0?Ii(a,r):un.get(e)===qo?a1(i,r):void 0):(h=Ii(Rn(u,f),r+1).slice(1,-1),u instanceof Date&&(h=h.map(p=>new Date(p)))),nu(Ho(o))<0&&h.reverse(),oM(e,t,{domain:h,range:n,reverse:c,unknown:s})}function oM(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:s=o!==void 0?Ii(o,n.length+1):un.get(e)===qo?a1(i,n.length+1):void 0,reverse:a}){n=Ho(n);let c=nu(n);if(!isNaN(c)&&!k1e(n,c))throw new Error(`the ${e} scale has a non-monotonic domain`);return a&&(s=Ef(s)),{type:"threshold",scale:wb(c<0?Ef(n):n,s===void 0?[]:s).unknown(r),domain:n,range:s}}function k1e(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){let o=Hi(i,i=e[n]);if(o!==0&&o!==t)return!1}return!0}function GX(e){return{type:"identity",scale:hX(un.get(e))?gb():t=>t}}function hy(e,t=Kg){return e.length?[$t(e,({value:n})=>n===void 0?n:$t(n,t)),Ft(e,({value:n})=>n===void 0?n:Ft(n,t))]:[0,1]}function qX(e,t){let n=un.get(e);return(n===Kh||n===ep||n===Jh?F1e:hy)(t)}function F1e(e){return[0,e.length?Ft(e,({value:t})=>t===void 0?t:Ft(t,Kg)):1]}function B1e(e,t){let n=e.find(({radius:s})=>s!==void 0);if(n!==void 0)return[0,n.radius];let r=qi(e,.5,({value:s})=>s===void 0?NaN:qi(s,.25,to)),i=t.map(s=>3*Math.sqrt(s/r)),o=30/Ft(i);return o<1?i.map(s=>s*o):i}function V1e(e,t){let n=sa(e,({value:o})=>o===void 0?NaN:sa(o,Math.abs)),r=t.map(o=>12*o/n),i=60/Ft(r);return i<1?r.map(o=>o*i):r}function U1e(e){for(let{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return hy(e,to);if(n<0)return hy(e,Vf)}return[1,10]}function j1e(e){let t=[];for(let{value:n}of e)if(n!==void 0)for(let r of n)t.push(r);return t}function c1(e){return(t,n)=>r=>e(t+r*(n-t))}var dV=0,hV;function WX(){let e=dV;return dV=0,hV=void 0,e}function Ni(e){e!==hV&&(hV=e,console.warn(e),++dV)}function sM(e,t,n,r,{type:i,nice:o,clamp:s,domain:a=hy(r),unknown:c,pivot:u=0,scheme:f,range:h,symmetric:p=!0,interpolate:m=un.get(e)===qo?f==null&&h!==void 0?_s:dy(f!==void 0?f:"rdbu"):Rn,reverse:y}){u=+u,a=Ho(a);let[v,b]=a;if(a.length>2&&Ni(`Warning: the diverging ${e} scale domain contains extra elements.`),Hi(v,b)<0&&([v,b]=[b,v],y=!y),v=Math.min(v,u),b=Math.max(b,u),typeof m!="function"&&(m=uV(m)),h!==void 0&&(m=m.length===1?c1(m)(...h):cc(m,h)),y&&(m=lV(m)),p){let x=n.apply(u),w=x-n.apply(v),D=n.apply(b)-x;w<D?v=n.invert(x-D):w>D&&(b=n.invert(x+w))}return t.domain([v,u,b]).unknown(c).interpolator(m),s&&t.clamp(s),o&&t.nice(o),{type:i,domain:[v,b],pivot:u,interpolate:m,scale:t}}function YX(e,t,n){return sM(e,Ab(),$1e,t,n)}function ZX(e,t,n){return pV(e,t,V(E({},n),{exponent:.5}))}function pV(e,t,i){var o=i,{exponent:n=1}=o,r=Y(o,["exponent"]);return sM(e,xT().exponent(n=+n),G1e(n),t,V(E({},r),{type:"diverging-pow"}))}function XX(e,t,s){var a=s,{base:n=10,pivot:r=1,domain:i=hy(t,r<0?Vf:to)}=a,o=Y(a,["base","pivot","domain"]);return sM(e,vT().base(n=+n),z1e,t,E({domain:i,pivot:r},o))}function QX(e,t,i){var o=i,{constant:n=1}=o,r=Y(o,["constant"]);return sM(e,bT().constant(n=+n),q1e(n),t,r)}var $1e={apply(e){return e},invert(e){return e}},z1e={apply:Math.log,invert:Math.exp},H1e={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function G1e(e){return e===.5?H1e:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function q1e(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function KX(e,t,n,r){return py(e,t,n,r)}function JX(e,t,n){return KX(e,gT(),t,n)}function eQ(e,t,n){return KX(e,yT(),t,n)}var my=Symbol("ordinal");function nQ(e,t,n,{type:r,interval:i,domain:o,range:s,reverse:a,hint:c}){return i=Ec(i,r),o===void 0&&(o=aQ(n,i,e)),(r==="categorical"||r===my)&&(r="ordinal"),a&&(o=Ef(o)),o=t.domain(o).domain(),s!==void 0&&(typeof s=="function"&&(s=s(o)),t.range(s)),{type:r,domain:o,range:s,scale:t,hint:c,interval:i}}function rQ(e,t,u){var f=u,{type:n,interval:r,domain:i,range:o,scheme:s,unknown:a}=f,c=Y(f,["type","interval","domain","range","scheme","unknown"]);r=Ec(r,n),i===void 0&&(i=aQ(t,r,e));let h;if(un.get(e)===ay)h=W1e(t),o=o===void 0?Y1e(h):Ot(o,cy);else if(un.get(e)===qo&&(o===void 0&&(n==="ordinal"||n===my)&&(o=kX(i,s),o!==void 0&&(s=void 0)),s===void 0&&o===void 0&&(s=n==="ordinal"?"turbo":"observable10"),s!==void 0))if(o!==void 0){let p=dy(s),m=o[0],y=o[1]-o[0];o=({length:v})=>Ii(b=>p(m+y*b),v)}else o=aV(s);if(a===pb)throw new Error(`implicit unknown on ${e} scale is not supported`);return nQ(e,Hl().unknown(a),t,V(E({},c),{type:n,domain:i,range:o,hint:h}))}function iQ(e,t,o){var s=o,{align:n=.5,padding:r=.5}=s,i=Y(s,["align","padding"]);return sQ(M3().align(n).padding(r),t,i,e)}function oQ(e,t,a){var c=a,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=e==="fx"||e==="fy"?0:r}=c,s=Y(c,["align","padding","paddingInner","paddingOuter"]);return sQ(kf().align(n).paddingInner(i).paddingOuter(o),t,s,e)}function sQ(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=nQ(r,e,t,n),e.round=i,e}function aQ(e,t,n){let r=new yo;for(let{value:i,domain:o}of e){if(o!==void 0)return o();if(i!==void 0)for(let s of i)r.add(s)}if(t!==void 0){let[i,o]=qt(r).map(t.floor,t);return t.range(i,t.offset(o))}if(r.size>1e4&&un.get(n)===Ts)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return Rl(r,Yr)}function tQ(e,t){let n;for(let{hint:r}of e){let i=r?.[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function W1e(e){return{fill:tQ(e,"fill"),stroke:tQ(e,"stroke")}}function Y1e(e){return Zt(e.fill)?c4:FC}function l1(e,b={}){var x=b,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:s=n,round:a,nice:c,clamp:u,zero:f,align:h,padding:p,projection:m,facet:{label:y=t}={}}=x,v=Y(x,["label","inset","insetTop","insetRight","insetBottom","insetLeft","round","nice","clamp","zero","align","padding","projection","facet"]);let w={};for(let[D,I]of e){let A=v[D],T=mQ(D,I,E({round:un.get(D)===Ts?a:void 0,nice:c,clamp:u,zero:f,align:h,padding:p,projection:m},A));if(T){let{label:N=D==="fx"||D==="fy"?y:t,percent:B,transform:R,inset:P,insetTop:O=P!==void 0?P:D==="y"?r:0,insetRight:k=P!==void 0?P:D==="x"?i:0,insetBottom:H=P!==void 0?P:D==="y"?o:0,insetLeft:U=P!==void 0?P:D==="x"?s:0}=A||{};if(R==null)R=void 0;else if(typeof R!="function")throw new Error("invalid scale transform; not a function");T.percent=!!B,T.label=N===void 0?Z1e(I,T):N,T.transform=R,D==="x"||D==="fx"?(T.insetLeft=+U,T.insetRight=+k):(D==="y"||D==="fy")&&(T.insetTop=+O,T.insetBottom=+H),w[D]=T}}return w}function gV(e){let t={},n={scales:t};for(let[r,i]of Object.entries(e)){let{scale:o,type:s,interval:a,label:c}=i;t[r]=yQ(i),n[r]=o,o.type=s,a!=null&&(o.interval=a),c!=null&&(o.label=c)}return n}function dQ(e,t){let{x:n,y:r,fx:i,fy:o}=e,s=i||o?lM(t):t;i&&cQ(i,s),o&&lQ(o,s);let a=i||o?yV(e,t):t;n&&cQ(n,a),r&&lQ(r,a)}function Z1e(e=[],t){let n;for(let{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Ac(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function cM(e){return Math.sign(nu(e.domain()))*Math.sign(nu(e.range()))}function lM(e){let{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:s,facet:{marginTop:a,marginRight:c,marginBottom:u,marginLeft:f}}=e;return{marginTop:Math.max(t,a),marginRight:Math.max(n,c),marginBottom:Math.max(r,u),marginLeft:Math.max(i,f),width:o,height:s}}function yV({fx:e,fy:t},n){let{marginTop:r,marginRight:i,marginBottom:o,marginLeft:s,width:a,height:c}=lM(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:s,width:e?e.scale.bandwidth()+s+i:a,height:t?t.scale.bandwidth()+r+o:c,facet:{width:a,height:c}}}function cQ(e,t){if(e.range===void 0){let{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:o=0,marginRight:s=0}=t,a=o+n,c=i-s-r;e.range=[a,Math.max(a,c)],Ac(e)||(e.range=pQ(e)),e.scale.range(e.range)}hQ(e)}function lQ(e,t){if(e.range===void 0){let{insetTop:n,insetBottom:r}=e,{height:i,marginTop:o=0,marginBottom:s=0}=t,a=o+n,c=i-s-r;e.range=[Math.max(a,c),a],Ac(e)?e.range.reverse():e.range=pQ(e),e.scale.range(e.range)}hQ(e)}function hQ(e){e.round===void 0&&K1e(e)&&X1e(e)<=30&&e.scale.round(!0)}function X1e({scale:e}){let t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,o=e.paddingOuter?e.paddingOuter():e.padding(),s=t-i,a=Math.abs(r-n)/Math.max(1,s+o*2);return(a-Math.floor(a))*s}function pQ(e){let t=e.scale.domain().length+_V(e);if(!(t>2))return e.range;let[n,r]=e.range;return Array.from({length:t},(i,o)=>n+o/(t-1)*(r-n))}function uM(e,t,n){return mQ(e,n===void 0?void 0:[{hint:n}],E({},t))}function mQ(e,t=[],n={}){let r=Q1e(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&Ac({type:r})){let i=t.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Gn)?Ni(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${gy(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${gy(r)}".`):i.some(iX)?Ni(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${gy(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${gy(r)}".`):i.some(oX)&&Ni(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${gy(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${gy(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=aM(t,n,br);break;case"identity":switch(un.get(e)){case Ts:n=aM(t,n,br);break;case ay:n=aM(t,n,J1e);break}break;case"utc":case"time":n=aM(t,n,B4);break}switch(r){case"diverging":return YX(e,t,n);case"diverging-sqrt":return ZX(e,t,n);case"diverging-pow":return pV(e,t,n);case"diverging-log":return XX(e,t,n);case"diverging-symlog":return QX(e,t,n);case"categorical":case"ordinal":case my:return rQ(e,t,n);case"cyclical":case"sequential":case"linear":return VX(e,t,n);case"sqrt":return UX(e,t,n);case"threshold":return oM(e,t,n);case"quantile":return zX(e,t,n);case"quantize":return HX(e,t,n);case"pow":return fV(e,t,n);case"log":return jX(e,t,n);case"symlog":return $X(e,t,n);case"utc":return eQ(e,t,n);case"time":return JX(e,t,n);case"point":return iQ(e,t,n);case"band":return oQ(e,t,n);case"identity":return GX(e);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function gy(e){return typeof e=="symbol"?e.description:e}function uQ(e){return typeof e=="string"?`${e}`.toLowerCase():e}var fQ={toString:()=>"projection"};function Q1e(e,t,{type:n,domain:r,range:i,scheme:o,pivot:s,projection:a}){if(n=uQ(n),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&a!=null&&(n=fQ);for(let u of t){let f=uQ(u.type);if(f!==void 0){if(n===void 0)n=f;else if(n!==f)throw new Error(`scale incompatible with channel: ${n} !== ${f}`)}}if(n===fQ)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:u})=>u!==void 0))return;let c=un.get(e);if(c===Kh)return"sqrt";if(c===ep||c===Jh)return"linear";if(c===ay)return"ordinal";if((r||i||[]).length>2)return mV(c);if(r!==void 0){if(Bn(r))return mV(c);if(Gn(r))return"utc"}else{let u=t.map(({value:f})=>f).filter(f=>f!==void 0);if(u.some(Bn))return mV(c);if(u.some(Gn))return"utc"}if(c===qo){if(s!=null||FX(o))return"diverging";if(LX(o))return"categorical"}return"linear"}function mV(e){switch(e){case Ts:return"point";case qo:return my;default:return"ordinal"}}function Ac({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===my}function _V({type:e}){return e==="threshold"}function K1e({type:e}){return e==="point"||e==="band"}function Wo(e){if(e===void 0)return!0;let t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function aM(e,i,r){var o=i,{domain:t}=o,n=Y(o,["domain"]);for(let s of e)s.value!==void 0&&(t===void 0&&(t=s.value?.domain),s.value=r(s.value));return E({domain:t===void 0?t:r(t)},n)}function J1e(e){return Ot(e,cy)}function u1(e={}){let t;for(let n in e)if(un.has(n)&&Sc(e[n])){if(t!==void 0)throw new Error("ambiguous scale definition; multiple scales found");t=yQ(uM(n,e[n]))}if(t===void 0)throw new Error("invalid scale definition; no scale found");return t}function gQ(e){return t=>{if(!un.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function yQ({scale:e,type:t,domain:n,range:r,interpolate:i,interval:o,transform:s,percent:a,pivot:c}){if(t==="identity")return{type:"identity",apply:f=>f,invert:f=>f};let u=e.unknown?e.unknown():void 0;return E(V(E(E(E(E(E(E(E(E(E(E(E(E(E(E({type:t,domain:Gf(n)},r!==void 0&&{range:Gf(r)}),s!==void 0&&{transform:s}),a&&{percent:a}),u!==void 0&&{unknown:u}),o!==void 0&&{interval:o}),i!==void 0&&{interpolate:i}),e.clamp&&{clamp:e.clamp()}),c!==void 0&&{pivot:c,symmetric:!1}),e.base&&{base:e.base()}),e.exponent&&{exponent:e.exponent()}),e.constant&&{constant:e.constant()}),e.align&&{align:e.align(),round:e.round()}),e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()})),e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()}),{apply:f=>e(f)}),e.invert&&{invert:f=>e.invert(f)})}function vQ(e,t){let{fx:n,fy:r}=l1(e,t),i=n?.scale.domain(),o=r?.scale.domain();return i&&o?NI(i,o).map(([s,a],c)=>({x:s,y:a,i:c})):i?i.map((s,a)=>({x:s,i:a})):o?o.map((s,a)=>({y:s,i:a})):void 0}function bQ(e,{x:t,y:n}){return t&&=DV(t),n&&=DV(n),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function dM(e,{fx:t,fy:n}){let r=no(e),i=t?.value,o=n?.value;return t&&n?oa(r,s=>(s.fx=i[s[0]],s.fy=o[s[0]],s),s=>i[s],s=>o[s]):t?oa(r,s=>(s.fx=i[s[0]],s),s=>i[s]):oa(r,s=>(s.fy=o[s[0]],s),s=>o[s])}function xQ(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:o})=>`translate(${e(i)-r},${t(o)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function wQ(e){let t=[],n=new Uint32Array(zr(e,r=>r.length));for(let r of e){let i=0;for(let o of e)r!==o&&(n.set(o,i),i+=o.length);t.push(n.slice(0,i))}return t}var exe=new Map([["top",vV],["right",wV],["bottom",bV],["left",xV],["top-left",fM(vV,xV)],["top-right",fM(vV,wV)],["bottom-left",fM(bV,xV)],["bottom-right",fM(bV,wV)],["top-empty",nxe],["right-empty",oxe],["bottom-empty",rxe],["left-empty",ixe],["empty",sxe]]);function DQ(e){if(e==null)return null;let t=exe.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}var _Q=new WeakMap;function DV(e){let t=_Q.get(e);return t||_Q.set(e,t=new Gi(Ot(e,(n,r)=>[n,r]))),t}function Qf(e,t){return DV(e).get(t)}function txe(e,t,n){return t=Is(t),n=Is(n),e.find(r=>Object.is(Is(r.x),t)&&Object.is(Is(r.y),n))}function hM(e,t,n){return txe(e,t,n)?.empty}function vV(e,{y:t},{y:n}){return t?Qf(t,n)===0:!0}function bV(e,{y:t},{y:n}){return t?Qf(t,n)===t.length-1:!0}function xV(e,{x:t},{x:n}){return t?Qf(t,n)===0:!0}function wV(e,{x:t},{x:n}){return t?Qf(t,n)===t.length-1:!0}function nxe(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;let o=Qf(t,r);if(o>0)return hM(e,n,t[o-1])}function rxe(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;let o=Qf(t,r);if(o<t.length-1)return hM(e,n,t[o+1])}function ixe(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;let o=Qf(t,n);if(o>0)return hM(e,t[o-1],r)}function oxe(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;let o=Qf(t,n);if(o<t.length-1)return hM(e,t[o+1],r)}function sxe(e,t,{empty:n}){return n}function fM(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function pM(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:o})=>r.get(i)?.get(o)??[]):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}var SQ=Math.PI,fu=2*SQ,SV=.618;function IQ({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={},s){var A;if(e==null)return;if(typeof e.stream=="function")return e;let a,c,u="frame";if(Zr(e)){let T;if(A=e,{type:e,domain:c,inset:T,insetTop:n=T!==void 0?T:n,insetRight:r=T!==void 0?T:r,insetBottom:i=T!==void 0?T:i,insetLeft:o=T!==void 0?T:o,clip:u=u}=A,a=Y(A,["type","domain","inset","insetTop","insetRight","insetBottom","insetLeft","clip"]),e==null)return}typeof e!="function"&&({type:e}=IV(e));let{width:f,height:h,marginLeft:p,marginRight:m,marginTop:y,marginBottom:v}=s,b=f-p-m-o-r,x=h-y-v-n-i;if(e=e?.(E({width:b,height:x,clip:u},a)),e==null)return;u=axe(u,p,y,f-m,h-v);let w=p+o,D=y+n,I;if(c!=null){let[[T,N],[B,R]]=Gr(e).bounds(c),P=Math.min(b/(B-T),x/(R-N));P>0?(w-=(P*(T+B)-b)/2,D-=(P*(N+R)-x)/2,I=kh({point(O,k){this.stream.point(O*P+w,k*P+D)}})):Ni("Warning: the projection could not be fit to the specified domain; using the default scale.")}return I??=w===0&&D===0?EQ():kh({point(T,N){this.stream.point(T+w,N+D)}}),{stream:T=>e.stream(I.stream(u(T)))}}function IV(e){switch(`${e}`.toLowerCase()){case"albers-usa":return da(r3,.7463,.4673);case"albers":return mM(cb,.7463,.4673);case"azimuthal-equal-area":return da(o3,4,4);case"azimuthal-equidistant":return da(a3,fu,fu);case"conic-conformal":return mM(u3,fu,fu);case"conic-equal-area":return mM(Pf,6.1702,2.9781);case"conic-equidistant":return mM(d3,7.312,3.6282);case"equal-earth":return da(p3,5.4133,2.6347);case"equirectangular":return da(f3,fu,SQ);case"gnomonic":return da(g3,3.4641,3.4641);case"identity":return{type:EQ};case"reflect-y":return{type:cxe};case"mercator":return da(c3,fu,fu);case"orthographic":return da(_3,2,2);case"stereographic":return da(b3,2,2);case"transverse-mercator":return da(w3,fu,fu);default:throw new Error(`unknown projection type: ${e}`)}}function axe(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return o=>o;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return Rg(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function da(e,t,n){return{type:({width:r,height:i,rotate:o,precision:s=.15,clip:a})=>{let c=e();return s!=null&&c.precision?.(s),o!=null&&c.rotate?.(o),typeof a=="number"&&c.clipAngle?.(a),r!=null&&(c.scale(Math.min(r/t,i/n)),c.translate([r/2,i/2])),c},aspectRatio:n/t}}function mM(e,t,n){let{type:r,aspectRatio:i}=da(e,t,n);return{type:o=>{let{parallels:s,domain:a,width:c,height:u}=o,f=r(o);return s!=null&&(f.parallels(s),a===void 0&&c!=null&&f.fitSize([c,u],{type:"Sphere"})),f},aspectRatio:i}}var EQ=qn({stream:e=>e}),cxe=qn(kh({point(e,t){this.stream.point(e,-t)}}));function EV(e,t,n,r){let i=n[e],o=n[t],s=i.length,a=n[e]=new Float64Array(s).fill(NaN),c=n[t]=new Float64Array(s).fill(NaN),u,f=r.stream({point(h,p){a[u]=h,c[u]=p}});for(u=0;u<s;++u)f.point(i[u],o[u])}function TQ({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(Zr(e)&&(e=e.type),e!=null)}function CQ(e){var t;if(typeof e?.stream=="function")return SV;if(Zr(e)){let n,r;if(t=e,{domain:n,type:e}=t,r=Y(t,["domain","type"]),n!=null&&e!=null){let i=typeof e=="string"?IV(e).type:e,[[o,s],[a,c]]=Gr(i(V(E({},r),{width:100,height:100}))).bounds(n),u=(c-s)/(a-o);return u&&isFinite(u)?u<.2?.2:u>5?5:u:SV}}if(e!=null){if(typeof e!="function"){let{aspectRatio:n}=IV(e);if(n)return n}return SV}}function Oc(e,t,{projection:n}){let{x:r,y:i}=e,o={};return r&&(o.x=r),i&&(o.y=i),o=fy(o,t),n&&r?.scale==="x"&&i?.scale==="y"&&EV("x","y",o,n),r&&(o.x=br(o.x)),i&&(o.y=br(o.y)),o}function MQ(e){let t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},o={point(s,a){t.push(s),n.push(a)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(let s of e.value)jo(s,o);return[r,i]}function Kf(e={}){let{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:XC(n)}}function Ee(e,{document:t}){return ln(Fl(e).call(t.documentElement))}var gM=Symbol("unset");function Jf(e){return(e.length===1?lxe:uxe)(e)}function lxe(e){let t,n=gM;return r=>(Object.is(n,r)||(n=r,t=e(r)),t)}function uxe(e){let t,n;return(...r)=>((n?.length!==r.length||n.some((i,o)=>!Object.is(i,r[o])))&&(n=r,t=e(...r)),t)}var fxe=Jf(e=>new Intl.NumberFormat(e)),dxe=Jf((e,t)=>new Intl.DateTimeFormat(e,E({timeZone:"UTC"},t&&{month:t}))),hxe=Jf((e,t)=>new Intl.DateTimeFormat(e,E({timeZone:"UTC"},t&&{weekday:t})));function TV(e="en-US"){let t=fxe(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function AQ(e="en-US",t="short"){let n=dxe(e,t);return r=>r!=null&&!isNaN(r=+new Date(Date.UTC(2e3,+r)))?n.format(r):void 0}function OQ(e="en-US",t="short"){let n=hxe(e,t);return r=>r!=null&&!isNaN(r=+new Date(Date.UTC(2001,0,+r)))?n.format(r):void 0}function CV(e){return Jg(e,"Invalid Date")}function pxe(e="en-US"){let t=TV(e);return n=>(n instanceof Date?CV:typeof n=="number"?t:ar)(n)}var Nc=pxe();var Wn=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5,mxe=0,gxe=0;function MV(){return`plot-clip-${++mxe}`}function NQ(){return`plot-pattern-${++gxe}`}function yM(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:s,fill:a,fillOpacity:c,stroke:u,strokeWidth:f,strokeOpacity:h,strokeLinejoin:p,strokeLinecap:m,strokeMiterlimit:y,strokeDasharray:v,strokeDashoffset:b,opacity:x,mixBlendMode:w,imageFilter:D,paintOrder:I,pointerEvents:A,shapeRendering:T,channels:N},{ariaLabel:B,fill:R="currentColor",fillOpacity:P,stroke:O="none",strokeOpacity:k,strokeWidth:H,strokeLinecap:U,strokeLinejoin:C,strokeMiterlimit:F,paintOrder:W}){R===null&&(a=null,c=null),O===null&&(u=null,h=null),Zt(R)?!Zt(O)&&(!Zt(a)||N?.fill)&&(O="none"):Zt(O)&&(!Zt(u)||N?.stroke)&&(R="none");let[G,q]=Hn(a,R),[K,X]=Kt(c,P),[J,re]=Hn(u,O),[te,le]=Kt(h,k),[he,me]=Kt(x);au(re)||(f===void 0&&(f=H),m===void 0&&(m=U),p===void 0&&(p=C),y===void 0&&!aX(p)&&(y=F),!au(q)&&I===void 0&&(I=W));let[at,ee]=Kt(f);return R!==null&&(e.fill=wn(q,"currentColor"),e.fillOpacity=f1(X,1)),O!==null&&(e.stroke=wn(re,"none"),e.strokeWidth=f1(ee,1),e.strokeOpacity=f1(le,1),e.strokeLinejoin=wn(p,"miter"),e.strokeLinecap=wn(m,"butt"),e.strokeMiterlimit=f1(y,4),e.strokeDasharray=wn(v,"none"),e.strokeDashoffset=wn(b,"0")),e.target=ar(s),e.ariaLabel=ar(B),e.ariaDescription=ar(i),e.ariaHidden=ar(o),e.opacity=f1(me,1),e.mixBlendMode=wn(w,"normal"),e.imageFilter=wn(D,"none"),e.paintOrder=wn(I,"normal"),e.pointerEvents=wn(A,"auto"),e.shapeRendering=wn(T,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:G,scale:"auto",optional:!0},fillOpacity:{value:K,scale:"auto",optional:!0},stroke:{value:J,scale:"auto",optional:!0},strokeOpacity:{value:te,scale:"auto",optional:!0},strokeWidth:{value:at,optional:!0},opacity:{value:he,scale:"auto",optional:!0}}}function yxe(e,t){t&&e.filter(n=>Yb(t[n])).append("title").call(vxe,t)}function _xe(e,t){t&&e.filter(([n])=>Yb(t[n])).append("title").call(bxe,t)}function vxe(e,t){t&&e.text(n=>Nc(t[n]))}function bxe(e,t){t&&e.text(([n])=>Nc(t[n]))}function Tt(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:s,stroke:a,strokeOpacity:c,strokeWidth:u,opacity:f,href:h}){r&&Ne(e,"aria-label",p=>r[p]),o&&Ne(e,"fill",p=>o[p]),s&&Ne(e,"fill-opacity",p=>s[p]),a&&Ne(e,"stroke",p=>a[p]),c&&Ne(e,"stroke-opacity",p=>c[p]),u&&Ne(e,"stroke-width",p=>u[p]),f&&Ne(e,"opacity",p=>f[p]),h&&PQ(e,p=>h[p],t),n||yxe(e,i)}function tp(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:s,stroke:a,strokeOpacity:c,strokeWidth:u,opacity:f,href:h}){r&&Ne(e,"aria-label",([p])=>r[p]),o&&Ne(e,"fill",([p])=>o[p]),s&&Ne(e,"fill-opacity",([p])=>s[p]),a&&Ne(e,"stroke",([p])=>a[p]),c&&Ne(e,"stroke-opacity",([p])=>c[p]),u&&Ne(e,"stroke-width",([p])=>u[p]),f&&Ne(e,"opacity",([p])=>f[p]),h&&PQ(e,([p])=>h[p],t),n||_xe(e,i)}function xxe({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:s,opacity:a,href:c},{tip:u}){return[e,u?void 0:t,n,r,i,o,s,a,c].filter(f=>f!==void 0)}function d1(e,t,n){let r=fi(e,i=>t[i]);return n===void 0&&r.size>1+e.length>>1&&Ni("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*_M(e,t,n,r){let{z:i}=n,{z:o}=r,s=xxe(r,n),a=[...t,...s];for(let c of o?d1(e,o,i):[e]){let u,f;e:for(let h of c){for(let p of a)if(!Fn(p[h])){f&&f.push(-1);continue e}if(u===void 0){f&&(yield f),u=s.map(p=>Is(p[h])),f=[h];continue}f.push(h);for(let p=0;p<s.length;++p)if(Is(s[p][h])!==u[p]){yield f,u=s.map(y=>Is(y[h])),f=[h];continue e}}f&&(yield f)}}function wxe(e,t,n,r){let i,{clip:o=r.clip}=t;switch(o){case"frame":{e=Ee("svg:g",r).each(function(){this.appendChild(e.node()),e.node=()=>this}),i=Dxe(r,n);break}case"sphere":{i=Sxe(r);break}}Ne(e,"aria-label",t.ariaLabel),Ne(e,"aria-description",t.ariaDescription),Ne(e,"aria-hidden",t.ariaHidden),Ne(e,"clip-path",i)}function RQ(e){let t=new WeakMap;return(n,r)=>{let i=t.get(n);if(!i){let o=MV();ln(n.ownerSVGElement).append("clipPath").attr("id",o).call(e,n,r),t.set(n,i=`url(#${o})`)}return i}}var Dxe=RQ((e,t,n)=>{let{width:r,height:i,marginLeft:o,marginRight:s,marginTop:a,marginBottom:c}=n;e.append("rect").attr("x",o).attr("y",a).attr("width",r-s-o).attr("height",i-a-c)}),Sxe=RQ((e,t)=>{let{projection:n}=t;if(!n)throw new Error('the "sphere" clip option requires a projection');e.append("path").attr("d",Gr(n)({type:"Sphere"}))});function rt(e,t,n,r){wxe(e,t,n,r),Ne(e,"class",t.className),Ne(e,"fill",t.fill),Ne(e,"fill-opacity",t.fillOpacity),Ne(e,"stroke",t.stroke),Ne(e,"stroke-width",t.strokeWidth),Ne(e,"stroke-opacity",t.strokeOpacity),Ne(e,"stroke-linejoin",t.strokeLinejoin),Ne(e,"stroke-linecap",t.strokeLinecap),Ne(e,"stroke-miterlimit",t.strokeMiterlimit),Ne(e,"stroke-dasharray",t.strokeDasharray),Ne(e,"stroke-dashoffset",t.strokeDashoffset),Ne(e,"shape-rendering",t.shapeRendering),Ne(e,"filter",t.imageFilter),Ne(e,"paint-order",t.paintOrder);let{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;Ne(e,"pointer-events",i)}function We(e,t){Ixe(e,"mix-blend-mode",t.mixBlendMode),Ne(e,"opacity",t.opacity)}function PQ(e,t,n){e.each(function(r){let i=t(r);if(i!=null){let o=this.ownerDocument.createElementNS(Wi.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Wi.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function Ne(e,t,n){n!=null&&e.attr(t,n)}function Ixe(e,t,n){n!=null&&e.style(t,n)}function Qe(e,t,{x:n,y:r},i=Wn,o=Wn){i+=t.dx,o+=t.dy,n?.bandwidth&&(i+=n.bandwidth()/2),r?.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&e.attr("transform",`translate(${i},${o})`)}function wn(e,t){if((e=ar(e))!==t)return e}function f1(e,t){if((e=Ut(e))!==t)return e}var Exe=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function ed(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!Exe.test(e))throw new Error(`invalid class name: ${e}`);return e}function yy(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(let n of e)Object.assign(n.style,t)}function Kr({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:s}){return[/left$/.test(e)?s:/right$/.test(e)?t-i:(s+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-o:(r+n-o)/2]}var ze=class{constructor(t,n={},r={},i){let{facet:o="auto",facetAnchor:s,fx:a,fy:c,sort:u,dx:f=0,dy:h=0,margin:p=0,marginTop:m=p,marginRight:y=p,marginBottom:v=p,marginLeft:b=p,className:x,clip:w=i?.clip,channels:D,tip:I,render:A}=r;if(this.data=t,this.sort=Ic(u)?u:null,this.initializer=xn(r).initializer,this.transform=this.initializer?r.transform:xr(r).transform,o===null||o===!1?this.facet=null:(this.facet=Ar(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=t===zf&&typeof a=="string"?[a]:a,this.fy=t===zf&&typeof c=="string"?[c]:c),this.facetAnchor=DQ(s),n=t1(n),D!==void 0&&(n=E(E({},Txe(D)),n)),i!==void 0&&(n=E(E({},yM(this,r,i)),n)),this.channels=Object.fromEntries(Object.entries(n).map(([T,N])=>{if(Go(N.value)){let{value:B,label:R=N.label,scale:P=N.scale}=N.value;N=V(E({},N),{label:R,scale:P,value:B})}if(t===zf&&typeof N.value=="string"){let{value:B}=N;N=V(E({},N),{value:[B]})}return[T,N]}).filter(([T,{value:N,optional:B}])=>{if(N!=null)return!0;if(B)return!1;throw new Error(`missing channel value: ${T}`)})),this.dx=+f,this.dy=+h,this.marginTop=+m,this.marginRight=+y,this.marginBottom=+v,this.marginLeft=+b,this.clip=XC(w),this.tip=Cxe(I),this.className=x?ed(x):null,this.facet==="super"){if(a||c)throw new Error("super-faceting cannot use fx or fy");for(let T in this.channels){let{scale:N}=n[T];if(!(N!=="x"&&N!=="y"))throw new Error("super-faceting cannot use x or y")}}A!=null&&(this.render=du(A,this.render))}initialize(t,n,r){let i=ru(this.data);t===void 0&&i!=null&&(t=[no(i)]);let o=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=ru(i)),t!==void 0&&(t.original=o);let s=iM(this.channels,i);return this.sort!=null&&TX(i,t,s,n,this.sort),{data:i,facets:t,channels:s}}filter(t,n,r){for(let i in n){let{filter:o=Fn}=n[i];if(o!==null){let s=r[i];t=t.filter(a=>o(s[a]))}}return t}project(t,n,r){for(let i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){let o=i.replace(/^x|x$/,"y");o in t&&t[o].scale==="y"&&EV(i,o,n,r.projection)}}scale(t,n,r){let i=fy(t,n);return r.projection&&this.project(t,i,r),i}};function wr(...e){return e.plot=ze.prototype.plot,e}function du(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,o,s,a){return e.call(this,n,r,i,o,s,(c,u,f,h,p)=>t.call(this,c,u,f,h,p,a))}}function Txe(e){return Object.fromEntries(Object.entries(t1(e)).map(([t,n])=>(n=typeof n=="string"?{value:n,label:t}:Es(n),n.filter===void 0&&n.scale==null&&(n=V(E({},n),{filter:null})),[t,n])))}function Cxe(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?Ar(e,"tip",["x","y","xy"]):e}function ha(e,t){return e?.tip===!0?V(E({},e),{tip:t}):Zr(e?.tip)&&e.tip.pointer===void 0?V(E({},e),{tip:V(E({},e.tip),{pointer:t})}):e}function kQ(e,t,n={}){let r=.5-Wn,i=.5+Wn,o=.5+Wn,s=.5-Wn;for(let{marginTop:v,marginRight:b,marginBottom:x,marginLeft:w}of t)v>r&&(r=v),b>i&&(i=b),x>o&&(o=x),w>s&&(s=w);let{margin:a,marginTop:c=a!==void 0?a:r,marginRight:u=a!==void 0?a:i,marginBottom:f=a!==void 0?a:o,marginLeft:h=a!==void 0?a:s}=n;c=+c,u=+u,f=+f,h=+h;let{width:p=640,height:m=Mxe(e,n,{width:p,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:s})+Math.max(0,c-r+f-o)}=n;p=+p,m=+m;let y={width:p,height:m,marginTop:c,marginRight:u,marginBottom:f,marginLeft:h};if(e.fx||e.fy){let{margin:v,marginTop:b=v!==void 0?v:c,marginRight:x=v!==void 0?v:u,marginBottom:w=v!==void 0?v:f,marginLeft:D=v!==void 0?v:h}=n.facet??{};b=+b,x=+x,w=+w,D=+D,y.facet={marginTop:b,marginRight:x,marginBottom:w,marginLeft:D}}return y}function Mxe({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:o},{width:s,marginTopDefault:a,marginRightDefault:c,marginBottomDefault:u,marginLeftDefault:f}){let h=n&&n.scale.domain().length||1,p=CQ(i);if(p){let y=r?r.scale.domain().length:1,v=(1.1*h-.1)/(1.1*y-.1)*p,b=Math.max(.1,Math.min(10,v));return Math.round((s-f-c)*b+a+u)}let m=t?Ac(t)?t.scale.domain().length||1:Math.max(7,17/h):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);let y=LQ("y",t)/(LQ("x",e)*o),v=r?r.scale.bandwidth():1,b=n?n.scale.bandwidth():1,x=v*(s-f-c)-e.insetLeft-e.insetRight;return(y*x+t.insetTop+t.insetBottom)/b+a+u}return!!(t||n)*Math.max(1,Math.min(60,m*h))*20+!!r*30+60}function LQ(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);let{type:n,domain:r}=t,i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{let a=t.scale.exponent();i=c=>Math.pow(c,a);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}let[o,s]=qt(r);return Math.abs(i(s)-i(o))}var FQ=new WeakMap;function AV(e,t,f={}){var h=f,{x:n,y:r,px:i,py:o,maxRadius:s=40,channels:a,render:c}=h,u=Y(h,["x","y","px","py","maxRadius","channels","render"]);return s=+s,i!=null&&(n??=null,a=V(E({},a),{px:{value:i,scale:"x"}})),o!=null&&(r??=null,a=V(E({},a),{py:{value:o,scale:"y"}})),V(E({x:n,y:r,channels:a},u),{render:du(function(p,m,y,v,b,x){b=V(E({},b),{pointerSticky:!1});let w=b.ownerSVGElement,{data:D}=b.getMarkState(this),I=FQ.get(w);I||FQ.set(w,I={sticky:!1,roots:[],renders:[]});let A=I.renders.push(le)-1,{x:T,y:N,fx:B,fy:R}=m,P=B?B(p.fx)-v.marginLeft:0,O=R?R(p.fy)-v.marginTop:0;T?.bandwidth&&(P+=T.bandwidth()/2),N?.bandwidth&&(O+=N.bandwidth()/2);let k=p.fi!=null,H;if(k){let ee=I.facetStates;ee||(I.facetStates=ee=new Map),H=ee.get(this),H||ee.set(this,H=new Map)}let[U,C]=Kr(this,v),{px:F,py:W}=y,G=F?ee=>F[ee]:OV(y,U),q=W?ee=>W[ee]:NV(y,C),K,X,J,re;function te(ee,ue){if(k)if(re&&(re=cancelAnimationFrame(re)),ee==null)H.delete(p.fi);else{H.set(p.fi,ue),re=requestAnimationFrame(()=>{re=null;for(let[fe,ne]of H)if(ne<ue||ne===ue&&fe<p.fi){ee=null;break}le(ee)});return}le(ee)}function le(ee){if(K===ee&&J===I.sticky)return;K=ee,J=b.pointerSticky=I.sticky;let ue=K==null?[]:[K];k&&(ue.fx=p.fx,ue.fy=p.fy,ue.fi=p.fi);let fe=x(ue,m,y,v,b);if(X){if(k){let ne=X.parentNode,Je=X.getAttribute("transform"),De=fe.getAttribute("transform");Je?fe.setAttribute("transform",Je):fe.removeAttribute("transform"),De?ne.setAttribute("transform",De):ne.removeAttribute("transform"),fe.removeAttribute("aria-label"),fe.removeAttribute("aria-description"),fe.removeAttribute("aria-hidden")}X.replaceWith(fe)}if(I.roots[A]=X=fe,!(K==null&&H?.size>1)){let ne=K==null?null:vo(D)?D[K]:D.get(K);b.dispatchValue(ne)}return fe}function he(ee){if(I.sticky||ee.pointerType==="mouse"&&ee.buttons===1)return;let[ue,fe]=Cf(ee);ue-=P,fe-=O;let ne=ue<v.marginLeft||ue>v.width-v.marginRight?1:e,Je=fe<v.marginTop||fe>v.height-v.marginBottom?1:t,De=null,xt=s*s;for(let dt of p){let ye=ne*(G(dt)-ue),ht=Je*(q(dt)-fe),Ht=ye*ye+ht*ht;Ht<=xt&&(De=dt,xt=Ht)}if(De!=null&&(e!==1||t!==1)){let dt=G(De)-ue,ye=q(De)-fe;xt=dt*dt+ye*ye}te(De,xt)}function me(ee){ee.pointerType==="mouse"&&K!=null&&(I.sticky&&I.roots.some(ue=>ue?.contains(ee.target))||(I.sticky?(I.sticky=!1,I.renders.forEach(ue=>ue(null))):(I.sticky=!0,le(K)),ee.stopImmediatePropagation()))}function at(ee){ee.pointerType==="mouse"&&(I.sticky||te(null))}return w.addEventListener("pointerenter",he),w.addEventListener("pointermove",he),w.addEventListener("pointerdown",me),w.addEventListener("pointerleave",at),le(null)},c)})}function Rc(e){return AV(1,1,e)}function Or(e){return AV(1,.01,e)}function hu(e){return AV(.01,1,e)}function OV({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function NV({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function vM(e){return Ac(e)&&e.interval===void 0?void 0:"tabular-nums"}function BQ(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:s=18,marginRight:a=0,marginBottom:c=16+r,marginLeft:u=0,style:f,ticks:h=(i-u-a)/64,tickFormat:p,fontVariant:m=vM(e),round:y=!0,opacity:v,className:b}=t,x=Kf(t);b=ed(b),v=Kt(v)[1],p===null&&(p=()=>null);let w=Ee("svg",x).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(k=>k.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(yy,f),D=k=>k.selectAll(".tick line").attr("y1",s+c-o),I,A=y?(k,H)=>k.rangeRound(H):(k,H)=>k.range(H),{type:T,domain:N,range:B,interpolate:R,scale:P,pivot:O}=e;if(R){let k=B===void 0?R:cc(R.length===1?c1(R):R,B);I=A(P.copy(),Ii(Rn(u,i-a),Math.min(N.length+(O!==void 0),B===void 0?1/0:B.length)));let H=256,U=x.document.createElement("canvas");U.width=H,U.height=1;let C=U.getContext("2d");for(let F=0,W=H-1;F<H;++F)C.fillStyle=k(F/W),C.fillRect(F,0,1,1);w.append("image").attr("opacity",v).attr("x",u).attr("y",s).attr("width",i-u-a).attr("height",o-s-c).attr("preserveAspectRatio","none").attr("xlink:href",U.toDataURL())}else if(T==="threshold"){let k=N,H=p===void 0?U=>U:typeof p=="string"?vs(p):p;I=A(yc().domain([-1,B.length-1]),[u,i-a]),w.append("g").attr("fill-opacity",v).selectAll().data(B).enter().append("rect").attr("x",(U,C)=>I(C-1)).attr("y",s).attr("width",(U,C)=>I(C)-I(C-1)).attr("height",o-s-c).attr("fill",U=>U),h=Ot(k,(U,C)=>C),p=U=>H(k[U],U)}else I=A(kf().domain(N),[u,i-a]),w.append("g").attr("fill-opacity",v).selectAll().data(N).enter().append("rect").attr("x",I).attr("y",s).attr("width",Math.max(0,I.bandwidth()-1)).attr("height",o-s-c).attr("fill",P),D=()=>{};return w.append("g").attr("transform",`translate(0,${o-c})`).call(VF(I).ticks(Array.isArray(h)?null:h,typeof p=="string"?p:void 0).tickFormat(typeof p=="function"?p:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",wn(m,"normal")).call(D).call(k=>k.select(".domain").remove()),n!==void 0&&w.append("text").attr("x",u).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(n),w.node()}var _y=Math.PI/180;function pa(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=RV(n),e.markerMid=RV(r),e.markerEnd=RV(i)}function RV(e){if(e==null||e===!1)return null;if(e===!0)return UQ;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return VQ("auto");case"arrow-reverse":return VQ("auto-start-reverse");case"dot":return Axe;case"circle":case"circle-fill":return UQ;case"circle-stroke":return Oxe;case"tick":return PV("auto");case"tick-x":return PV(90);case"tick-y":return PV(0)}throw new Error(`invalid marker: ${e}`)}function VQ(e){return(t,n)=>Ee("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function Axe(e,t){return Ee("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function UQ(e,t){return Ee("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function Oxe(e,t){return Ee("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function PV(e){return(t,n)=>Ee("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(r=>r.append("path").attr("d","M0,-3v6")).node()}var Nxe=0;function pu(e,t,{stroke:n},r){return zQ(e,t,n&&(i=>n[i]),null,r)}function jQ(e,t,{stroke:n,z:r},i){return zQ(e,t,n&&(([o])=>n[o]),r,i)}var LV=1,$Q=2;function Rxe(e,t){let n=new Uint8Array(t.length),r=e.data().filter(o=>o.length>1),i=r.length;for(let o=0,s=gM;o<i;++o){let a=r[o];if(a.length>1){let c=a[0];s!==(s=Is(t[c]))&&(n[c]|=LV)}}for(let o=i-1,s=gM;o>=0;--o){let a=r[o];if(a.length>1){let c=a[0];s!==(s=Is(t[c]))&&(n[c]|=$Q)}}return([o])=>n[o]}function zQ(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},o=()=>i,s,a){if(!t&&!n&&!r)return;let c=new Map,u=s&&Rxe(e,s);function f(h,p,m){return function(y){if(m&&!m(y))return;let v=o(y),b=c.get(p);b||c.set(p,b=new Map);let x=b.get(v);if(!x){let w=this.parentNode.insertBefore(p(v,a),this),D=`plot-marker-${++Nxe}`;w.setAttribute("id",D),b.set(v,x=`url(#${D})`)}this.setAttribute(h,x)}}t&&e.each(f("marker-start",t,u&&(h=>u(h)&LV))),n&&u&&e.each(f("marker-start",n,h=>!(u(h)&LV))),n&&e.each(f("marker-mid",n)),r&&e.each(f("marker-end",r,u&&(h=>u(h)&$Q)))}function np(i={}){var o=i,{inset:e,insetLeft:t,insetRight:n}=o,r=Y(o,["inset","insetLeft","insetRight"]);return[t,n]=HQ(e,t,n),E({inset:e,insetLeft:t,insetRight:n},r)}function rp(i={}){var o=i,{inset:e,insetTop:t,insetBottom:n}=o,r=Y(o,["inset","insetTop","insetBottom"]);return[t,n]=HQ(e,t,n),E({inset:e,insetTop:t,insetBottom:n},r)}function HQ(e,t,n){return e===void 0&&t===void 0&&n===void 0?Wn?[1,0]:[.5,.5]:[t,n]}function GQ(e,{interval:t}){return e=E({},Es(e)),e.interval=sy(e.interval===void 0?t:e.interval),e}function bM(e,t,n,r){let{[e]:i,[`${e}1`]:o,[`${e}2`]:s}=n,{value:a,interval:c}=GQ(i,n);if(a==null||c==null&&!r)return n;let u=gi(i);if(c==null){let m,y={transform:v=>m||(m=ke(v,a)),label:u};return V(E({},n),{[e]:void 0,[`${e}1`]:o===void 0?y:o,[`${e}2`]:s===void 0&&!(o===s&&r)?y:s})}let f,h;function p(m){return h!==void 0&&m===f?h:h=Ot(ke(f=m,a),y=>c.floor(y))}return t(V(E({},n),{[e]:void 0,[`${e}1`]:o===void 0?{transform:p,label:u}:o,[`${e}2`]:s===void 0?{transform:m=>p(m).map(y=>c.offset(y)),label:u}:s}))}function qQ(e,t,n){let{[e]:r}=n,{value:i,interval:o}=GQ(r,n);return i==null||o==null?n:t(V(E({},n),{[e]:{label:gi(r),transform:s=>{let a=Ot(ke(s,i),u=>o.floor(u)),c=a.map(u=>o.offset(u));return a.map(Gn(a)?(u,f)=>u==null||isNaN(u=+u)||(f=c[f],f==null)||isNaN(f=+f)?void 0:new Date((u+f)/2):(u,f)=>u==null||(f=c[f],f==null)?NaN:(+u+ +f)/2)}}}))}function kV(e={}){return bM("x",np,e,!0)}function FV(e={}){return bM("y",rp,e,!0)}function vy(e={}){return bM("x",np,e)}function by(e={}){return bM("y",rp,e)}function xM(e={}){return qQ("x",np,e)}function wM(e={}){return qQ("y",rp,e)}var WQ={ariaLabel:"rule",fill:null,stroke:"currentColor"},h1=class extends ze{constructor(t,n={}){let{x:r,y1:i,y2:o,inset:s=0,insetTop:a=s,insetBottom:c=s}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},ha(n,"x"),WQ),this.insetTop=Ut(a),this.insetBottom=Ut(c),pa(this,n)}render(t,n,r,i,o){let{x:s,y:a}=n,{x:c,y1:u,y2:f}=r,{width:h,height:p,marginTop:m,marginRight:y,marginLeft:v,marginBottom:b}=i,{insetTop:x,insetBottom:w}=this;return Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,{x:c&&s},Wn,0).call(D=>D.selectAll().data(t).enter().append("line").call(We,this).attr("x1",c?I=>c[I]:(v+h-y)/2).attr("x2",c?I=>c[I]:(v+h-y)/2).attr("y1",u&&!Wo(a)?I=>u[I]+x:m+x).attr("y2",f&&!Wo(a)?a.bandwidth?I=>f[I]+a.bandwidth()-w:I=>f[I]-w:p-b-w).call(Tt,this,r).call(pu,this,r,o)).node()}},p1=class extends ze{constructor(t,n={}){let{x1:r,x2:i,y:o,inset:s=0,insetRight:a=s,insetLeft:c=s}=n;super(t,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},ha(n,"y"),WQ),this.insetRight=Ut(a),this.insetLeft=Ut(c),pa(this,n)}render(t,n,r,i,o){let{x:s,y:a}=n,{y:c,x1:u,x2:f}=r,{width:h,height:p,marginTop:m,marginRight:y,marginLeft:v,marginBottom:b}=i,{insetLeft:x,insetRight:w}=this;return Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,{y:c&&a},0,Wn).call(D=>D.selectAll().data(t).enter().append("line").call(We,this).attr("x1",u&&!Wo(s)?I=>u[I]+x:v+x).attr("x2",f&&!Wo(s)?s.bandwidth?I=>f[I]+s.bandwidth()-w:I=>f[I]-w:h-y-w).attr("y1",c?I=>c[I]:(m+p-b)/2).attr("y2",c?I=>c[I]:(m+p-b)/2).call(Tt,this,r).call(pu,this,r,o)).node()}};function Nr(e,t){let a=by(t),{x:n=pe,y:r,y1:i,y2:o}=a,s=Y(a,["x","y","y1","y2"]);return[i,o]=YQ(r,i,o),new h1(e,V(E({},s),{x:n,y1:i,y2:o}))}function Rr(e,t){let a=vy(t),{y:n=pe,x:r,x1:i,x2:o}=a,s=Y(a,["y","x","x1","x2"]);return[i,o]=YQ(r,i,o),new p1(e,V(E({},s),{y:n,x1:i,x2:o}))}function YQ(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function ma(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let o=0;o<n;++o)i+=t[o](r)+e[o+1];return i}}var Pxe={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},JQ="\xAD",op=class extends ze{constructor(t,n={}){let{x:r,y:i,text:o=ro(t)&&WC(t)?pe:mn,frameAnchor:s,textAnchor:a=/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle",lineAnchor:c=/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle",lineHeight:u=1,lineWidth:f=1/0,textOverflow:h,monospace:p,fontFamily:m=p?"ui-monospace, monospace":void 0,fontSize:y,fontStyle:v,fontVariant:b,fontWeight:x,rotate:w}=n,[D,I]=Kt(w,0),[A,T]=Bxe(y);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:A,optional:!0},rotate:{value:nX(D),optional:!0},text:{value:o,filter:Yb,optional:!0}},n,Pxe),this.rotate=I,this.textAnchor=wn(a,"middle"),this.lineAnchor=Ar(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+f,this.textOverflow=VV(h),this.monospace=!!p,this.fontFamily=ar(m),this.fontSize=T,this.fontStyle=ar(v),this.fontVariant=ar(b),this.fontWeight=ar(x),this.frameAnchor=Tc(s),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${f}`);this.splitLines=jV(this),this.clipLine=$V(this)}render(t,n,r,i,o){let{x:s,y:a}=n,{x:c,y:u,rotate:f,text:h,title:p,fontSize:m}=r,{rotate:y}=this,[v,b]=Kr(this,i);return Ee("svg:g",o).call(rt,this,i,o).call(UV,this,h,i).call(Qe,this,{x:c&&s,y:u&&a}).call(x=>x.selectAll().data(t).enter().append("text").call(We,this).call(Lxe,this,h,p).attr("transform",ma`translate(${c?w=>c[w]:v},${u?w=>u[w]:b})${f?w=>` rotate(${f[w]})`:y?` rotate(${y})`:""}`).call(Ne,"font-size",m&&(w=>m[w])).call(Tt,this,r)).node()}};function VV(e){return e==null?null:Ar(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function Lxe(e,t,n,r){if(!n)return;let{lineAnchor:i,lineHeight:o,textOverflow:s,splitLines:a,clipLine:c}=t;e.each(function(u){let f=a(Nc(n[u])??"").map(c),h=f.length,p=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1){let m=0;for(let y=0;y<h;++y){if(++m,!f[y])continue;let v=this.ownerDocument.createElementNS(Wi.svg,"tspan");v.setAttribute("x",0),y===m-1?v.setAttribute("y",`${(p+y)*o}em`):v.setAttribute("dy",`${m*o}em`),v.textContent=f[y],this.appendChild(v),m=0}}else p&&this.setAttribute("y",`${p*o}em`),this.textContent=f[0];if(s&&!r&&f[0]!==n[u]){let m=this.ownerDocument.createElementNS(Wi.svg,"title");m.textContent=n[u],this.appendChild(m)}})}function Ri(e,i={}){var o=i,{x:t,y:n}=o,r=Y(o,["x","y"]);return r.frameAnchor===void 0&&([t,n]=nr(t,n)),new op(e,V(E({},r),{x:t,y:n}))}function DM(e,r={}){var i=r,{x:t=pe}=i,n=Y(i,["x"]);return new op(e,wM(V(E({},n),{x:t})))}function SM(e,r={}){var i=r,{y:t=pe}=i,n=Y(i,["y"]);return new op(e,xM(V(E({},n),{y:t})))}function UV(e,t,n){Ne(e,"text-anchor",t.textAnchor),Ne(e,"font-family",t.fontFamily),Ne(e,"font-size",t.fontSize),Ne(e,"font-style",t.fontStyle),Ne(e,"font-variant",t.fontVariant===void 0?kxe(n):t.fontVariant),Ne(e,"font-weight",t.fontWeight)}function kxe(e){return e&&(su(e)||Gn(e))?"tabular-nums":void 0}var Fxe=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function Bxe(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),Fxe.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function Vxe(e,t,n){let r=[],i,o=0;for(let[s,a,c]of Uxe(e)){if(i===void 0&&(i=s),o>i&&n(e,i,a)>t&&(r.push(e.slice(i,o)+(e[o-1]===JQ?"-":"")),i=s),c){r.push(e.slice(i,a)),i=void 0;continue}o=a}return r}function*Uxe(e){let t=0,n=0,r=e.length;for(;n<r;){let i=1;switch(e[n]){case JQ:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}var ZQ={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"\u2018":31,"\u2019":31,"\u201C":47,"\u201D":47,"\u2026":82};function IM(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=xy(e,i))r+=ZQ[e[i]]??(tK(e,i)?120:ZQ.e);return r}function EM(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=xy(e,i))r+=tK(e,i)?126:63;return r}function jV({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return o=>o.split(/\r\n?|\n/g);let r=e?EM:IM,i=t*100;return o=>Vxe(o,i,r)}function $V({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return o=>o;let r=e?EM:IM,i=t*100;switch(n){case"clip-start":return o=>QQ(o,i,r,"");case"clip-end":return o=>XQ(o,i,r,"");case"ellipsis-start":return o=>QQ(o,i,r,ip);case"ellipsis-middle":return o=>jxe(o,i,r,ip);case"ellipsis-end":return o=>XQ(o,i,r,ip)}}var ip="\u2026";function sp(e,t,n,r){let i=[],o=0;for(let s=0,a=0,c=e.length;s<c;s=a){a=xy(e,s);let u=n(e,s,a);if(o+u>t){for(o+=r;o>t&&s>0;)a=s,s=i.pop(),o-=n(e,s,a);return[s,t-o]}o+=u,i.push(s)}return[-1,0]}function XQ(e,t,n,r){e=e.trim();let i=n(r),[o]=sp(e,t,n,i);return o<0?e:e.slice(0,o).trimEnd()+r}function jxe(e,t,n,r){e=e.trim();let i=n(e);if(i<=t)return e;let o=n(r)/2,[s,a]=sp(e,t/2,n,o),[c]=sp(e,i-t/2-a+o,n,-o);return c<0?r:e.slice(0,s).trimEnd()+r+e.slice(xy(e,c)).trimStart()}function QQ(e,t,n,r){e=e.trim();let i=n(e);if(i<=t)return e;let o=n(r),[s]=sp(e,i-t+o,n,-o);return s<0?r:r+e.slice(xy(e,s)).trimStart()}var BV=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,KQ=new RegExp("\\p{Extended_Pictographic}","uy");function xy(e,t){return t+=$xe(e,t)?2:1,Hxe(e,t)&&(t=BV.lastIndex),zxe(e,t)?xy(e,t+1):t}function eK(e,t){return e.charCodeAt(t)<128}function $xe(e,t){let n=e.charCodeAt(t);if(n>=55296&&n<56320){let r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function zxe(e,t){return e.charCodeAt(t)===8205}function Hxe(e,t){return eK(e,t)?!1:(BV.lastIndex=t,BV.test(e))}function tK(e,t){return eK(e,t)?!1:(KQ.lastIndex=t,KQ.test(e))}var nK={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},rK=3.5,Gxe=rK*5,iK={draw(e,t,n){let r=t*n/Gxe;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},oK={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},qxe=new Map([["arrow",iK],["spike",oK]]);function Wxe(e){return e&&typeof e.draw=="function"}function Yxe(e){if(Wxe(e))return e;let t=qxe.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}var ap=class extends ze{constructor(t,n={}){let{x:r,y:i,r:o=rK,length:s,rotate:a,shape:c=iK,anchor:u="middle",frameAnchor:f}=n,[h,p]=Kt(s,12),[m,y]=Kt(a,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:m,optional:!0}},n,nK),this.r=+o,this.length=p,this.rotate=y,this.shape=Yxe(c),this.anchor=Ar(u,"anchor",["start","middle","end"]),this.frameAnchor=Tc(f)}render(t,n,r,i,o){let{x:s,y:a}=n,{x:c,y:u,length:f,rotate:h}=r,{length:p,rotate:m,anchor:y,shape:v,r:b}=this,[x,w]=Kr(this,i);return Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,{x:c&&s,y:u&&a}).call(D=>D.selectAll().data(t).enter().append("path").call(We,this).attr("transform",ma`translate(${c?I=>c[I]:x},${u?I=>u[I]:w})${h?I=>` rotate(${h[I]})`:m?` rotate(${m})`:""}${y==="start"?"":y==="end"?f?I=>` translate(0,${f[I]})`:` translate(0,${p})`:f?I=>` translate(0,${f[I]/2})`:` translate(0,${p/2})`}`).attr("d",f?I=>{let A=Xi();return v.draw(A,f[I],b),A}:(()=>{let I=Xi();return v.draw(I,p,b),I})()).call(Tt,this,r)).node()}};function zV(e,t={}){let o=t,{x:n,y:r}=o,i=Y(o,["x","y"]);return t.frameAnchor===void 0&&([n,r]=nr(n,r)),new ap(e,V(E({},i),{x:n,y:r}))}function TM(e,t={}){let i=t,{x:n=pe}=i,r=Y(i,["x"]);return new ap(e,V(E({},r),{x:n}))}function CM(e,t={}){let i=t,{y:n=pe}=i,r=Y(i,["y"]);return new ap(e,V(E({},r),{y:n}))}function sK(e,t={}){let u=t,{shape:n=oK,stroke:r=nK.stroke,strokeWidth:i=1,fill:o=r,fillOpacity:s=.3,anchor:a="start"}=u,c=Y(u,["shape","stroke","strokeWidth","fill","fillOpacity","anchor"]);return zV(e,V(E({},c),{shape:n,stroke:r,strokeWidth:i,fill:o,fillOpacity:s,anchor:a}))}function td(e,t){return arguments.length<2&&!ro(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function MM({anchor:e}={},t){return e===void 0?t[0]:Ar(e,"anchor",t)}function aK(e){return MM(e,["left","right"])}function cK(e){return MM(e,["right","left"])}function lK(e){return MM(e,["bottom","top"])}function uK(e){return MM(e,["top","bottom"])}function m1(){let[e,t]=td(...arguments);return fK("y",aK(t),e,t)}function AM(){let[e,t]=td(...arguments);return fK("fy",cK(t),e,t)}function g1(){let[e,t]=td(...arguments);return dK("x",lK(t),e,t)}function OM(){let[e,t]=td(...arguments);return dK("fx",uK(t),e,t)}function fK(e,t,n,k){var H=k,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:s=i,strokeWidth:a=1,fill:c=r,fillOpacity:u=i,textAnchor:f,textStroke:h,textStrokeOpacity:p,textStrokeWidth:m,tickSize:y=e==="y"?6:0,tickPadding:v,tickRotate:b,x,margin:w,marginTop:D=w===void 0?20:w,marginRight:I=w===void 0?t==="right"?40:0:w,marginBottom:A=w===void 0?20:w,marginLeft:T=w===void 0?t==="left"?40:0:w,label:N,labelAnchor:B,labelArrow:R,labelOffset:P}=H,O=Y(H,["color","opacity","stroke","strokeOpacity","strokeWidth","fill","fillOpacity","textAnchor","textStroke","textStrokeOpacity","textStrokeWidth","tickSize","tickPadding","tickRotate","x","margin","marginTop","marginRight","marginBottom","marginLeft","label","labelAnchor","labelArrow","labelOffset"]);return y=Ut(y),v=Ut(v),b=Ut(b),B!==void 0&&(B=Ar(B,"labelAnchor",["center","top","bottom"])),R=bK(R),wr(y&&!Zt(o)?Zxe(e,t,n,E({stroke:o,strokeOpacity:s,strokeWidth:a,tickSize:y,tickPadding:v,tickRotate:b,x},O)):null,Zt(c)?null:Qxe(e,t,n,E({fill:c,fillOpacity:u,stroke:h,strokeOpacity:p,strokeWidth:m,textAnchor:f,tickSize:y,tickPadding:v,tickRotate:b,x,marginTop:D,marginRight:I,marginBottom:A,marginLeft:T},O)),!Zt(c)&&N!==null?Ri([],gK(E({fill:c,fillOpacity:u},O),function(U,C,F,W,G){let q=W[e],{marginTop:K,marginRight:X,marginBottom:J,marginLeft:re}=e==="y"&&G.inset||G,te=B??(q.bandwidth?"center":"top"),le=P??(t==="right"?X:re)-3;return te==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=te,this.frameAnchor=`${te}-${t}`,this.rotate=0),this.dy=te==="top"?3-K:te==="bottom"?J-3:0,this.dx=t==="right"?le:-le,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[vK(e,q,{anchor:t,label:N,labelAnchor:te,labelArrow:R})]}}}})):null)}function dK(e,t,n,k){var H=k,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:s=i,strokeWidth:a=1,fill:c=r,fillOpacity:u=i,textAnchor:f,textStroke:h,textStrokeOpacity:p,textStrokeWidth:m,tickSize:y=e==="x"?6:0,tickPadding:v,tickRotate:b,y:x,margin:w,marginTop:D=w===void 0?t==="top"?30:0:w,marginRight:I=w===void 0?20:w,marginBottom:A=w===void 0?t==="bottom"?30:0:w,marginLeft:T=w===void 0?20:w,label:N,labelAnchor:B,labelArrow:R,labelOffset:P}=H,O=Y(H,["color","opacity","stroke","strokeOpacity","strokeWidth","fill","fillOpacity","textAnchor","textStroke","textStrokeOpacity","textStrokeWidth","tickSize","tickPadding","tickRotate","y","margin","marginTop","marginRight","marginBottom","marginLeft","label","labelAnchor","labelArrow","labelOffset"]);return y=Ut(y),v=Ut(v),b=Ut(b),B!==void 0&&(B=Ar(B,"labelAnchor",["center","left","right"])),R=bK(R),wr(y&&!Zt(o)?Xxe(e,t,n,E({stroke:o,strokeOpacity:s,strokeWidth:a,tickSize:y,tickPadding:v,tickRotate:b,y:x},O)):null,Zt(c)?null:Kxe(e,t,n,E({fill:c,fillOpacity:u,stroke:h,strokeOpacity:p,strokeWidth:m,textAnchor:f,tickSize:y,tickPadding:v,tickRotate:b,y:x,marginTop:D,marginRight:I,marginBottom:A,marginLeft:T},O)),!Zt(c)&&N!==null?Ri([],gK(E({fill:c,fillOpacity:u},O),function(U,C,F,W,G){let q=W[e],{marginTop:K,marginRight:X,marginBottom:J,marginLeft:re}=e==="x"&&G.inset||G,te=B??(q.bandwidth?"center":"right"),le=P??(t==="top"?K:J)-3;return te==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${te}`,this.textAnchor=te==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-le:le,this.dx=te==="right"?X-3:te==="left"?3-re:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[vK(e,q,{anchor:t,label:N,labelAnchor:te,labelArrow:R})]}}}})):null)}function Zxe(e,t,n,v){var b=v,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:s=t+(e==="y"?"-empty":""),frameAnchor:a=t,tickSize:c,inset:u=0,insetLeft:f=u,insetRight:h=u,dx:p=0,y:m=e==="y"?void 0:null}=b,y=Y(b,["strokeWidth","strokeLinecap","strokeLinejoin","facetAnchor","frameAnchor","tickSize","inset","insetLeft","insetRight","dx","y"]);return wy(CM,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},V(E({strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:s,frameAnchor:a,y:m},y),{dx:t==="left"?+p-Wn+ +f:+p+Wn-h,anchor:"start",length:c,shape:t==="left"?nwe:rwe}))}function Xxe(e,t,n,v){var b=v,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:s=t+(e==="x"?"-empty":""),frameAnchor:a=t,tickSize:c,inset:u=0,insetTop:f=u,insetBottom:h=u,dy:p=0,x:m=e==="x"?void 0:null}=b,y=Y(b,["strokeWidth","strokeLinecap","strokeLinejoin","facetAnchor","frameAnchor","tickSize","inset","insetTop","insetBottom","dy","x"]);return wy(TM,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},V(E({strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:s,frameAnchor:a,x:m},y),{dy:t==="bottom"?+p-Wn-h:+p+Wn+ +f,anchor:"start",length:c,shape:t==="bottom"?ewe:twe}))}function Qxe(e,t,n,w){var D=w,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:s=0,tickPadding:a=Math.max(3,9-o)+(Math.abs(s)>60?4*Math.cos(s*_y):0),text:c,textAnchor:u=Math.abs(s)>60?"middle":t==="left"?"end":"start",lineAnchor:f=s>60?"top":s<-60?"bottom":"middle",fontVariant:h,inset:p=0,insetLeft:m=p,insetRight:y=p,dx:v=0,y:b=e==="y"?void 0:null}=D,x=Y(D,["facetAnchor","frameAnchor","tickSize","tickRotate","tickPadding","text","textAnchor","lineAnchor","fontVariant","inset","insetLeft","insetRight","dx","y"]);return wy(SM,e,n,{ariaLabel:`${e}-axis tick label`},V(E({facetAnchor:r,frameAnchor:i,text:c,textAnchor:u,lineAnchor:f,fontVariant:h,rotate:s,y:b},x),{dx:t==="left"?+v-o-a+ +m:+v+ +o+ +a-y}),function(I,A,T,N,B){h===void 0&&(this.fontVariant=_K(I)),c===void 0&&(B.text=yK(I,A,T,N,t))})}function Kxe(e,t,n,w){var D=w,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:s=0,tickPadding:a=Math.max(3,9-o)+(Math.abs(s)>=10?4*Math.cos(s*_y):0),text:c,textAnchor:u=Math.abs(s)>=10?s<0^t==="bottom"?"start":"end":"middle",lineAnchor:f=Math.abs(s)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:h,inset:p=0,insetTop:m=p,insetBottom:y=p,dy:v=0,x:b=e==="x"?void 0:null}=D,x=Y(D,["facetAnchor","frameAnchor","tickSize","tickRotate","tickPadding","text","textAnchor","lineAnchor","fontVariant","inset","insetTop","insetBottom","dy","x"]);return wy(DM,e,n,{ariaLabel:`${e}-axis tick label`},V(E({facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:u,lineAnchor:f,fontVariant:h,rotate:s,x:b},x),{dy:t==="bottom"?+v+ +o+ +a-y:+v-o-a+ +m}),function(I,A,T,N,B){h===void 0&&(this.fontVariant=_K(I)),c===void 0&&(B.text=yK(I,A,T,N,t))})}function NM(){let[e,t]=td(...arguments);return hK("y",aK(t),e,t)}function RM(){let[e,t]=td(...arguments);return hK("fy",cK(t),e,t)}function PM(){let[e,t]=td(...arguments);return pK("x",lK(t),e,t)}function LM(){let[e,t]=td(...arguments);return pK("fx",uK(t),e,t)}function hK(e,t,n,c){var u=c,{y:r=e==="y"?void 0:null,x:i=null,x1:o=t==="left"?i:null,x2:s=t==="right"?i:null}=u,a=Y(u,["y","x","x1","x2"]);return wy(Rr,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},E({y:r,x1:o,x2:s},mK(a)))}function pK(e,t,n,c){var u=c,{x:r=e==="x"?void 0:null,y:i=null,y1:o=t==="top"?i:null,y2:s=t==="bottom"?i:null}=u,a=Y(u,["x","y","y1","y2"]);return wy(Nr,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},E({x:r,y1:o,y2:s},mK(a)))}function mK(s){var a=s,{color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1}=a,o=Y(a,["color","opacity","stroke","strokeOpacity","strokeWidth"]);return E({stroke:n,strokeOpacity:r,strokeWidth:i},o)}function gK({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:s,monospace:a,pointerEvents:c,shapeRendering:u,clip:f=!1},h){return[,e]=Hn(e),[,t]=Kt(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:s,monospace:a,pointerEvents:c,shapeRendering:u,clip:f,initializer:h}}function wy(e,t,n,r,i,o){let s;function a(f,h,p,m,y,v){let b=f==null&&(t==="fx"||t==="fy"),{[t]:x}=m;if(!x)throw new Error(`missing scale: ${t}`);let w=x.domain(),{interval:D,ticks:I,tickFormat:A,tickSpacing:T=t==="x"?80:35}=i;if(typeof I=="string"&&xK(x)&&(D=I,I=void 0),I===void 0&&(I=Ec(D,x.type)??Jxe(x,T)),f==null){if(ro(I))f=Ho(I);else if(Wf(I))f=HV(I,...qt(w));else if(x.interval){let B=x.interval;if(x.ticks){let[R,P]=qt(w),O=(P-R)/B[ny];B=N4(B,O/I)??B,f=HV(B,R,P)}else{f=w;let R=f.length;B=N4(B,R/I)??B,B!==x.interval&&(f=HV(B,...qt(f)))}if(B===x.interval){let R=Math.round(f.length/I);R>1&&(f=f.filter((P,O)=>O%R===0))}}else x.ticks?f=x.ticks(I):f=w;if(!x.ticks&&f.length&&f!==w){let B=new yo(w);f=f.filter(R=>B.has(R)),f.length||Ni(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?h=[no(f)]:s[t]={scale:t,value:pe}}o?.call(this,x,f,I,A,s);let N=Object.fromEntries(Object.entries(s).map(([B,R])=>[B,V(E({},R),{value:ke(f,R.value)})]));return b&&(h=v.filterFacets(f,N)),{data:f,facets:h,channels:N}}let c=xn(i).initializer,u=e(n,xn(V(E({},i),{initializer:a}),c));return n==null?(s=u.channels,u.channels={}):s={},r!==void 0&&Object.assign(u,r),u.clip===void 0&&(u.clip=!1),u}function Jxe(e,t){let[n,r]=qt(e.range());return(r-n)/t}function yK(e,t,n,r,i){return{value:y1(e,t,n,r,i)}}function y1(e,t,n,r,i){return typeof r=="function"&&!(e.type==="log"&&e.tickFormat)?r:r===void 0&&t&&Gn(t)?YZ(e.type,t,i)??Nc:e.tickFormat?e.tickFormat(typeof n=="number"?n:null,r):r===void 0?Nc:typeof r=="string"?(Gn(e.domain())?xc:vs)(r):qn(r)}function HV(e,t,n){return e.range(t,e.offset(e.floor(n)))}var ewe={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},twe={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},nwe={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},rwe={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function _K(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function vK(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&xK(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!o)return r;if(o===!0){let s=cM(t);s&&(o=/x$/.test(e)||i==="center"?/x$/.test(e)===s<0?"left":"right":s<0?"up":"down")}switch(o){case"left":return`\u2190 ${r}`;case"right":return`${r} \u2192`;case"up":return n==="right"?`${r} \u2191`:`\u2191 ${r}`;case"down":return n==="right"?`${r} \u2193`:`\u2193 ${r}`}return r}}function bK(e="auto"){return Zt(e)?!1:typeof e=="boolean"?e:Ar(e,"labelArrow",["auto","up","right","down","left"])}function xK(e){return Gn(e.domain())}function wK(e,t){if(t==null)return t;let n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function DK(e,r={}){var i=r,{opacity:t}=i,n=Y(i,["opacity"]);if(!Ac(e)&&!_V(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return IK(e,n,(o,s,a,c)=>o.append("svg").attr("width",a).attr("height",c).attr("fill",s.scale).attr("fill-opacity",Kt(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function SK(e,u={},c){var f=u,{fill:t=e.hint?.fill!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=e.hint?.stroke!==void 0?e.hint.stroke:Zt(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:s=4.5}=f,a=Y(f,["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","r"]);let[h,p]=Hn(t),[m,y]=Hn(r),v=wK(c,h),b=wK(c,m),x=s*s*Math.PI;return n=Kt(n)[1],i=Kt(i)[1],o=Kt(o)[1],IK(e,a,(w,D,I,A)=>w.append("svg").attr("viewBox","-8 -8 16 16").attr("width",I).attr("height",A).attr("fill",h==="color"?T=>v.scale(T):p).attr("fill-opacity",n).attr("stroke",m==="color"?T=>b.scale(T):y).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",T=>{let N=Xi();return e.scale(T).draw(N,x),N}))}function IK(e,t={},n){let{columns:r,tickFormat:i,fontVariant:o=vM(e),swatchSize:s=15,swatchWidth:a=s,swatchHeight:c=s,marginLeft:u=0,className:f,style:h,width:p}=t,m=Kf(t);f=ed(f),i=y1(e.scale,e.domain,void 0,i);let y=Ee("div",m).attr("class",`${f}-swatches ${f}-swatches-${r!=null?"columns":"wrap"}`),v;return r!=null?(v=`:where(.${f}-swatches-columns .${f}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${f}-swatches-columns .${f}-swatch::before) {
  flex-shrink: 0;
}
:where(.${f}-swatches-columns .${f}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,y.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${f}-swatch`).call(n,e,a,c).call(b=>b.append("div").attr("class",`${f}-swatch-label`).attr("title",i).text(i))):(v=`:where(.${f}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${f}-swatches-wrap .${f}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,y.selectAll().data(e.domain).enter().append("span").attr("class",`${f}-swatch`).call(n,e,a,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),y.call(b=>b.insert("style","*").text(`:where(.${f}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${f}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${v}`)).style("margin-left",u?`${+u}px`:null).style("width",p===void 0?null:`${+p}px`).style("font-variant",wn(o,"normal")).call(yy,h).node()}var kM=new Map([["symbol",SK],["color",CK],["opacity",iwe]]);function EK(e={}){for(let[t,n]of kM){let r=e[t];if(Sc(r)){let i=Kf(e),o;if(t==="symbol"){let{fill:s,stroke:a=s===void 0&&Sc(e.color)?"color":void 0}=e;o={fill:s,stroke:a}}return n(uM(t,r,o),GV(i,r,e),s=>Sc(e[s])?uM(s,e[s]):null)}}throw new Error("unknown legend type; no scale found")}function TK(e,t,n={}){return(r,i)=>{if(!kM.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return kM.get(r)(e[r],GV(t,n[r],i),o=>e[o])}}function GV(s,{label:n,ticks:r,tickFormat:i}={},o){var a=s,{className:e}=a,t=Y(a,["className"]);return cX(o,E({className:e},t),{label:n,ticks:r,tickFormat:i})}function CK(e,r){var i=r,{legend:t=!0}=i,n=Y(i,["legend"]);if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return DK(e,n);case"ramp":return BQ(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function iwe(s,c){var a=s,{type:e,interpolate:t}=a,n=Y(a,["type","interpolate"]);var u=c,{legend:r=!0,color:i=Si(0,0,0)}=u,o=Y(u,["legend","color"]);if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return CK(V(E({type:e},n),{interpolate:owe(i)}),E({legend:r},o))}function owe(e){let{r:t,g:n,b:r}=Si(e)||Si(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function MK(e,t,n){let r=[];for(let[i,o]of kM){let s=n[i];if(s?.legend&&i in e){let a=o(e[i],GV(t,e[i],s),c=>e[c]);a!=null&&r.push(a)}}return r}function nd(e={}){return j4(e)?e:V(E({},e),{x:pe})}function rd(e={}){return $4(e)?e:V(E({},e),{y:pe})}function FM(e,t){if(t.length===1)return{data:e,facets:t};let n=qf(e),r=new Uint8Array(n),i=0;for(let a of t)for(let c of a)r[c]&&++i,r[c]=1;if(i===0)return{data:e,facets:t};e=Gf(e);let o=e[P4]=new Uint32Array(n+i);t=t.map(a=>Gf(a,Uint32Array));let s=n;r.fill(0);for(let a of t)for(let c=0,u=a.length;c<u;++c){let f=a[c];r[f]?(a[c]=s,e[s]=e[f],o[s]=f,++s):o[f]=f,r[f]=1}return{data:e,facets:t}}function qV(e={},t={}){arguments.length===1&&([e,t]=Dy(e));let f=t,{y1:n,y:r=n,x:i}=f,o=Y(f,["y1","y","x"]),[s,a,c,u]=Sy(r,i,"y","x",e,o);return V(E({},s),{y1:n,y:a,x1:c,x2:u,x:oy(c,u)})}function NK(e={},t={}){arguments.length===1&&([e,t]=Dy(e));let{y1:n,y:r=n,x:i}=t,[o,s,a]=Sy(r,i,"y","x",e,t);return V(E({},o),{y1:n,y:s,x:a})}function RK(e={},t={}){arguments.length===1&&([e,t]=Dy(e));let{y1:n,y:r=n,x:i}=t,[o,s,,a]=Sy(r,i,"y","x",e,t);return V(E({},o),{y1:n,y:s,x:a})}function WV(e={},t={}){arguments.length===1&&([e,t]=Dy(e));let f=t,{x1:n,x:r=n,y:i}=f,o=Y(f,["x1","x","y"]),[s,a,c,u]=Sy(r,i,"x","y",e,o);return V(E({},s),{x1:n,x:a,y1:c,y2:u,y:oy(c,u)})}function PK(e={},t={}){arguments.length===1&&([e,t]=Dy(e));let{x1:n,x:r=n,y:i}=t,[o,s,a]=Sy(r,i,"x","y",e,t);return V(E({},o),{x1:n,x:s,y:a})}function LK(e={},t={}){arguments.length===1&&([e,t]=Dy(e));let{x1:n,x:r=n,y:i}=t,[o,s,,a]=Sy(r,i,"x","y",e,t);return V(E({},o),{x1:n,x:s,y:a})}function id(i={}){var o=i,{x:e,x1:t,x2:n}=o,r=Y(o,["x","x1","x2"]);return r=ha(r,"y"),t===void 0&&n===void 0?qV(E({x:e},r)):([t,n]=z4(e,t,n),V(E({},r),{x1:t,x2:n}))}function od(i={}){var o=i,{y:e,y1:t,y2:n}=o,r=Y(o,["y","y1","y2"]);return r=ha(r,"x"),t===void 0&&n===void 0?WV(E({y:e},r)):([t,n]=z4(e,t,n),V(E({},r),{y1:t,y2:n}))}function Dy(e){let o=e,{offset:t,order:n,reverse:r}=o,i=Y(o,["offset","order","reverse"]);return[{offset:t,order:n,reverse:r},i]}var swe={length:!0};function Sy(e,t=Jb,n,r,{offset:i,order:o,reverse:s},a){if(t===null)throw new Error(`stack requires ${r}`);let c=Oi(a),[u,f]=mi(e),[h,p]=Xr(t),[m,y]=Xr(t);return h.hint=m.hint=swe,i=awe(i),o=uwe(o,i,r),[xr(a,(v,b,x)=>{({data:v,facets:b}=FM(v,b));let w=e==null?void 0:f(Qh(ke(v,e),x?.[n])),D=ke(v,t,Float64Array),I=ke(v,c),A=o&&o(v,w,D,I),T=qf(v),N=p(new Float64Array(T)),B=y(new Float64Array(T)),R=[];for(let P of b){let O=w?Array.from(fi(P,k=>w[k]).values()):[P];if(A)for(let k of O)k.sort(A);for(let k of O){let H=0,U=0;s&&k.reverse();for(let C of k){let F=D[C];F<0?H=B[C]=(N[C]=H)+F:F>0?U=B[C]=(N[C]=U)+F:B[C]=N[C]=U}}R.push(O)}return i&&i(R,N,B,I),{data:v,facets:b}}),u,h,m]}function awe(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return cwe;case"center":case"silhouette":return lwe;case"wiggle":return FK}throw new Error(`unknown offset: ${e}`)}}function kK(e,t){let n=0,r=0;for(let i of e){let o=t[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function cwe(e,t,n){for(let r of e)for(let i of r){let[o,s]=kK(i,n);for(let a of i){let c=1/(s-o||1);t[a]=c*(t[a]-o),n[a]=c*(n[a]-o)}}}function lwe(e,t,n){for(let r of e){for(let i of r){let[o,s]=kK(i,n);for(let a of i){let c=(s+o)/2;t[a]-=c,n[a]-=c}}BK(r,t,n)}VK(e,t,n)}function FK(e,t,n,r){for(let i of e){let o=new Gi,s=0;for(let a of i){let c=-1,u=a.map(m=>Math.abs(n[m]-t[m])),f=a.map(m=>{c=r?r[m]:++c;let y=n[m]-t[m],v=o.has(c)?y-o.get(c):0;return o.set(c,y),v}),h=[0,...RI(f)];for(let m of a)t[m]+=s,n[m]+=s;let p=zr(u);p&&(s-=zr(u,(m,y)=>(f[y]/2+h[y])*m)/p)}BK(i,t,n)}VK(e,t,n)}function BK(e,t,n){let r=$t(e,i=>$t(i,o=>t[o]));for(let i of e)for(let o of i)t[o]-=r,n[o]-=r}function VK(e,t,n){let r=e.length;if(r===1)return;let i=e.map(a=>a.flat()),o=i.map(a=>($t(a,c=>t[c])+Ft(a,c=>n[c]))/2),s=$t(o);for(let a=0;a<r;a++){let c=s-o[a];for(let u of i[a])t[u]+=c,n[u]+=c}}function uwe(e,t,n){if(e===void 0&&t===FK)return AK(Yr);if(e!=null){if(typeof e=="string"){let r=e.startsWith("-"),i=r?Wh:Yr;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return fwe(i);case"z":return dwe(i);case"sum":return hwe(i);case"appearance":return pwe(i);case"inside-out":return AK(i)}return OK(k4(e))}if(typeof e=="function")return(e.length===1?OK:mwe)(e);if(vo(e))return gwe(e);throw new Error(`invalid order: ${e}`)}}function fwe(e){return(t,n,r)=>(i,o)=>e(r[i],r[o])}function dwe(e){return(t,n,r,i)=>(o,s)=>e(i[o],i[s])}function hwe(e){return BM(e,(t,n,r,i)=>fg(no(t),o=>zr(o,s=>r[s]),o=>i[o]))}function pwe(e){return BM(e,(t,n,r,i)=>fg(no(t),o=>n[_h(o,s=>r[s])],o=>i[o]))}function AK(e){return BM(e,(t,n,r,i)=>{let o=no(t),s=fg(o,h=>n[_h(h,p=>r[p])],h=>i[h]),a=oa(o,h=>zr(h,p=>r[p]),h=>i[h]),c=[],u=[],f=0;for(let h of s)f<0?(f+=a.get(h),c.push(h)):(f-=a.get(h),u.push(h));return u.reverse().concat(c)})}function OK(e){return t=>{let n=ke(t,e);return(r,i)=>Yr(n[r],n[i])}}function mwe(e){return t=>vo(t)?(n,r)=>e(t[n],t[r]):(n,r)=>e(t.get(n),t.get(r))}function gwe(e){return BM(Yr,()=>e)}function BM(e,t){return(n,r,i,o)=>{if(!o)throw new Error("missing channel: z");let s=new Gi(t(n,r,i,o).map((a,c)=>[a,c]));return(a,c)=>e(s.get(o[a]),s.get(o[c]))}}var ywe={ariaLabel:"rect"},cp=class extends ze{constructor(t,n={}){let{x1:r,y1:i,x2:o,y2:s}=n;super(t,{x1:{value:r,scale:"x",type:r!=null&&o==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&s==null?"band":void 0,optional:!0},x2:{value:o,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,ywe),_1(this,n),v1(this,n)}render(t,n,r,i,o){let{x:s,y:a}=n,{x1:c,y1:u,x2:f,y2:h}=r,{marginTop:p,marginRight:m,marginBottom:y,marginLeft:v,width:b,height:x}=i,{projection:w}=o,{insetTop:D,insetRight:I,insetBottom:A,insetLeft:T}=this,{rx:N,ry:B,rx1y1:R,rx1y2:P,rx2y1:O,rx2y2:k}=this;(c||f)&&!w&&Wo(s)&&(c=f=null),(u||h)&&!w&&Wo(a)&&(u=h=null);let H=s?.bandwidth?s.bandwidth():0,U=a?.bandwidth?a.bandwidth():0;return Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,{},0,0).call(C=>C.selectAll().data(t).enter().call(R||P||O||k?F=>F.append("path").call(We,this).call(b1,c&&f?W=>c[W]+(f[W]<c[W]?-I:T):c?W=>c[W]+T:v+T,u&&h?W=>u[W]+(h[W]<u[W]?-A:D):u?W=>u[W]+D:p+D,c&&f?W=>f[W]-(f[W]<c[W]?-T:I):c?W=>c[W]+H-I:b-m-I,u&&h?W=>h[W]-(h[W]<u[W]?-D:A):u?W=>u[W]+U-A:x-y-A,this).call(Tt,this,r):F=>F.append("rect").call(We,this).attr("x",c?f?W=>Math.min(c[W],f[W])+T:W=>c[W]+T:v+T).attr("y",u?h?W=>Math.min(u[W],h[W])+D:W=>u[W]+D:p+D).attr("width",c?f?W=>Math.max(0,Math.abs(f[W]-c[W])+H-T-I):H-T-I:b-m-v-I-T).attr("height",u?h?W=>Math.max(0,Math.abs(u[W]-h[W])+U-D-A):U-D-A:x-p-y-D-A).call(Ne,"rx",N).call(Ne,"ry",B).call(Tt,this,r))).node()}};function _1(e,{inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={}){e.insetTop=Ut(n),e.insetRight=Ut(r),e.insetBottom=Ut(i),e.insetLeft=Ut(o)}function v1(e,{r:t,rx:n,ry:r,rx1:i=t,ry1:o=t,rx2:s=t,ry2:a=t,rx1y1:c=i!==void 0?+i:o!==void 0?+o:0,rx1y2:u=i!==void 0?+i:a!==void 0?+a:0,rx2y1:f=s!==void 0?+s:o!==void 0?+o:0,rx2y2:h=s!==void 0?+s:a!==void 0?+a:0}={}){c||u||f||h?(e.rx1y1=c,e.rx1y2=u,e.rx2y1=f,e.rx2y2=h):(e.rx=wn(n,"auto"),e.ry=wn(r,"auto"))}function b1(e,t,n,r,i,o){let{rx1y1:s,rx1y2:a,rx2y1:c,rx2y2:u}=o;typeof t!="function"&&(t=qn(t)),typeof n!="function"&&(n=qn(n)),typeof r!="function"&&(r=qn(r)),typeof i!="function"&&(i=qn(i));let f=Math.max(Math.abs(s+c),Math.abs(a+u)),h=Math.max(Math.abs(s+a),Math.abs(c+u));e.attr("d",p=>{let m=t(p),y=n(p),v=r(p),b=i(p),x=m>v,w=y>b,D=x?v:m,I=x?m:v,A=w?b:y,T=w?y:b,N=Math.min(1,(I-D)/f,(T-A)/h),B=N*(x?w?u:c:w?a:s),R=N*(x?w?a:s:w?u:c),P=N*(x?w?s:a:w?c:u),O=N*(x?w?c:u:w?s:a);return`M${D},${A+UM(B,O)}A${B},${B} 0 0 ${B<0?0:1} ${D+VM(B,O)},${A}H${I-VM(R,P)}A${R},${R} 0 0 ${R<0?0:1} ${I},${A+UM(R,P)}V${T-UM(P,R)}A${P},${P} 0 0 ${P<0?0:1} ${I-VM(P,R)},${T}H${D+VM(O,B)}A${O},${O} 0 0 ${O<0?0:1} ${D},${T-UM(O,B)}Z`})}function VM(e,t){return t<0?e:Math.abs(e)}function UM(e,t){return t<0?Math.abs(e):e}function x1(e,t){return new cp(e,kV(FV(t)))}function Iy(e,t={}){return iu(t)||(t=V(E({},t),{y:mn,x2:pe,interval:1})),new cp(e,id(FV(nd(t))))}function Ey(e,t={}){return iu(t)||(t=V(E({},t),{x:mn,y2:pe,interval:1})),new cp(e,od(kV(rd(t))))}var _we={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},vwe={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1},w1=class extends ze{constructor(t={}){let{anchor:n=null}=t;super(zf,void 0,t,n==null?_we:vwe),this.anchor=U4(n,"anchor",["top","right","bottom","left"]),_1(this,t),n||v1(this,t)}render(t,n,r,i,o){let{marginTop:s,marginRight:a,marginBottom:c,marginLeft:u,width:f,height:h}=i,{anchor:p,insetTop:m,insetRight:y,insetBottom:v,insetLeft:b}=this,{rx:x,ry:w,rx1y1:D,rx1y2:I,rx2y1:A,rx2y2:T}=this,N=u+b,B=f-a-y,R=s+m,P=h-c-v;return Ee(p?"svg:line":D||I||A||T?"svg:path":"svg:rect",o).datum(0).call(rt,this,i,o).call(We,this).call(Tt,this,r).call(Qe,this,{}).call(p==="left"?O=>O.attr("x1",N).attr("x2",N).attr("y1",R).attr("y2",P):p==="right"?O=>O.attr("x1",B).attr("x2",B).attr("y1",R).attr("y2",P):p==="top"?O=>O.attr("x1",N).attr("x2",B).attr("y1",R).attr("y2",R):p==="bottom"?O=>O.attr("x1",N).attr("x2",B).attr("y1",P).attr("y2",P):D||I||A||T?O=>O.call(b1,N,R,B,P,this):O=>O.attr("x",N).attr("y",R).attr("width",B-N).attr("height",P-R).attr("rx",x).attr("ry",w)).node()}};function Ty(e){return new w1(e)}var YV={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},bwe=new Set(["geometry","href","src","ariaLabel","scales"]),D1=class extends ze{constructor(t,n={}){n.tip&&(n=V(E({},n),{tip:!1})),n.title===void 0&&ro(t)&&WC(t)&&(n=V(E({},n),{title:pe}));let{x:r,y:i,x1:o,x2:s,y1:a,y2:c,anchor:u,preferredAnchor:f="bottom",monospace:h,fontFamily:p=h?"ui-monospace, monospace":void 0,fontSize:m,fontStyle:y,fontVariant:v,fontWeight:b,lineHeight:x=1,lineWidth:w=20,frameAnchor:D,format:I,textAnchor:A="start",textOverflow:T,textPadding:N=8,title:B,pointerSize:R=12,pathFilter:P="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:o!=null&&s!=null?null:r,scale:"x",optional:!0},y:{value:a!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:s==null},y1:{value:a,scale:"y",optional:c==null},x2:{value:s,scale:"x",optional:o==null},y2:{value:c,scale:"y",optional:a==null},title:{value:B,optional:!0}},n,YV),this.anchor=ZC(u,"anchor"),this.preferredAnchor=ZC(f,"preferredAnchor"),this.frameAnchor=Tc(D),this.textAnchor=wn(A,"middle"),this.textPadding=+N,this.pointerSize=+R,this.pathFilter=ar(P),this.lineHeight=+x,this.lineWidth=+w,this.textOverflow=VV(T),this.monospace=!!h,this.fontFamily=ar(p),this.fontSize=Ut(m),this.fontStyle=ar(y),this.fontVariant=ar(v),this.fontWeight=ar(b);for(let O in YV)O in this.channels&&(this[O]=YV[O]);this.splitLines=jV(this),this.clipLine=$V(this),this.format=typeof I=="string"||typeof I=="function"?{title:I}:E({},I)}render(t,n,r,i,o){let s=this,{x:a,y:c,fx:u,fy:f}=n,{ownerSVGElement:h,document:p}=o,{anchor:m,monospace:y,lineHeight:v,lineWidth:b}=this,{textPadding:x,pointerSize:w,pathFilter:D}=this,{marginTop:I,marginLeft:A}=i,{x1:T,y1:N,x2:B,y2:R,x:P=T??B,y:O=N??R}=r,k=u?u(t.fx)-A:0,H=f?f(t.fy)-I:0,[U,C]=Kr(this,i),F=OV(r,U),W=NV(r,C),G=y?EM:IM,q=G(ip),K,X;"title"in r?(K=UK.call(this,{title:r.channels.title},n),X=Swe):(K=UK.call(this,r.channels,n),X=Iwe);let J=Ee("svg:g",o).call(rt,this,i,o).call(UV,this).call(Qe,this,{x:P&&a,y:O&&c}).call(le=>le.selectAll().data(t).enter().append("g").attr("transform",he=>`translate(${Math.round(F(he))},${Math.round(W(he))})`).call(We,this).call(he=>he.append("path").attr("filter",D)).call(he=>he.append("text").each(function(me){let at=ln(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");let ee=X.call(s,me,t,K,n,r);if(typeof ee=="string")for(let ue of s.splitLines(ee))re(at,{value:s.clipLine(ue)});else{let ue=new Set;for(let fe of ee){let{label:ne=""}=fe;ne&&ue.has(ne)||(ue.add(ne),re(at,fe))}}})));function re(le,{label:he,value:me,color:at,opacity:ee}){he??="",me??="";let ue=at!=null||ee!=null,fe,ne=b*100,[Je]=sp(he,ne,G,q);if(Je>=0)he=he.slice(0,Je).trimEnd()+ip,fe=me.trim(),me="";else{(he||!me&&!ue)&&(me=" "+me);let[xt]=sp(me,ne-G(he),G,q);xt>=0&&(fe=me.trim(),me=me.slice(0,xt).trimEnd()+ip)}let De=le.append("tspan").attr("x",0).attr("dy",`${v}em`).text("\u200B");he&&De.append("tspan").attr("font-weight","bold").text(he),me&&De.append(()=>p.createTextNode(me)),ue&&De.append("tspan").text(" \u25A0").attr("fill",at).attr("fill-opacity",ee).style("user-select","none"),fe&&De.append("title").text(fe)}function te(){let{width:le,height:he}=i.facet??i;J.selectChildren().each(function(me){let{x:at,width:ee,height:ue}=this.getBBox();ee=Math.round(ee),ue=Math.round(ue);let fe=m;if(fe===void 0){let De=F(me)+k,xt=W(me)+H,dt=De+ee+w+x*2<le,ye=De-ee-w-x*2>0,ht=xt+ue+w+x*2<he,Ht=xt-ue-w-x*2>0;fe=dt&&ye?ht&&Ht?s.preferredAnchor:Ht?"bottom":"top":ht&&Ht?dt?"left":"right":(dt||ye)&&(ht||Ht)?`${Ht?"bottom":"top"}-${dt?"left":"right"}`:s.preferredAnchor}let ne=this.firstChild,Je=this.lastChild;if(ne.setAttribute("d",Dwe(fe,w,x,ee,ue)),at)for(let De of Je.childNodes)De.setAttribute("x",-at);Je.setAttribute("y",`${+xwe(fe,Je.childNodes.length,v).toFixed(6)}em`),Je.setAttribute("transform",`translate(${wwe(fe,w,x,ee,ue)})`)}),J.attr("visibility",null)}return t.length&&(J.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(te):typeof requestAnimationFrame<"u"&&requestAnimationFrame(te)),J.node()}};function $M(e,i={}){var o=i,{x:t,y:n}=o,r=Y(o,["x","y"]);return r.frameAnchor===void 0&&([t,n]=nr(t,n)),new D1(e,V(E({},r),{x:t,y:n}))}function xwe(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function wwe(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function Dwe(e,t,n,r,i){let o=r+n*2,s=i+n*2;switch(e){case"middle":return`M${-o/2},${-s/2}h${o}v${s}h${-o}z`;case"top-left":return`M0,0l${t},${t}h${o-t}v${s}h${-o}z`;case"top":return`M0,0l${t/2},${t/2}h${(o-t)/2}v${s}h${-o}v${-s}h${(o-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-o}v${s}h${o}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-s/2}h${-o}v${s}h${o}v${t/2-s/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${o-t}v${-s}h${-o}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(o-t)/2}v${-s}h${-o}v${s}h${(o-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-o}v${-s}h${o}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-s/2}h${o}v${s}h${-o}v${t/2-s/2}z`}}function UK(e,t){let n={},r=this.format;r=jK(r,e,"x"),r=jK(r,e,"y"),this.format=r;for(let i in r){let o=r[i];if(!(o===null||o===!1))if(i==="fx"||i==="fy")n[i]=!0;else{let s=s1(e,i);s&&(n[i]=s)}}for(let i in e){if(i in n||i in r||bwe.has(i)||(i==="x"||i==="y")&&e.geometry)continue;let o=s1(e,i);if(o){if(o.scale==null&&o.defaultScale==="color")continue;n[i]=o}}this.facet&&(t.fx&&!("fx"in r)&&(n.fx=!0),t.fy&&!("fy"in r)&&(n.fy=!0));for(let i in n){let o=this.format[i];if(typeof o=="string"){let s=n[i]?.value??t[i]?.domain()??[];this.format[i]=(Gn(s)?xc:vs)(o)}else if(o===void 0||o===!0){let s=t[i];this.format[i]=s?.bandwidth?y1(s,s.domain()):Nc}}return n}function jK(e,t,n){if(!(n in e))return e;let r=`${n}1`,i=`${n}2`;if((r in e||!(r in t))&&(i in e||!(i in t)))return e;let o=Object.entries(e),s=e[n];return o.splice(o.findIndex(([a])=>a===n)+1,0,[r,s],[i,s]),Object.fromEntries(o)}function Swe(e,t,{title:n}){return this.format.title(n.value[e],e)}function*Iwe(e,t,n,r,i){for(let o in n){if(o==="fx"||o==="fy"){yield{label:jM(r,n,o),value:this.format[o](t[o],e)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;let s=n[o];if(o==="x2"&&"x1"in n)yield{label:zK(r,n,"x"),value:$K(this.format.x2,n.x1,s,e)};else if(o==="y2"&&"y1"in n)yield{label:zK(r,n,"y"),value:$K(this.format.y2,n.y1,s,e)};else{let a=s.value[e],c=s.scale;if(!Fn(a)&&c==null)continue;yield{label:jM(r,n,o),value:this.format[o](a,e),color:c==="color"?i[o][e]:null,opacity:c==="opacity"?i[o][e]:null}}}}function $K(e,t,n,r){return n.hint?.length?`${e(n.value[r]-t.value[r],r)}`:`${e(t.value[r],r)}\u2013${e(n.value[r],r)}`}function zK(e,t,n){let r=jM(e,t,`${n}1`,n),i=jM(e,t,`${n}2`,n);return r===i?r:`${r}\u2013${i}`}function jM(e,t,n,r=n){let i=t[n],o=e[i?.scale??n];return String(o?.label??i?.label??r)}function Pr(e={}){let{facet:t,style:n,title:r,subtitle:i,caption:o,ariaLabel:s,ariaDescription:a}=e,c=ed(e.className),u=e.marks===void 0?[]:GK(e.marks);u.push(...Owe(u));let f=Mwe(t,e),h=new Map;for(let X of u){let J=qK(X,f,e);J&&h.set(X,J)}let p=new Map;f&&S1(p,[f],e),S1(p,h,e);let m=GK(Nwe(u,p,e));for(let X of m){let J=qK(X,f,e);J&&h.set(X,J)}u.unshift(...m);let y=vQ(p,e);if(y!==void 0){let X=f?pM(y,f):void 0;for(let re of u){if(re.facet===null||re.facet==="super")continue;let te=h.get(re);te!==void 0&&(te.facetsIndex=re.fx!=null||re.fy!=null?pM(y,te):X)}let J=new Set;for(let{facetsIndex:re}of h.values())re?.forEach((te,le)=>{te?.length>0&&J.add(le)});y.forEach(0<J.size&&J.size<y.length?(re,te)=>re.empty=!J.has(te):re=>re.empty=!1);for(let re of u)if(re.facet==="exclude"){let te=h.get(re);te!==void 0&&(te.facetsIndex=wQ(te.facetsIndex))}}for(let X of un.keys())Sc(e[X])&&X!=="fx"&&X!=="fy"&&p.set(X,[]);let v=new Map;for(let X of u){if(v.has(X))throw new Error("duplicate mark; each mark must be unique");let{facetsIndex:J,channels:re}=h.get(X)??{},{data:te,facets:le,channels:he}=X.initialize(J,re,e);QV(he,e),v.set(X,{data:te,facets:le,channels:he})}let b=l1(S1(p,v,e),e),x=kQ(b,u,e);dQ(b,x);let w=gV(b),{fx:D,fy:I}=w,A=D||I?yV(b,x):x,T=D||I?Vwe(w,x):x,N=Kf(e),B=N.document,R=Fl("svg").call(B.documentElement),P=R;N.ownerSVGElement=R,N.className=c,N.projection=IQ(e,A),N.filterFacets=(X,J)=>pM(y,{channels:J,groups:dM(X,J)}),N.getMarkState=X=>{let J=v.get(X),re=h.get(X);return V(E({},J),{channels:E(E({},J.channels),re?.channels)})},N.dispatchValue=X=>{P.value!==X&&(P.value=X,P.dispatchEvent(new Event("input",{bubbles:!0})))};let O=new Set;for(let[X,J]of v)if(X.initializer!=null){let re=X.facet==="super"?T:A,te=X.initializer(J.data,J.facets,J.channels,w,re,N);if(te.data!==void 0&&(J.data=te.data),te.facets!==void 0&&(J.facets=te.facets),te.channels!==void 0){let q=te.channels,{fx:le,fy:he}=q,me=Y(q,["fx","fy"]);Cwe(me),Object.assign(J.channels,me);for(let at of Object.values(me)){let{scale:ee}=at;ee!=null&&!dX(un.get(ee))&&(ZK(at,e),O.add(ee))}(le!=null||he!=null)&&h.set(X,!0)}}if(O.size){let X=new Map;S1(X,v,e,le=>O.has(le)),S1(p,v,e,le=>O.has(le));let J=Bwe(l1(X,e),b),K=gV(J),{scales:re}=K,te=Y(K,["scales"]);Object.assign(b,J),Object.assign(w,te),Object.assign(w.scales,re)}let k,H;y!==void 0&&(k={x:D?.domain(),y:I?.domain()},y=bQ(y,k),H=xQ(D,I,x));for(let[X,J]of v)J.values=X.scale(J.channels,w,N);let{width:U,height:C}=x;ln(R).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",U).attr("height",C).attr("viewBox",`0 0 ${U} ${C}`).attr("aria-label",s).attr("aria-description",a).call(X=>X.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(yy,n);for(let X of u){let{channels:J,values:re,facets:te}=v.get(X);if(y===void 0||X.facet==="super"){let le=null;if(te&&(le=te[0],le=X.filter(le,J,re),le.length===0))continue;let he=X.render(le,w,re,T,N);if(he==null)continue;R.appendChild(he)}else{let le;for(let he of y){if(!(X.facetAnchor?.(y,k,he)??!he.empty))continue;let me=null;if(te){let ee=h.has(X);if(me=te[ee?he.i:0],me=X.filter(me,J,re),me.length===0)continue;!ee&&me===te[0]&&(me=ou(me)),me.fx=he.x,me.fy=he.y,me.fi=he.i}let at=X.render(me,w,re,A,N);if(at!=null){(le??=ln(R).append("g")).append(()=>at).datum(he);for(let ee of["aria-label","aria-description","aria-hidden","transform"])at.hasAttribute(ee)&&(le.attr(ee,at.getAttribute(ee)),at.removeAttribute(ee))}}le?.selectChildren().attr("transform",H)}}let F=MK(b,N,e),{figure:W=r!=null||i!=null||o!=null||F.length>0}=e;W&&(P=B.createElement("figure"),P.className=`${c}-figure`,P.style.maxWidth="initial",r!=null&&P.append(HK(B,r,"h2")),i!=null&&P.append(HK(B,i,"h3")),P.append(...F,R),o!=null&&P.append(Ewe(B,o)),"value"in R&&(P.value=R.value,delete R.value)),P.scale=gQ(w.scales),P.legend=TK(b,N,e);let G=WX();return G>0&&ln(R).append("text").attr("x",U).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("\u26A0\uFE0F").append("title").text(`${G.toLocaleString("en-US")} warning${G===1?"":"s"}. Please check the console.`),P}function HK(e,t,n){if(t.ownerDocument)return t;let r=e.createElement(n);return r.append(t),r}function Ewe(e,t){let n=e.createElement("figcaption");return n.append(t),n}function GK(e){return e.flat(1/0).filter(t=>t!=null).map(Twe)}function Twe(e){return typeof e.render=="function"?e:new XV(e)}var XV=class extends ze{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}};function QV(e,t){for(let n in e)ZK(e[n],t);return e}function ZK(e,t){let{scale:n,transform:r=!0}=e;if(n==null||!r)return;let{type:i,percent:o,interval:s,transform:a=o?c=>c==null?NaN:c*100:H4(s,i)}=t[n]??{};a!=null&&(e.value=Ot(e.value,a),e.transform=!1)}function Cwe(e){for(let t in e)sV(t,e[t])}function S1(e,t,n,r=KZ){for(let{channels:i}of t.values())for(let o in i){let s=i[o],{scale:a}=s;if(a!=null&&r(a))if(a==="projection"){if(!TQ(n)){let c=n.x?.domain===void 0,u=n.y?.domain===void 0;if(c||u){let[f,h]=MQ(s);c&&ZV(e,"x",f),u&&ZV(e,"y",h)}}}else ZV(e,a,s)}return e}function ZV(e,t,n){let r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function Mwe(e,t){if(e==null)return;let{x:n,y:r}=e;if(n==null&&r==null)return;let i=ru(e.data);if(i==null)throw new Error("missing facet data");let o={};n!=null&&(o.fx=uy(i,{value:n,scale:"fx"})),r!=null&&(o.fy=uy(i,{value:r,scale:"fy"})),QV(o,t);let s=dM(i,o);return{channels:o,groups:s,data:e.data}}function qK(e,t,n){if(e.facet===null||e.facet==="super")return;let{fx:r,fy:i}=e;if(r!=null||i!=null){let c=ru(e.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(c===null)return;let u={};return r!=null&&(u.fx=uy(c,{value:r,scale:"fx"})),i!=null&&(u.fy=uy(c,{value:i,scale:"fy"})),QV(u,n),{channels:u,groups:dM(c,u)}}if(t===void 0)return;let{channels:o,groups:s,data:a}=t;if(e.facet!=="auto"||e.data===a)return{channels:o,groups:s};a.length>0&&(s.size>1||s.size===1&&o.fx&&o.fy&&[...s][0][1].size>1)&&qf(ru(e.data))===qf(a)&&Ni(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn\u2019t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function Awe(e,t={}){return xn(V(E({},t),{x:null,y:null}),(n,r,i,o,s,a)=>a.getMarkState(e))}function Owe(e){let t=[];for(let n of e){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?Or:/^y$/i.test(i)?hu:Rc,r=i(Awe(n,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===hu?"left":"bottom");let s=$M(n.data,r);s.facet=n.facet,s.facetAnchor=n.facetAnchor,t.push(s)}}return t}function Nwe(e,t,n){let{projection:r,x:i={},y:o={},fx:s={},fy:a={},axis:c,grid:u,facet:f={},facet:{axis:h=c,grid:p}=f,x:{axis:m=c,grid:y=m===null?null:u}=i,y:{axis:v=c,grid:b=v===null?null:u}=o,fx:{axis:x=h,grid:w=x===null?null:p}=s,fy:{axis:D=h,grid:I=D===null?null:p}=a}=n;(r||!Sc(i)&&!WK("x",e))&&(m=y=null),(r||!Sc(o)&&!WK("y",e))&&(v=b=null),t.has("fx")||(x=w=null),t.has("fy")||(D=I=null),m===void 0&&(m=!GM(e,"x")),v===void 0&&(v=!GM(e,"y")),x===void 0&&(x=!GM(e,"fx")),D===void 0&&(D=!GM(e,"fy")),m===!0&&(m="bottom"),v===!0&&(v="left"),x===!0&&(x=m==="top"||m===null?"bottom":"top"),D===!0&&(D=v==="right"||v===null?"left":"right");let A=[];return HM(A,I,RM,a),zM(A,D,AM,"right","left",f,a),HM(A,w,LM,s),zM(A,x,OM,"top","bottom",f,s),HM(A,b,NM,o),zM(A,v,m1,"left","right",n,o),HM(A,y,PM,i),zM(A,m,g1,"bottom","top",n,i),A}function zM(e,t,n,r,i,o,s){if(!t)return;let a=Rwe(t);s=Pwe(a?r:t,o,s);let{line:c}=s;(n===m1||n===g1)&&c&&!au(c)&&e.push(Ty(Lwe(s))),e.push(n(s)),a&&e.push(n(V(E({},s),{anchor:i,label:null})))}function HM(e,t,n,r){!t||au(t)||e.push(n(kwe(t,r)))}function Rwe(e){return/^\s*both\s*$/i.test(e)}function Pwe(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:s,tickFormat:a,tickRotate:c,fontVariant:u,ariaLabel:f,ariaDescription:h,label:p=t.label,labelAnchor:m,labelArrow:y=t.labelArrow,labelOffset:v}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:s,tickFormat:a,tickRotate:c,fontVariant:u,ariaLabel:f,ariaDescription:h,label:p,labelAnchor:m,labelArrow:y,labelOffset:v}}function Lwe(e){let{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function kwe(e,{stroke:t=Yf(e)?e:void 0,ticks:n=Fwe(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function Fwe(e){switch(typeof e){case"number":return!0;case"string":return!Yf(e)}return ro(e)||typeof e?.range=="function"}function GM(e,t){let n=`${t}-axis `;return e.some(r=>r.ariaLabel?.startsWith(n))}function WK(e,t){for(let n of t)for(let r in n.channels){let{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function Bwe(e,t){for(let n in e){let r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function Vwe({fx:e,fy:t},n){let{marginTop:r,marginRight:i,marginBottom:o,marginLeft:s,width:a,height:c}=lM(n),u=e&&YK(e),f=t&&YK(t);return{marginTop:t?f[0]:r,marginRight:e?a-u[1]:i,marginBottom:t?c-f[1]:o,marginLeft:e?u[0]:s,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:a,height:c}}function YK(e){let t=e.domain();if(t.length===0)return[0,e.bandwidth()];let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}var Uwe=new Map([["basis",l4],["basis-closed",u4],["basis-open",f4],["bundle",d4],["bump-x",i4],["bump-y",o4],["cardinal",h4],["cardinal-closed",p4],["cardinal-open",m4],["catmull-rom",g4],["catmull-rom-closed",y4],["catmull-rom-open",_4],["linear",Kl],["linear-closed",v4],["monotone-x",x4],["monotone-y",w4],["natural",D4],["step",S4],["step-after",E4],["step-before",I4]]);function I1(e=Kl,t){if(typeof e=="function")return e;let n=Uwe.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function qM(e=sd,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?sd:I1(e,t)}function sd(e){return Kl(e)}function Pc(e={y:"count"},t={}){[e,t]=JV(e,t);let{x:n,y:r}=t;return KV(WM(n,t,pe),null,null,r,e,np(t))}function Lc(e={x:"count"},t={}){[e,t]=JV(e,t);let{x:n,y:r}=t;return KV(null,WM(r,t,pe),n,null,e,rp(t))}function mu(e={fill:"count"},t={}){[e,t]=JV(e,t);let{x:n,y:r}=jwe(t);return KV(n,r,null,null,e,np(rp(t)))}function KK(e,t,n={}){if(n?.interval==null)return n;let{reduce:r=rM}=n,i={filter:null};return n[t]!=null&&(i[t]=r),n[`${t}1`]!=null&&(i[`${t}1`]=r),n[`${t}2`]!=null&&(i[`${t}2`]=r),e(i,n)}function Cy(e={}){return KK(Pc,"y",ha(e,"x"))}function My(e={}){return KK(Lc,"x",ha(e,"y"))}function KV(e,t,n,r,f={},u={}){var h=f,{data:i=nM,filter:o=n1,sort:s,reverse:a}=h,c=Y(h,["data","filter","sort","reverse"]);e=XK(e),t=XK(t),c=$we(c,u),i=tJ(i,pe),s=s==null?void 0:JK("sort",s,u),o=o==null?void 0:eJ("filter",o,u),n!=null&&Mc(c,"x","x1","x2")&&(n=null),r!=null&&Mc(c,"y","y1","y2")&&(r=null);let[p,m]=mi(e),[y,v]=mi(e),[b,x]=mi(t),[w,D]=mi(t),[I,A]=n!=null?[n,"x"]:r!=null?[r,"y"]:[],[T,N]=mi(I),ue=u,{x:B,y:R,z:P,fill:O,stroke:k,x1:H,x2:U,y1:C,y2:F,domain:W,cumulative:G,thresholds:q,interval:K}=ue,X=Y(ue,["x","y","z","fill","stroke","x1","x2","y1","y2","domain","cumulative","thresholds","interval"]),[J,re]=mi(P),[te]=Hn(O),[le]=Hn(k),[he,me]=mi(te),[at,ee]=mi(le);return E(E(E(E(E(E(E(E({},"z"in u&&{z:J||P}),"fill"in u&&{fill:he||O}),"stroke"in u&&{stroke:at||k}),xr(X,(fe,ne,Je)=>{let De=Qh(ke(fe,I),Je?.[A]),xt=ke(fe,P),dt=ke(fe,te),ye=ke(fe,le),ht=o1(c,{z:xt,fill:dt,stroke:ye}),Ht=[],An=[],uo=De&&N([]),Zw=xt&&re([]),Xw=dt&&me([]),Fd=ye&&ee([]),Oo=e&&m([]),os=e&&v([]),Ua=t&&x([]),Lt=t&&D([]),ri=Gwe(e,t,fe),X0=0;for(let ol of c)ol.initialize(fe);s&&s.initialize(fe),o&&o.initialize(fe);for(let ol of ne){let om=[];for(let sl of c)sl.scope("facet",ol);s&&s.scope("facet",ol),o&&o.scope("facet",ol);for(let[sl,fR]of Cc(ol,ht))for(let[Bd,sm]of Cc(fR,De))for(let[ss,as]of ri(sm))if(ht&&(as.z=sl),!(o&&!o.reduce(ss,as))){om.push(X0++),An.push(i.reduceIndex(ss,fe,as)),De&&uo.push(Bd),xt&&Zw.push(ht===xt?sl:xt[(ss.length>0?ss:sm)[0]]),dt&&Xw.push(ht===dt?sl:dt[(ss.length>0?ss:sm)[0]]),ye&&Fd.push(ht===ye?sl:ye[(ss.length>0?ss:sm)[0]]),Oo&&(Oo.push(as.x1),os.push(as.x2)),Ua&&(Ua.push(as.y1),Lt.push(as.y2));for(let Qw of c)Qw.reduce(ss,as);s&&s.reduce(ss,as)}Ht.push(om)}return rV(Ht,s,a),{data:An,facets:Ht}})),!Mc(c,"x")&&(p?{x1:p,x2:y,x:oy(p,y)}:{x:B,x1:H,x2:U})),!Mc(c,"y")&&(b?{y1:b,y2:w,y:oy(b,w)}:{y:R,y1:C,y2:F})),T&&{[A]:T}),Object.fromEntries(c.map(({name:fe,output:ne})=>[fe,ne])))}function JV(s,o){var a=s,{cumulative:e,domain:t,thresholds:n,interval:r}=a,i=Y(a,["cumulative","domain","thresholds","interval"]);return[i,E({cumulative:e,domain:t,thresholds:n,interval:r},o)]}function WM(e,{cumulative:t,domain:n,thresholds:r,interval:i},o){return e=E({},Es(e)),e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=o),e.thresholds=e6(e.thresholds,e.interval),e}function jwe(e){let{x:t,y:n}=e;return t=WM(t,e),n=WM(n,e),[t.value,n.value]=nr(t.value,n.value),{x:t,y:n}}function XK(e){if(e==null)return;let{value:t,cumulative:n,domain:r=qt,thresholds:i}=e,o=s=>{let a=ke(s,t),c;if(Gn(a)||Hwe(i)){a=Ot(a,V4,Float64Array);let[f,h]=typeof r=="function"?r(a):r,p=typeof i=="function"&&!Wf(i)?i(a,f,h):i;typeof p=="number"&&(p=Ib(f,h,p)),Wf(p)&&(r===qt&&(f=p.floor(f),h=p.offset(p.floor(h))),p=p.range(f,p.offset(h))),c=p}else{a=br(a);let[f,h]=typeof r=="function"?r(a):r,p=typeof i=="function"&&!Wf(i)?i(a,f,h):i;if(typeof p=="number")if(r===qt){let m=Pl(f,h,p);if(isFinite(m))if(m>0){let y=Math.round(f/m),v=Math.round(h/m);y*m<=f||--y,v*m>h||++v;let b=v-y+1;p=new Float64Array(b);for(let x=0;x<b;++x)p[x]=(y+x)*m}else if(m<0){m=-m;let y=Math.round(f*m),v=Math.round(h*m);y/m<=f||--y,v/m>h||++v;let b=v-y+1;p=new Float64Array(b);for(let x=0;x<b;++x)p[x]=(y+x)/m}else p=[f];else p=[f]}else p=di(f,h,p);else Wf(p)&&(r===qt&&(f=p.floor(f),h=p.offset(p.floor(h))),p=p.range(f,p.offset(h)));c=p}let u=[];if(c.length===1)u.push([c[0],c[0]]);else for(let f=1;f<c.length;++f)u.push([c[f-1],c[f]]);return u.bin=(n<0?Wwe:n>0?qwe:t6)(u,c,a),u};return o.label=gi(t),o}function e6(e,t,n=QK){if(e===void 0)return t===void 0?n:Ec(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return BI;case"scott":return bv;case"sturges":return If;case"auto":return QK}return Zh(e)}return e}function $we(e,t){return tV(e,t,JK)}function JK(e,t,n){return eM(e,t,n,eJ)}function eJ(e,t,n){return tM(e,t,n,tJ)}function tJ(e,t){return ly(e,t,zwe)}function zwe(e){switch(`${e}`.toLowerCase()){case"x":return Ywe;case"x1":return Xwe;case"x2":return Qwe;case"y":return Zwe;case"y1":return Kwe;case"y2":return Jwe;case"z":return iV}throw new Error(`invalid bin reduce: ${e}`)}function QK(e,t,n){return Math.min(200,bv(e,t,n))}function Hwe(e){return tX(e)||ro(e)&&Gn(e)}function Gwe(e,t,n){let r=e?.(n),i=t?.(n);return r&&i?function*(o){let s=r.bin(o);for(let[a,[c,u]]of r.entries()){let f=i.bin(s[a]);for(let[h,[p,m]]of i.entries())yield[f[h],{data:n,x1:c,y1:p,x2:u,y2:m}]}}:r?function*(o){let s=r.bin(o);for(let[a,[c,u]]of r.entries())yield[s[a],{data:n,x1:c,x2:u}]}:function*(o){let s=i.bin(o);for(let[a,[c,u]]of i.entries())yield[s[a],{data:n,y1:c,y2:u}]}}function t6(e,t,n){return t=br(t),r=>{let i=e.map(()=>[]);for(let o of r)i[Nl(t,n[o])-1]?.push(o);return i}}function qwe(e,t,n){let r=t6(e,t,n);return i=>{let o=r(i);for(let s=1,a=o.length;s<a;++s){let c=o[s-1],u=o[s];for(let f of c)u.push(f)}return o}}function Wwe(e,t,n){let r=t6(e,t,n);return i=>{let o=r(i);for(let s=o.length-2;s>=0;--s){let a=o[s+1],c=o[s];for(let u of a)c.push(u)}return o}}function nJ(e,t){let n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}var Ywe={reduceIndex(e,t,{x1:n,x2:r}){return nJ(n,r)}},Zwe={reduceIndex(e,t,{y1:n,y2:r}){return nJ(n,r)}},Xwe={reduceIndex(e,t,{x1:n}){return n}},Qwe={reduceIndex(e,t,{x2:n}){return n}},Kwe={reduceIndex(e,t,{y1:n}){return n}},Jwe={reduceIndex(e,t,{y2:n}){return n}};var eDe={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1},lp=class extends ze{constructor(t,n={}){let{x1:r,y1:i,x2:o,y2:s,z:a,curve:c,tension:u}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0},z:{value:Oi(n),optional:!0}},n,eDe),this.z=a,this.curve=I1(c,u)}filter(t){return t}render(t,n,r,i,o){let{x1:s,y1:a,x2:c=s,y2:u=a}=r;return Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,n,0,0).call(f=>f.selectAll().data(_M(t,[s,a,c,u],this,r)).enter().append("path").call(We,this).call(tp,this,r).attr("d",Yg().curve(this.curve).defined(h=>h>=0).x0(h=>s[h]).y0(h=>a[h]).x1(h=>c[h]).y1(h=>u[h]))).node()}};function up(e,t){return t===void 0?Cs(e,{x:Xh,y:Hf}):new lp(e,t)}function ad(e,t){let i=My(t),{y:n=mn}=i,r=Y(i,["y"]);return new lp(e,id(nd(V(E({},r),{y1:n,y2:void 0}))))}function Cs(e,t){let i=Cy(t),{x:n=mn}=i,r=Y(i,["x"]);return new lp(e,od(rd(V(E({},r),{x1:n,x2:void 0}))))}var tDe={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1},E1=class extends ze{constructor(t,n={}){let{x1:r,y1:i,x2:o,y2:s,curve:a,tension:c}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,tDe),this.curve=qM(a,c),pa(this,n)}project(t,n,r){this.curve!==sd&&super.project(t,n,r)}render(t,n,r,i,o){let{x1:s,y1:a,x2:c=s,y2:u=a}=r,{curve:f}=this;return Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,n).call(h=>h.selectAll().data(t).enter().append("path").call(We,this).attr("d",f===sd&&o.projection?nDe(o.projection,s,a,c,u):p=>{let m=Xi(),y=f(m);return y.lineStart(),y.point(s[p],a[p]),y.point(c[p],u[p]),y.lineEnd(),m}).call(Tt,this,r).call(pu,this,r,o)).node()}};function nDe(e,t,n,r,i){let o=Gr(e);return t=br(t),n=br(n),r=br(r),i=br(i),s=>o({type:"LineString",coordinates:[[t[s],n[s]],[r[s],i[s]]]})}function Ay(e,c={}){var u=c,{x:t,x1:n,x2:r,y:i,y1:o,y2:s}=u,a=Y(u,["x","x1","x2","y","y1","y2"]);return[n,r]=T1(t,n,r),[o,s]=T1(i,o,s),new E1(e,V(E({},a),{x1:n,x2:r,y1:o,y2:s}))}function T1(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[t]}else{if(t===void 0)return n===void 0?[e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}var rDe={ariaLabel:"arrow",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:1,strokeWidth:1.5},C1=class extends ze{constructor(t,n={}){let{x1:r,y1:i,x2:o,y2:s,bend:a=0,headAngle:c=60,headLength:u=8,inset:f=0,insetStart:h=f,insetEnd:p=f,sweep:m}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,rDe),this.bend=a===!0?22.5:Math.max(-90,Math.min(90,a)),this.headAngle=+c,this.headLength=+u,this.insetStart=+h,this.insetEnd=+p,this.sweep=iDe(m)}render(t,n,r,i,o){let{x1:s,y1:a,x2:c=s,y2:u=a,SW:f}=r,{strokeWidth:h,bend:p,headAngle:m,headLength:y,insetStart:v,insetEnd:b}=this,x=f?I=>f[I]:qn(h===void 0?1:h),w=m*_y/2,D=y/1.5;return Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,n).call(I=>I.selectAll().data(t).enter().append("path").call(We,this).attr("d",A=>{let T=s[A],N=a[A],B=c[A],R=u[A],P=Math.hypot(B-T,R-N);if(P<=v+b)return null;let O=Math.atan2(R-N,B-T),k=Math.min(D*x(A),P/3),H=this.sweep(T,N,B,R)*p*_y,U=Math.hypot(P/Math.tan(H),P)/2;if(v||b)if(U<1e5){let te=Math.sign(H),[le,he]=oDe([T,N],[B,R],U,te);if(v&&([T,N]=rJ([le,he,U],[T,N,v],-te*Math.sign(v))),b){let[me,at]=rJ([le,he,U],[B,R,b],te*Math.sign(b));O+=Math.atan2(at-he,me-le)-Math.atan2(R-he,B-le),B=me,R=at}}else{let te=B-T,le=R-N,he=Math.hypot(te,le);v&&(T+=te/he*v,N+=le/he*v),b&&(B-=te/he*b,R-=le/he*b)}let C=O+H,F=C+w,W=C-w,G=B-k*Math.cos(F),q=R-k*Math.sin(F),K=B-k*Math.cos(W),X=R-k*Math.sin(W),J=U<1e5?`A${U},${U} 0,0,${H>0?1:0} `:"L",re=k?`M${G},${q}L${B},${R}L${K},${X}`:"";return`M${T},${N}${J}${B},${R}${re}`}).call(Tt,this,r)).node()}};function iDe(e=1){if(typeof e=="number")return qn(Math.sign(e));if(typeof e=="function")return(t,n,r,i)=>Math.sign(e(t,n,r,i));switch(Ar(e,"sweep",["+x","-x","+y","-y"])){case"+x":return(t,n,r)=>_t(t,r);case"-x":return(t,n,r)=>Hi(t,r);case"+y":return(t,n,r,i)=>_t(n,i);case"-y":return(t,n,r,i)=>Hi(n,i)}}function oDe([e,t],[n,r],i,o){let s=n-e,a=r-t,c=Math.hypot(s,a),u=o*Math.sqrt(i*i-c*c/4)/c;return[(e+n)/2-a*u,(t+r)/2+s*u]}function rJ([e,t,n],[r,i,o],s){let a=r-e,c=i-t,u=Math.hypot(a,c),f=(a*a+c*c-o*o+n*n)/(2*u),h=s*Math.sqrt(n*n-f*f);return[e+(a*f+c*h)/u,t+(c*f-a*h)/u]}function iJ(e,c={}){var u=c,{x:t,x1:n,x2:r,y:i,y1:o,y2:s}=u,a=Y(u,["x","x1","x2","y","y1","y2"]);return[n,r]=T1(t,n,r),[o,s]=T1(i,o,s),new C1(e,V(E({},a),{x1:n,x2:r,y1:o,y2:s}))}var sDe={ariaLabel:"bar"},Oy=class extends ze{constructor(t,n,r={},i=sDe){super(t,n,r,i),_1(this,r),v1(this,r)}render(t,n,r,i,o){let{rx:s,ry:a,rx1y1:c,rx1y2:u,rx2y1:f,rx2y2:h}=this,p=this._x(n,r,i),m=this._y(n,r,i),y=this._width(n,r,i),v=this._height(n,r,i);return Ee("svg:g",o).call(rt,this,i,o).call(this._transform,this,n).call(b=>b.selectAll().data(t).enter().call(c||u||f||h?x=>x.append("path").call(We,this).call(b1,p,m,oJ(p,y),oJ(m,v),this).call(Tt,this,r):x=>x.append("rect").call(We,this).attr("x",p).attr("width",y).attr("y",m).attr("height",v).call(Ne,"rx",s).call(Ne,"ry",a).call(Tt,this,r))).node()}_x(t,{x:n},{marginLeft:r}){let{insetLeft:i}=this;return n?o=>n[o]+i:r+i}_y(t,{y:n},{marginTop:r}){let{insetTop:i}=this;return n?o=>n[o]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:o}){let{insetLeft:s,insetRight:a}=this,c=n&&t?t.bandwidth():o-r-i;return Math.max(0,c-s-a)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:o}){let{insetTop:s,insetBottom:a}=this,c=n&&t?t.bandwidth():o-r-i;return Math.max(0,c-s-a)}};function oJ(e,t){return typeof e=="function"&&typeof t=="function"?n=>e(n)+t(n):typeof e=="function"?n=>e(n)+t:typeof t=="function"?n=>e+t(n):e+t}var fp=class extends Oy{constructor(t,n={},r){let{x1:i,x2:o,y:s}=n;super(t,{x1:{value:i,scale:"x"},x2:{value:o,scale:"x"},y:{value:s,scale:"y",type:"band",optional:!0}},n,r)}_transform(t,n,{x:r}){t.call(Qe,n,{x:r},0,0)}_x({x:t},{x1:n,x2:r},{marginLeft:i}){let{insetLeft:o}=this;return Wo(t)?i+o:s=>Math.min(n[s],r[s])+o}_width({x:t},{x1:n,x2:r},{marginRight:i,marginLeft:o,width:s}){let{insetLeft:a,insetRight:c}=this;return Wo(t)?s-i-o-a-c:u=>Math.max(0,Math.abs(r[u]-n[u])-a-c)}},dp=class extends Oy{constructor(t,n={},r){let{x:i,y1:o,y2:s}=n;super(t,{y1:{value:o,scale:"y"},y2:{value:s,scale:"y"},x:{value:i,scale:"x",type:"band",optional:!0}},n,r)}_transform(t,n,{y:r}){t.call(Qe,n,{y:r},0,0)}_y({y:t},{y1:n,y2:r},{marginTop:i}){let{insetTop:o}=this;return Wo(t)?i+o:s=>Math.min(n[s],r[s])+o}_height({y:t},{y1:n,y2:r},{marginTop:i,marginBottom:o,height:s}){let{insetTop:a,insetBottom:c}=this;return Wo(t)?s-i-o-a-c:u=>Math.max(0,Math.abs(r[u]-n[u])-a-c)}};function kc(e,t={}){return iu(t)||(t=V(E({},t),{y:mn,x2:pe})),new fp(e,id(vy(nd(t))))}function Fc(e,t={}){return iu(t)||(t=V(E({},t),{x:mn,y2:pe})),new dp(e,od(by(rd(t))))}var aDe={ariaLabel:"cell"},hp=class extends Oy{constructor(t,o={}){var s=o,{x:n,y:r}=s,i=Y(s,["x","y"]);super(t,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,aDe)}_transform(t,n){t.call(Qe,n,{},0,0)}};function cd(e,i={}){var o=i,{x:t,y:n}=o,r=Y(o,["x","y"]);return[t,n]=nr(t,n),new hp(e,V(E({},r),{x:t,y:n}))}function sJ(e,o={}){var s=o,{x:t=mn,fill:n,stroke:r}=s,i=Y(s,["x","fill","stroke"]);return n===void 0&&Hn(r)[0]===void 0&&(n=pe),new hp(e,V(E({},i),{x:t,fill:n,stroke:r}))}function aJ(e,o={}){var s=o,{y:t=mn,fill:n,stroke:r}=s,i=Y(s,["y","fill","stroke"]);return n===void 0&&Hn(r)[0]===void 0&&(n=pe),new hp(e,V(E({},i),{y:t,fill:n,stroke:r}))}var cDe={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function M1(e){return e.sort===void 0&&e.reverse===void 0?KC({channel:"-r"},e):e}var pp=class extends ze{constructor(t,n={}){let{x:r,y:i,r:o,rotate:s,symbol:a=Jl,frameAnchor:c}=n,[u,f]=Kt(s,0),[h,p]=mX(a),[m,y]=Kt(o,h==null?3:4.5);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:m,scale:"r",filter:to,optional:!0},rotate:{value:u,optional:!0},symbol:{value:h,scale:"auto",optional:!0}},M1(n),cDe),this.r=y,this.rotate=f,this.symbol=p,this.frameAnchor=Tc(c);let{channels:v}=this,{symbol:b}=v;if(b){let{fill:x,stroke:w}=v;b.hint={fill:x?x.value===b.value?"color":"currentColor":this.fill??"currentColor",stroke:w?w.value===b.value?"color":"currentColor":this.stroke??"none"}}}render(t,n,r,i,o){let{x:s,y:a}=n,{x:c,y:u,r:f,rotate:h,symbol:p}=r,{r:m,rotate:y,symbol:v}=this,[b,x]=Kr(this,i),w=v===Jl,D=f?void 0:m*m*Math.PI;return Vf(m)&&(t=[]),Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,{x:c&&s,y:u&&a}).call(I=>I.selectAll().data(t).enter().append(w?"circle":"path").call(We,this).call(w?A=>{A.attr("cx",c?T=>c[T]:b).attr("cy",u?T=>u[T]:x).attr("r",f?T=>f[T]:m)}:A=>{A.attr("transform",ma`translate(${c?T=>c[T]:b},${u?T=>u[T]:x})${h?T=>` rotate(${h[T]})`:y?` rotate(${y})`:""}`).attr("d",f&&p?T=>{let N=Xi();return p[T].draw(N,f[T]*f[T]*Math.PI),N}:f?T=>{let N=Xi();return v.draw(N,f[T]*f[T]*Math.PI),N}:p?T=>{let N=Xi();return p[T].draw(N,D),N}:(()=>{let T=Xi();return v.draw(T,D),T})())}).call(Tt,this,r)).node()}};function nn(e,i={}){var o=i,{x:t,y:n}=o,r=Y(o,["x","y"]);return r.frameAnchor===void 0&&([t,n]=nr(t,n)),new pp(e,V(E({},r),{x:t,y:n}))}function cJ(e,r={}){var i=r,{x:t=pe}=i,n=Y(i,["x"]);return new pp(e,wM(V(E({},n),{x:t})))}function lJ(e,r={}){var i=r,{y:t=pe}=i,n=Y(i,["y"]);return new pp(e,xM(V(E({},n),{y:t})))}function uJ(e,t){return nn(e,V(E({},t),{symbol:"circle"}))}function fJ(e,t){return nn(e,V(E({},t),{symbol:"hexagon"}))}var lDe={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1},mp=class extends ze{constructor(t,n={}){let{x:r,y:i,z:o,curve:s,tension:a}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Oi(n),optional:!0}},n,lDe),this.z=o,this.curve=qM(s,a),pa(this,n)}filter(t){return t}project(t,n,r){this.curve!==sd&&super.project(t,n,r)}render(t,n,r,i,o){let{x:s,y:a}=r,{curve:c}=this;return Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,n).call(u=>u.selectAll().data(_M(t,[s,a],this,r)).enter().append("path").call(We,this).call(tp,this,r).call(jQ,this,r,o).attr("d",c===sd&&o.projection?uDe(o.projection,s,a):Pb().curve(c).defined(f=>f>=0).x(f=>s[f]).y(f=>a[f]))).node()}};function uDe(e,t,n){let r=Gr(e);return t=br(t),n=br(n),i=>{let o=[],s=[o];for(let a of i)a===-1?(o=[],s.push(o)):o.push([t[a],n[a]]);return r({type:"MultiLineString",coordinates:s})}}function Yo(e,i={}){var o=i,{x:t,y:n}=o,r=Y(o,["x","y"]);return[t,n]=nr(t,n),new mp(e,V(E({},r),{x:t,y:n}))}function ld(e,i={}){var o=i,{x:t=pe,y:n=mn}=o,r=Y(o,["x","y"]);return new mp(e,My(V(E({},r),{x:t,y:n})))}function Lr(e,i={}){var o=i,{x:t=mn,y:n=pe}=o,r=Y(o,["x","y"]);return new mp(e,Cy(V(E({},r),{x:t,y:n})))}function r6(e,t){t=fDe(t);let{x:n,y:r,color:i,size:o}=t,s=YM(e,n),a=YM(e,r),c=YM(e,i),u=YM(e,o),F=t,{fx:f,fy:h,x:W}=F,G=W,{value:p,reduce:m,zero:y}=G,v=Y(G,["value","reduce","zero"]),q=F,{y:K}=q,X=K,{value:b,reduce:x,zero:w}=X,D=Y(X,["value","reduce","zero"]),{color:{value:I,color:A,reduce:T},size:{value:N,reduce:B},mark:R}=q;if(m===void 0&&(m=x==null&&p==null&&N==null&&b!=null?"count":null),x===void 0&&(x=m==null&&b==null&&N==null&&p!=null?"count":null),B===void 0&&N==null&&T==null&&m==null&&x==null&&(p==null||Bn(s))&&(b==null||Bn(a))&&(B="count"),y===void 0&&(y=ZM(m)?!0:void 0),w===void 0&&(w=ZM(x)?!0:void 0),p==null&&b==null)throw new Error("must specify x or y");if(m!=null&&b==null)throw new Error("reducing x requires y");if(x!=null&&p==null)throw new Error("reducing y requires x");R===void 0&&(R=N!=null||B!=null?"dot":ZM(m)||ZM(x)||T!=null?"bar":p!=null&&b!=null?Bn(s)||Bn(a)||m==null&&x==null&&!A1(s)&&!A1(a)?"dot":"line":p!=null||b!=null?"rule":null);let P,O,k;switch(R){case"dot":k=nn,O="stroke";break;case"line":k=s&&a||m!=null||x!=null?w||x!=null||s&&A1(s)?Lr:y||m!=null||a&&A1(a)?ld:Yo:s?ld:Lr,O="stroke",hJ(c)&&(P=null);break;case"area":k=!(w||x!=null)&&(y||m!=null||a&&A1(a))?ad:Cs,O="fill",hJ(c)&&(P=null);break;case"rule":k=s?Nr:Rr,O="stroke";break;case"bar":k=m!=null?Bn(a)?dJ(m)&&s&&Bn(s)?cd:kc:Iy:x!=null?Bn(s)?dJ(x)&&a&&Bn(a)?cd:Fc:Ey:T!=null||B!=null?s&&Bn(s)&&a&&Bn(a)?cd:s&&Bn(s)?Fc:a&&Bn(a)?kc:x1:s&&su(s)&&!(a&&su(a))?kc:a&&su(a)&&!(s&&su(s))?Fc:cd,O="fill";break;default:throw new Error(`invalid mark: ${R}`)}let H={fx:f,fy:h,x:s??void 0,y:a??void 0,[O]:c??A,z:P,r:u??void 0,tip:!0},U,C={[O]:T??void 0,r:B??void 0};if(m!=null&&x!=null)throw new Error("cannot reduce both x and y");return x!=null?(C.y=x,U=Bn(s)?Zf:Pc):m!=null?(C.x=m,U=Bn(a)?Xf:Lc):(T!=null||B!=null)&&(s&&a?U=Bn(s)&&Bn(a)?i1:Bn(s)?Lc:Bn(a)?Pc:mu:s?U=Bn(s)?Zf:Pc:a&&(U=Bn(a)?Xf:Lc)),(U===mu||U===Pc)&&(H.x=E({value:s},v)),(U===mu||U===Lc)&&(H.y=E({value:a},D)),y===void 0&&(y=s&&!(U===mu||U===Pc)&&(k===kc||k===ad||k===Iy||k===Rr)),w===void 0&&(w=a&&!(U===mu||U===Lc)&&(k===Fc||k===Cs||k===Ey||k===Nr)),{fx:f??null,fy:h??null,x:E({value:p??null,reduce:m??null,zero:!!y},v),y:E({value:b??null,reduce:x??null,zero:!!w},D),color:E({value:I??null,reduce:T??null},A!==void 0&&{color:A}),size:{value:N??null,reduce:B??null},mark:R,markImpl:pJ[k],markOptions:H,transformImpl:pJ[U],transformOptions:C,colorMode:O}}function mJ(e,t){let n=r6(e,t),{fx:r,fy:i,x:{zero:o},y:{zero:s},markOptions:a,transformOptions:c,colorMode:u}=n,f=n6[n.markImpl],h=n6[n.transformImpl],p=r!=null||i!=null?Ty({strokeOpacity:.1}):null,m=[o?Nr([0]):null,s?Rr([0]):null],y=f(e,h?h(c,a):a);return u==="stroke"?wr(p,m,y):wr(p,y,m)}function A1(e){let t,n;for(let r of e){if(r==null)continue;if(t===void 0){t=r;continue}let i=Math.sign(_t(t,r));if(i){if(n!==void 0&&i!==n)return!1;t=r,n=i}}return!0}function fDe({x:e,y:t,color:n,size:r,fx:i,fy:o,mark:s}={}){return Go(e)||(e=Ny(e)),Go(t)||(t=Ny(t)),Go(n)||(n=Yf(n)?{color:n}:Ny(n)),Go(r)||(r=Ny(r)),Go(i)&&({value:i}=Ny(i)),Go(o)&&({value:o}=Ny(o)),s!=null&&(s=`${s}`.toLowerCase()),{x:e,y:t,color:n,size:r,fx:i,fy:o,mark:s}}function YM(e,t){let n=ke(e,t.value);return n&&(n.label=gi(t.value)),n}function Ny(e){return dDe(e)?{reduce:e}:{value:e}}function ZM(e){return/^(?:distinct|count|sum|proportion)$/i.test(e)}function dJ(e){return/^(?:first|last|mode)$/i.test(e)}function dDe(e){if(e==null)return!1;if(typeof e.reduceIndex=="function"||typeof e.reduce=="function"&&Zr(e)||/^p\d{2}$/i.test(e))return!0;switch(`${e}`.toLowerCase()){case"first":case"last":case"count":case"distinct":case"sum":case"proportion":case"proportion-facet":case"deviation":case"min":case"min-index":case"max":case"max-index":case"mean":case"median":case"variance":case"mode":return!0}return!1}function hJ(e){return e?new yo(e).size>e.length>>1:!1}var n6={dot:nn,line:Yo,lineX:ld,lineY:Lr,areaX:ad,areaY:Cs,ruleX:Nr,ruleY:Rr,barX:kc,barY:Fc,rect:x1,rectX:Iy,rectY:Ey,cell:cd,bin:mu,binX:Pc,binY:Lc,group:i1,groupX:Zf,groupY:Xf},pJ=Object.fromEntries(Object.entries(n6).map(([e,t])=>[t,e]));function Ry(e,t={}){let{x:n,x1:r,x2:i}=t;n===void 0&&r===void 0&&i===void 0&&(t=V(E({},t),{x:n=pe}));let o={};return n!=null&&(o.x=e),r!=null&&(o.x1=e),i!=null&&(o.x2=e),bo(o,t)}function Py(e,t={}){let{y:n,y1:r,y2:i}=t;n===void 0&&r===void 0&&i===void 0&&(t=V(E({},t),{y:n=pe}));let o={};return n!=null&&(o.y=e),r!=null&&(o.y1=e),i!=null&&(o.y2=e),bo(o,t)}function bo(e={},t={}){let n=Oi(t),r=Object.entries(e).map(([i,o])=>{let s=qC(i,t);if(s==null)throw new Error(`missing channel: ${i}`);let[a,c]=Xr(s);return{key:i,input:s,output:a,setOutput:c,map:hDe(o)}});return E(E({},xr(t,(i,o)=>{let s=ke(i,n),a=r.map(({input:u})=>ke(i,u)),c=r.map(({setOutput:u})=>u(new Array(i.length)));for(let u of o)for(let f of s?fi(u,h=>s[h]).values():[u])r.forEach(({map:h},p)=>h.mapIndex(f,a[p],c[p]));return{data:i,facets:o}})),Object.fromEntries(r.map(({key:i,output:o})=>[i,o])))}function hDe(e){if(e==null)throw new Error("missing map");if(typeof e.mapIndex=="function")return e;if(typeof e.map=="function"&&Zr(e))return pDe(e);if(typeof e=="function")return i6(iy(e));switch(`${e}`.toLowerCase()){case"cumsum":return gDe;case"rank":return i6((t,n)=>xv(t,r=>n[r]));case"quantile":return i6((t,n)=>mDe(t,r=>n[r]))}throw new Error(`invalid map: ${e}`)}function pDe(e){return console.warn("deprecated map interface; implement mapIndex instead."),{mapIndex:e.map.bind(e)}}function mDe(e,t){let n=ic(e,t)-1;return xv(e,t).map(r=>r/n)}function i6(e){return{mapIndex(t,n,r){let i=e(t,n);if(i.length!==t.length)throw new Error("map function returned a mismatched length");for(let o=0,s=t.length;o<s;++o)r[t[o]]=i[o]}}}var gDe={mapIndex(e,t,n){let r=0;for(let i of e)n[i]=r+=t[i]}};function gJ(e={},t){return arguments.length===1&&(t=e),Ry(Ly(e),t)}function yJ(e={},t){return arguments.length===1&&(t=e),Py(Ly(e),t)}function Ly(e={}){typeof e=="number"&&(e={k:e});let{k:t,reduce:n,shift:r,anchor:i,strict:o}=e;if(i===void 0&&r!==void 0&&(i=_De(r),Ni(`Warning: the shift option is deprecated; please use anchor "${i}" instead.`)),!((t=Math.floor(t))>0))throw new Error(`invalid k: ${t}`);return vDe(n)(t,yDe(i,t),o)}function yDe(e="middle",t){switch(`${e}`.toLowerCase()){case"middle":return t-1>>1;case"start":return 0;case"end":return t-1}throw new Error(`invalid anchor: ${e}`)}function _De(e){switch(`${e}`.toLowerCase()){case"centered":return"middle";case"leading":return"start";case"trailing":return"end"}throw new Error(`invalid shift: ${e}`)}function vDe(e="mean"){if(typeof e=="string"){if(/^p\d{2}$/i.test(e))return XM(ry(e));switch(e.toLowerCase()){case"deviation":return XM(ys);case"max":return QM((t,n)=>Ft(t,r=>n[r]));case"mean":return bDe;case"median":return XM(sa);case"min":return QM((t,n)=>$t(t,r=>n[r]));case"mode":return QM((t,n)=>mg(t,r=>n[r]));case"sum":return _J;case"variance":return XM(Sf);case"difference":return DDe;case"ratio":return SDe;case"first":return IDe;case"last":return EDe}}if(typeof e!="function")throw new Error(`invalid reduce: ${e}`);return QM(iy(e))}function XM(e){return(t,n,r)=>r?{mapIndex(i,o,s){let a=u=>o[u]==null?NaN:+o[u],c=0;for(let u=0;u<t-1;++u)isNaN(a(u))&&++c;for(let u=0,f=i.length-t+1;u<f;++u)isNaN(a(u+t-1))&&++c,s[i[u+n]]=c===0?e(ou(i,u,u+t),a):NaN,isNaN(a(u))&&--c}}:{mapIndex(i,o,s){let a=c=>o[c]==null?NaN:+o[c];for(let c=-n;c<0;++c)s[i[c+n]]=e(ou(i,0,c+t),a);for(let c=0,u=i.length-n;c<u;++c)s[i[c+n]]=e(ou(i,c,c+t),a)}}}function QM(e){return(t,n,r)=>r?{mapIndex(i,o,s){let a=0;for(let c=0;c<t-1;++c)a+=Fn(o[i[c]]);for(let c=0,u=i.length-t+1;c<u;++c)a+=Fn(o[i[c+t-1]]),a===t&&(s[i[c+n]]=e(ou(i,c,c+t),o)),a-=Fn(o[i[c]])}}:{mapIndex(i,o,s){for(let a=-n;a<0;++a)s[i[a+n]]=e(ou(i,0,a+t),o);for(let a=0,c=i.length-n;a<c;++a)s[i[a+n]]=e(ou(i,a,a+t),o)}}}function _J(e,t,n){return n?{mapIndex(r,i,o){let s=0,a=0;for(let c=0;c<e-1;++c){let u=i[r[c]];u===null||isNaN(u)?++s:a+=+u}for(let c=0,u=r.length-e+1;c<u;++c){let f=i[r[c]],h=i[r[c+e-1]];h===null||isNaN(h)?++s:a+=+h,o[r[c+t]]=s===0?a:NaN,f===null||isNaN(f)?--s:a-=+f}}}:{mapIndex(r,i,o){let s=0,a=r.length;for(let c=0,u=Math.min(a,e-t-1);c<u;++c)s+=+i[r[c]]||0;for(let c=-t,u=a-t;c<u;++c)s+=+i[r[c+e-1]]||0,o[r[c+t]]=s,s-=+i[r[c]]||0}}}function bDe(e,t,n){if(n){let r=_J(e,t,n);return{mapIndex(i,o,s){r.mapIndex(i,o,s);for(let a=0,c=i.length-e+1;a<c;++a)s[i[a+t]]/=e}}}else return{mapIndex(r,i,o){let s=0,a=0,c=r.length;for(let u=0,f=Math.min(c,e-t-1);u<f;++u){let h=i[r[u]];h!==null&&!isNaN(h=+h)&&(s+=h,++a)}for(let u=-t,f=c-t;u<f;++u){let h=i[r[u+e-1]],p=i[r[u]];h!==null&&!isNaN(h=+h)&&(s+=h,++a),o[r[u+t]]=s/a,p!==null&&!isNaN(p=+p)&&(s-=p,--a)}}}}function xDe(e,t,n,r){for(let i=n+r;n<i;++n){let o=e[t[n]];if(Fn(o))return o}}function wDe(e,t,n,r){for(let i=n+r-1;i>=n;--i){let o=e[t[i]];if(Fn(o))return o}}function vJ(e,t,n,r){for(let i=n+r;n<i;++n){let o=e[t[n]];if(o!==null&&!isNaN(o=+o))return o}}function bJ(e,t,n,r){for(let i=n+r-1;i>=n;--i){let o=e[t[i]];if(o!==null&&!isNaN(o=+o))return o}}function DDe(e,t,n){return n?{mapIndex(r,i,o){for(let s=0,a=r.length-e;s<a;++s){let c=i[r[s]],u=i[r[s+e-1]];o[r[s+t]]=c===null||u===null?NaN:u-c}}}:{mapIndex(r,i,o){for(let s=-t,a=r.length-e+t+1;s<a;++s)o[r[s+t]]=bJ(i,r,s,e)-vJ(i,r,s,e)}}}function SDe(e,t,n){return n?{mapIndex(r,i,o){for(let s=0,a=r.length-e;s<a;++s){let c=i[r[s]],u=i[r[s+e-1]];o[r[s+t]]=c===null||u===null?NaN:u/c}}}:{mapIndex(r,i,o){for(let s=-t,a=r.length-e+t+1;s<a;++s)o[r[s+t]]=bJ(i,r,s,e)/vJ(i,r,s,e)}}}function IDe(e,t,n){return n?{mapIndex(r,i,o){for(let s=0,a=r.length-e;s<a;++s)o[r[s+t]]=i[r[s]]}}:{mapIndex(r,i,o){for(let s=-t,a=r.length-e+t+1;s<a;++s)o[r[s+t]]=xDe(i,r,s,e)}}}function EDe(e,t,n){return n?{mapIndex(r,i,o){for(let s=0,a=r.length-e;s<a;++s)o[r[s+t]]=i[r[s+e-1]]}}:{mapIndex(r,i,o){for(let s=-t,a=r.length-e+t+1;s<a;++s)o[r[s+t]]=wDe(i,r,s,e)}}}var gu={n:20,k:2,color:"currentColor",opacity:.2,strict:!0,anchor:"end"};function xJ(e,p={}){var m=p,{x:t=pe,y:n,k:r=gu.k,color:i=gu.color,opacity:o=gu.opacity,fill:s=i,fillOpacity:a=o,stroke:c=i,strokeOpacity:u,strokeWidth:f}=m,h=Y(m,["x","y","k","color","opacity","fill","fillOpacity","stroke","strokeOpacity","strokeWidth"]);return wr(Zt(s)?null:ad(e,bo({x1:ud(E({k:-r},h)),x2:ud(E({k:r},h))},E({x1:t,x2:t,y:n,fill:s,fillOpacity:a},h))),Zt(c)?null:ld(e,bo({x:ud(h)},E({x:t,y:n,stroke:c,strokeOpacity:u,strokeWidth:f},h))))}function wJ(e,p={}){var m=p,{x:t,y:n=pe,k:r=gu.k,color:i=gu.color,opacity:o=gu.opacity,fill:s=i,fillOpacity:a=o,stroke:c=i,strokeOpacity:u,strokeWidth:f}=m,h=Y(m,["x","y","k","color","opacity","fill","fillOpacity","stroke","strokeOpacity","strokeWidth"]);return wr(Zt(s)?null:Cs(e,bo({y1:ud(E({k:-r},h)),y2:ud(E({k:r},h))},E({x:t,y1:n,y2:n,fill:s,fillOpacity:a},h))),Zt(c)?null:Lr(e,bo({y:ud(h)},E({x:t,y:n,stroke:c,strokeOpacity:u,strokeWidth:f},h))))}function ud({n:e=gu.n,k:t=0,strict:n=gu.strict,anchor:r=gu.anchor}={}){return Ly({k:e,reduce:i=>Ll(i)+t*(ys(i)||0),strict:n,anchor:r})}var TDe={ariaLabel:"tick",fill:null,stroke:"currentColor"},KM=class extends ze{constructor(t,n,r){super(t,n,r,TDe),pa(this,r)}render(t,n,r,i,o){return Ee("svg:g",o).call(rt,this,i,o).call(this._transform,this,n).call(s=>s.selectAll().data(t).enter().append("line").call(We,this).attr("x1",this._x1(n,r,i)).attr("x2",this._x2(n,r,i)).attr("y1",this._y1(n,r,i)).attr("y2",this._y2(n,r,i)).call(Tt,this,r).call(pu,this,r,o)).node()}},O1=class extends KM{constructor(t,n={}){let{x:r,y:i,inset:o=0,insetTop:s=o,insetBottom:a=o}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y",type:"band",optional:!0}},n),this.insetTop=Ut(s),this.insetBottom=Ut(a)}_transform(t,n,{x:r}){t.call(Qe,n,{x:r},Wn,0)}_x1(t,{x:n}){return r=>n[r]}_x2(t,{x:n}){return r=>n[r]}_y1({y:t},{y:n},{marginTop:r}){let{insetTop:i}=this;return n&&t?o=>n[o]+i:r+i}_y2({y:t},{y:n},{height:r,marginBottom:i}){let{insetBottom:o}=this;return n&&t?s=>n[s]+t.bandwidth()-o:r-i-o}},N1=class extends KM{constructor(t,n={}){let{x:r,y:i,inset:o=0,insetRight:s=o,insetLeft:a=o}=n;super(t,{y:{value:i,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n),this.insetRight=Ut(s),this.insetLeft=Ut(a)}_transform(t,n,{y:r}){t.call(Qe,n,{y:r},0,Wn)}_x1({x:t},{x:n},{marginLeft:r}){let{insetLeft:i}=this;return n&&t?o=>n[o]+i:r+i}_x2({x:t},{x:n},{width:r,marginRight:i}){let{insetRight:o}=this;return n&&t?s=>n[s]+t.bandwidth()-o:r-i-o}_y1(t,{y:n}){return r=>n[r]}_y2(t,{y:n}){return r=>n[r]}};function JM(e,r={}){var i=r,{x:t=pe}=i,n=Y(i,["x"]);return new O1(e,V(E({},n),{x:t}))}function eA(e,r={}){var i=r,{y:t=pe}=i,n=Y(i,["y"]);return new N1(e,V(E({},n),{y:t}))}function DJ(e,h={}){var p=h,{x:t=pe,y:n=null,r,fill:i="#ccc",fillOpacity:o,stroke:s="currentColor",strokeOpacity:a,strokeWidth:c=2,sort:u}=p,f=Y(p,["x","y","r","fill","fillOpacity","stroke","strokeOpacity","strokeWidth","sort"]);let m=n!=null?Xf:r1;return wr(Rr(e,m({x1:o6,x2:s6},E({x:t,y:n,stroke:s,strokeOpacity:a},f))),kc(e,m({x1:"p25",x2:"p75"},E({x:t,y:n,fill:i,fillOpacity:o},f))),JM(e,m({x:"p50"},E({x:t,y:n,stroke:s,strokeOpacity:a,strokeWidth:c,sort:u},f))),nn(e,bo({x:SJ},E({x:t,y:n,z:n,r,stroke:s,strokeOpacity:a},f))))}function R1(e,h={}){var p=h,{y:t=pe,x:n=null,r,fill:i="#ccc",fillOpacity:o,stroke:s="currentColor",strokeOpacity:a,strokeWidth:c=2,sort:u}=p,f=Y(p,["y","x","r","fill","fillOpacity","stroke","strokeOpacity","strokeWidth","sort"]);let m=n!=null?Zf:r1;return wr(Nr(e,m({y1:o6,y2:s6},E({x:n,y:t,stroke:s,strokeOpacity:a},f))),Fc(e,m({y1:"p25",y2:"p75"},E({x:n,y:t,fill:i,fillOpacity:o},f))),eA(e,m({y:"p50"},E({x:n,y:t,stroke:s,strokeOpacity:a,strokeWidth:c,sort:u},f))),nn(e,bo({y:SJ},E({x:n,y:t,z:n,r,stroke:s,strokeOpacity:a},f))))}function SJ(e){let t=o6(e),n=s6(e);return e.map(r=>r<t||r>n?r:NaN)}function o6(e){let t=IJ(e)*2.5-EJ(e)*1.5;return $t(e,n=>n>=t?n:NaN)}function s6(e){let t=EJ(e)*2.5-IJ(e)*1.5;return Ft(e,n=>n<=t?n:NaN)}function IJ(e){return qi(e,.25)}function EJ(e){return qi(e,.75)}var CDe={ariaLabel:"raster",stroke:null,pixelSize:1};function ky(e,t){let n=+e;if(isNaN(n))throw new Error(`invalid ${t}: ${e}`);return n}function TJ(e,t){let n=Math.floor(e);if(isNaN(n))throw new Error(`invalid ${t}: ${e}`);return n}var L1=class extends ze{constructor(t,n,r={},i){let{width:o,height:s,x:a,y:c,x1:u=a==null?0:void 0,y1:f=c==null?0:void 0,x2:h=a==null?o:void 0,y2:p=c==null?s:void 0,pixelSize:m=i.pixelSize,blur:y=0,interpolate:v}=r;if(o!=null&&(o=TJ(o,"width")),s!=null&&(s=TJ(s,"height")),u!=null&&(u=ky(u,"x1")),f!=null&&(f=ky(f,"y1")),h!=null&&(h=ky(h,"x2")),p!=null&&(p=ky(p,"y2")),a==null&&(u==null||h==null))throw new Error("missing x");if(c==null&&(f==null||p==null))throw new Error("missing y");t!=null&&o!=null&&s!=null&&(a===void 0&&u!=null&&h!=null&&(a=kDe(u,h,o,s)),c===void 0&&f!=null&&p!=null&&(c=FDe(f,p,o,s))),super(t,E({x:{value:a,scale:"x",optional:!0},y:{value:c,scale:"y",optional:!0},x1:{value:u==null?null:[u],scale:"x",optional:!0,filter:null},y1:{value:f==null?null:[f],scale:"y",optional:!0,filter:null},x2:{value:h==null?null:[h],scale:"x",optional:!0,filter:null},y2:{value:p==null?null:[p],scale:"y",optional:!0,filter:null}},n),r,i),this.width=o,this.height=s,this.pixelSize=ky(m,"pixelSize"),this.blur=ky(y,"blur"),this.interpolate=a==null||c==null?null:MDe(v)}},k1=class extends L1{constructor(t,n={}){let{imageRendering:r}=n;if(t==null){let{fill:i,fillOpacity:o}=n;Kt(o)[0]!==void 0&&(n=tA("fillOpacity",n)),Hn(i)[0]!==void 0&&(n=tA("fill",n))}super(t,void 0,n,CDe),this.imageRendering=wn(r,"auto")}scale(t,o,i){var s=o,{color:n}=s,r=Y(s,["color"]);return super.scale(t,r,i)}render(t,n,r,i,o){let s=n[r.channels.fill?.scale]??(C=>C),{x:a,y:c}=r,{document:u}=o,[f,h,p,m]=MJ(r,i,o),y=p-f,v=m-h,{pixelSize:b,width:x=Math.round(Math.abs(y)/b),height:w=Math.round(Math.abs(v)/b)}=this,D=x*w,{fill:I,fillOpacity:A}=r,T=0;if(this.interpolate){let C=x/y,F=w/v,W=Ot(a,q=>(q-f)*C,Float64Array),G=Ot(c,q=>(q-h)*F,Float64Array);I&&(I=this.interpolate(t,x,w,W,G,I)),A&&(A=this.interpolate(t,x,w,W,G,A))}else this.data==null&&t&&(T=t.fi*D);let N=u.createElement("canvas");N.width=x,N.height=w;let B=N.getContext("2d"),R=B.createImageData(x,w),P=R.data,{r:O,g:k,b:H}=Si(this.fill)??{r:0,g:0,b:0},U=(this.fillOpacity??1)*255;for(let C=0;C<D;++C){let F=C<<2;if(I){let W=s(I[C+T]);if(W==null){P[F+3]=0;continue}({r:O,g:k,b:H}=Si(W))}A&&(U=A[C+T]*255),P[F+0]=O,P[F+1]=k,P[F+2]=H,P[F+3]=U}return this.blur>0&&AF(R,this.blur),B.putImageData(R,0,0),Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,n).call(C=>C.append("image").attr("transform",`translate(${f},${h}) scale(${Math.sign(p-f)},${Math.sign(m-h)})`).attr("width",Math.abs(y)).attr("height",Math.abs(v)).attr("preserveAspectRatio","none").call(Ne,"image-rendering",this.imageRendering).call(We,this).attr("xlink:href",N.toDataURL())).node()}};function a6(e,t,n){arguments.length<3&&(n=t,t=null);let a=n,{x:r,y:i,[e]:o}=a,s=Y(a,["x","y",dj(e)]);return r===void 0&&i===void 0&&rX(t)&&(r=Xh,i=Hf,o===void 0&&(o=JZ)),[t,V(E({},s),{x:r,y:i,[e]:o})]}function CJ(){let[e,t]=a6("fill",...arguments);return new k1(e,e==null||t.fill!==void 0||t.fillOpacity!==void 0?t:V(E({},t),{fill:pe}))}function MJ({x1:e,y1:t,x2:n,y2:r},i,{projection:o}){let{width:s,height:a,marginTop:c,marginRight:u,marginBottom:f,marginLeft:h}=i;return[e&&o==null?e[0]:h,t&&o==null?t[0]:c,n&&o==null?n[0]:s-u,r&&o==null?r[0]:a-f]}function c6({x1:e,y1:t,x2:n,y2:r},i,o,s){let a={};return e&&(a.x1=e),t&&(a.y1=t),n&&(a.x2=n),r&&(a.y2=r),MJ(fy(a,i),o,s)}function tA(e,t={}){let{[e]:n}=t;if(typeof n!="function")throw new Error(`invalid ${e}: not a function`);return xn(V(E({},t),{[e]:void 0}),function(r,i,o,s,a,c){let{x:u,y:f}=s;if(!u)throw new Error("missing scale: x");if(!f)throw new Error("missing scale: y");let[h,p,m,y]=c6(o,s,a,c),v=m-h,b=y-p,{pixelSize:x}=this,{width:w=Math.round(Math.abs(v)/x),height:D=Math.round(Math.abs(b)/x)}=t,I=new Array(w*D*(i?i.length:1)),A=v/w,T=b/D,N=0;for(let B of i??[void 0])for(let R=.5;R<D;++R)for(let P=.5;P<w;++P,++N)I[N]=n(u.invert(h+P*A),f.invert(p+R*T),B);return{data:I,facets:i,channels:{[e]:{value:I,scale:"auto"}}}})}function MDe(e){if(typeof e=="function")return e;if(e==null)return nA;switch(`${e}`.toLowerCase()){case"none":return nA;case"nearest":return iA;case"barycentric":return rA();case"random-walk":return oA()}throw new Error(`invalid interpolate: ${e}`)}function nA(e,t,n,r,i,o){let s=new Array(t*n);for(let a of e)r[a]<0||r[a]>=t||i[a]<0||i[a]>=n||(s[Math.floor(i[a])*t+Math.floor(r[a])]=o[a]);return s}function rA({random:e=Bh(42)}={}){return(t,n,r,i,o,s)=>{let{points:a,triangles:c,hull:u}=la.from(t,m=>i[m],m=>o[m]),f=new s.constructor(n*r).fill(NaN),h=new Uint8Array(n*r),p=LDe(s,e);for(let m=0;m<c.length;m+=3){let y=c[m],v=c[m+1],b=c[m+2],x=a[2*y],w=a[2*v],D=a[2*b],I=a[2*y+1],A=a[2*v+1],T=a[2*b+1],N=Math.min(x,w,D),B=Math.max(x,w,D),R=Math.min(I,A,T),P=Math.max(I,A,T),O=(A-T)*(x-D)+(I-T)*(D-w);if(!O)continue;let k=s[t[y]],H=s[t[v]],U=s[t[b]];for(let C=Math.floor(N);C<B;++C)for(let F=Math.floor(R);F<P;++F){if(C<0||C>=n||F<0||F>=r)continue;let W=C+.5,G=F+.5,q=Math.sign(O),K=(A-T)*(W-D)+(G-T)*(D-w);if(K*q<0)continue;let X=(T-I)*(W-D)+(G-T)*(x-D);if(X*q<0)continue;let J=O-(K+X);if(J*q<0)continue;let re=C+n*F;f[re]=p(k,K/O,H,X/O,U,J/O,C,F),h[re]=1}}return ADe(f,h,i,o,s,n,r,u,t,p),f}}function ADe(e,t,n,r,i,o,s,a,c,u){n=Float64Array.from(a,m=>n[c[m]]),r=Float64Array.from(a,m=>r[c[m]]),i=Array.from(a,m=>i[c[m]]);let f=n.length,h=Array.from({length:f},(m,y)=>NDe(y,n,r)),p=0;for(let m=0;m<s;++m){let y=m+.5;for(let v=0;v<o;++v){let b=v+o*m;if(!t[b]){let x=v+.5;for(let w=0;w<f;++w){let D=(f+p+(w%2?(w+1)/2:-w/2))%f;if(h[D](x,y)){let I=ODe(n.at(D-1),r.at(D-1),n[D],r[D],x,y);e[b]=u(i.at(D-1),I,i[D],1-I,i[D],0,v,m),p=D;break}}}}}}function ODe(e,t,n,r,i,o){let s=n-e,a=r-t,c=s*(n-i)+a*(r-o),u=s*(i-e)+a*(o-t);return c>0&&u>0?c/(c+u):+(c>u)}function P1(e,t,n,r){return e*r-n*t}function NDe(e,t,n){let r=t.length,i=t.at(e-2),o=n.at(e-2),s=t.at(e-1),a=n.at(e-1),c=t[e],u=n[e],f=t.at(e+1-r),h=n.at(e+1-r),p=s-c,m=a-u,y=i-s,v=o-a,b=c-f,x=u-h,w=Math.hypot(p,m),D=Math.hypot(y,v),I=Math.hypot(b,x);return(A,T)=>{let N=A-s,B=T-a,R=A-c,P=T-u;return P1(N,B,R,P)>-1e-6&&P1(N,B,p,m)*D-P1(N,B,y,v)*w>-1e-6&&P1(R,P,b,x)*w-P1(R,P,p,m)*I<=0}}function iA(e,t,n,r,i,o){let s=new o.constructor(t*n),a=la.from(e,f=>r[f],f=>i[f]),c,u;for(let f=.5,h=0;f<n;++f){u=c;for(let p=.5;p<t;++p,++h)u=a.find(p,f,u),p===.5&&(c=u),s[h]=o[e[u]]}return s}function oA({random:e=Bh(42),minDistance:t=.5,maxSteps:n=2}={}){return(r,i,o,s,a,c)=>{let u=new c.constructor(i*o),f=la.from(r,y=>s[y],y=>a[y]),h,p,m;for(let y=.5,v=0;y<o;++y){p=h;for(let b=.5;b<i;++b,++v){let x=b,w=y;m=p=f.find(x,w,p),b===.5&&(h=p);let D,I=0;for(;(D=Math.hypot(s[r[m]]-x,a[r[m]]-w))>t&&I<n;){let A=e(b,y,I)*2*Math.PI;x+=Math.cos(A)*D,w+=Math.sin(A)*D,m=f.find(x,w,m),++I}u[v]=c[r[m]]}}return u}}function RDe(e,t,n,r,i,o){return t*e+r*n+o*i}function PDe(e){return(t,n,r,i,o,s,a,c)=>{let u=e(a,c);return u<n?t:u<n+i?r:o}}function LDe(e,t){return su(e)||Gn(e)?RDe:PDe(t)}function kDe(e,t,n){return{transform(r){let i=r.length,o=new Float64Array(i),s=(t-e)/n,a=e+s/2;for(let c=0;c<i;++c)o[c]=c%n*s+a;return o}}}function FDe(e,t,n,r){return{transform(i){let o=i.length,s=new Float64Array(o),a=(t-e)/r,c=e+a/2;for(let u=0;u<o;++u)s[u]=Math.floor(u/n)%r*a+c;return s}}}var AJ={ariaLabel:"contour",fill:"none",stroke:"currentColor",strokeMiterlimit:1,pixelSize:2},F1=class extends L1{constructor(t,o={}){var s=o,{smooth:n=!0,value:r}=s,i=Y(s,["smooth","value"]);let a=yM({},i,AJ);if(r===void 0){for(let u in a)if(a[u].value!=null){if(r!==void 0)throw new Error("ambiguous contour value");r=i[u],i[u]="value"}}if(r!=null){let u={transform:f=>f.map(h=>h.value),label:gi(r)};for(let f in a)i[f]==="value"&&(i[f]=u)}if(t==null){if(r==null)throw new Error("missing contour value");i=tA("value",E({value:r},i)),r=null}else{let{interpolate:u}=i;r===void 0&&(r=pe),u===void 0&&(i.interpolate="nearest")}super(t,{value:{value:r,optional:!0}},BDe(i),AJ);let c={geometry:{value:pe}};for(let u in this.channels){let f=this.channels[u],{scale:h}=f;h==="x"||h==="y"||u==="value"||(c[u]=f,delete this.channels[u])}this.contourChannels=c,this.smooth=!!n}filter(t,a,s){var c=a,{x:n,y:r,value:i}=c,o=Y(c,["x","y","value"]);return super.filter(t,o,s)}render(t,n,r,i,o){let{geometry:s}=r,a=Gr();return Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,n).call(c=>{c.selectAll().data(t).enter().append("path").call(We,this).attr("d",u=>a(s[u])).call(Tt,this,r)}).node()}};function BDe(r){var i=r,{thresholds:e,interval:t}=i,n=Y(i,["thresholds","interval"]);return e=e6(e,t,If),xn(n,function(o,s,a,c,u,f){let[h,p,m,y]=c6(a,c,u,f),v=m-h,b=y-p,{pixelSize:x,width:w=Math.round(Math.abs(v)/x),height:D=Math.round(Math.abs(b)/x)}=this,I=w/v,A=D/b,T=a.value.value,N=[];if(this.interpolate){let{x:k,y:H}=Oc(a,c,f),U=Ot(k,G=>(G-h)*I,Float64Array),C=Ot(H,G=>(G-p)*A,Float64Array),F=[a.x,a.y,a.value],W=[U,C,T];for(let G of s){let q=this.filter(G,F,W);N.push(this.interpolate(q,w,D,U,C,T))}}else if(s){let k=w*D,H=s.length;for(let U=0;U<H;++U)N.push(T.slice(U*k,U*k+k))}else N.push(T);if(this.blur>0)for(let k of N)gv({data:k,width:w,height:D},this.blur);let B=VDe(e,T,...UDe(N));if(B===null)throw new Error(`unsupported thresholds: ${e}`);let{contour:R}=Mh().size([w,D]).smooth(this.smooth),P=[],O=[];for(let k of N)O.push(Jn(P.length,P.push(...Ot(B,H=>R(k,H)))));for(let{coordinates:k}of P)for(let H of k)for(let U of H)for(let C of U)C[0]=C[0]/I+h,C[1]=C[1]/A+p;return{data:P,facets:O,channels:iM(this.contourChannels,P)}})}function VDe(e,t,n,r){if(typeof e?.range=="function")return e.range(e.floor(n),r);if(typeof e=="function"&&(e=e(t,n,r)),typeof e!="number")return Ho(e);let i=di(...hg(n,r,e),e);for(;i[i.length-1]>=r;)i.pop();for(;i[1]<n;)i.shift();return i}function NJ(){return new F1(...a6("value",...arguments))}function UDe(e){return[$t(e,t=>$t(t,OJ)),Ft(e,t=>Ft(t,OJ))]}function OJ(e){return isFinite(e)?e:NaN}function LJ(e,t){return l6(Rc,e,t)}function kJ(e,t={}){return l6(Or,e,t)}function FJ(e,t={}){return l6(hu,e,t)}function l6(e,t,n={}){let{x:r,y:i,maxRadius:o}=n,s=e({px:r,py:i,maxRadius:o}),a=[];r!=null&&a.push(Nr(t,RJ("x",V(E({},s),{inset:-6}),n))),i!=null&&a.push(Rr(t,RJ("y",V(E({},s),{inset:-6}),n))),r!=null&&a.push(Ri(t,PJ("x",V(E({},s),{dy:9,frameAnchor:"bottom",lineAnchor:"top"}),n))),i!=null&&a.push(Ri(t,PJ("y",V(E({},s),{dx:-9,frameAnchor:"left",textAnchor:"end"}),n)));for(let c of a)c.ariaLabel=`crosshair ${c.ariaLabel}`;return wr(...a)}function BJ(e,h,{facet:r,facetAnchor:i,fx:o,fy:s,[e]:a,channels:c,transform:u,initializer:f}){var p=h,{channels:t}=p,n=Y(p,["channels"]);return V(E({},n),{facet:r,facetAnchor:i,fx:o,fy:s,[e]:a,channels:E(E({},t),c),transform:u,initializer:jDe(e,f)})}function jDe(e,t){return t==null?t:function(n,r,f,...u){var h=f,{x:i,y:o,px:s,py:a}=h,c=Y(h,["x","y","px","py"]);let b=t.call(this,n,r,V(E({},c),{x:s,y:a}),...u),{channels:x={}}=b,w=x,{x:p,y:m}=w,y=Y(w,["x","y"]),v=Y(b,["channels"]);return E({channels:E(E(E({},y),p&&E({px:p},e==="x"&&{x:p})),m&&E({py:m},e==="y"&&{y:m}))},v)}}function RJ(e,t,n){let{color:r="currentColor",opacity:i=.2,ruleStroke:o=r,ruleStrokeOpacity:s=i,ruleStrokeWidth:a}=n;return V(E({},BJ(e,t,n)),{stroke:o,strokeOpacity:s,strokeWidth:a})}function PJ(e,t,n){let{color:r="currentColor",textFill:i=r,textFillOpacity:o,textStroke:s="var(--plot-background)",textStrokeOpacity:a,textStrokeWidth:c=5}=n;return V(E({},BJ(e,t,$De(e,n))),{fill:i,fillOpacity:o,stroke:s,strokeOpacity:a,strokeWidth:c})}function $De(e,t){return xn(t,(n,r,i)=>({channels:{text:{value:s1(i,e)?.value}}}))}var zDe={ariaLabel:"delaunay link",fill:"none",stroke:"currentColor",strokeMiterlimit:1},HDe={ariaLabel:"delaunay mesh",fill:null,stroke:"currentColor",strokeOpacity:.2},GDe={ariaLabel:"hull",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeMiterlimit:1},qDe={ariaLabel:"voronoi",fill:"none",stroke:"currentColor",strokeMiterlimit:1},WDe={ariaLabel:"voronoi mesh",fill:null,stroke:"currentColor",strokeOpacity:.2},u6=class extends ze{constructor(t,n={}){let{x:r,y:i,z:o,curve:s,tension:a}=n;super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},z:{value:o,optional:!0}},n,zDe),this.curve=I1(s,a),pa(this,n)}render(t,n,r,i,o){let{x:s,y:a}=n,{x:c,y:u,z:f}=r,{curve:h}=this,[p,m]=Kr(this,i),y=c?w=>c[w]:qn(p),v=u?w=>u[w]:qn(m),b=this;function x(w){let D=-1,I=[],A={};for(let U in r)A[U]=[];let T=[],N=[],B=[],R=[];function P(U,C){U=w[U],C=w[C],I.push(++D),T[D]=y(U),B[D]=v(U),N[D]=y(C),R[D]=v(C);for(let F in r)A[F].push(r[F][C])}let{halfedges:O,hull:k,triangles:H}=la.from(w,y,v);for(let U=0;U<O.length;++U){let C=O[U];C>U&&P(H[U],H[C])}for(let U=0;U<k.length;++U)P(k[U],k[(U+1)%k.length]);ln(this).selectAll().data(I).enter().append("path").call(We,b).attr("d",U=>{let C=Xi(),F=h(C);return F.lineStart(),F.point(T[U],B[U]),F.point(N[U],R[U]),F.lineEnd(),C}).call(Tt,b,A).call(pu,b,A,o)}return Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,{x:c&&s,y:u&&a}).call(f?w=>w.selectAll().data(fi(t,D=>f[D]).values()).enter().append("g").each(x):w=>w.datum(t).each(x)).node()}},B1=class extends ze{constructor(t,n={},r,i=({z:o})=>o){let{x:o,y:s}=n;super(t,{x:{value:o,scale:"x",optional:!0},y:{value:s,scale:"y",optional:!0},z:{value:i(n),optional:!0}},n,r)}render(t,n,r,i,o){let{x:s,y:a}=n,{x:c,y:u,z:f}=r,[h,p]=Kr(this,i),m=c?x=>c[x]:qn(h),y=u?x=>u[x]:qn(p),v=this;function b(x){let w=la.from(x,m,y);ln(this).append("path").datum(x[0]).call(We,v).attr("d",v._render(w,i)).call(Tt,v,r)}return Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,{x:c&&s,y:u&&a}).call(f?x=>x.selectAll().data(fi(t,w=>f[w]).values()).enter().append("g").each(b):x=>x.datum(t).each(b)).node()}},f6=class extends B1{constructor(t,n={}){super(t,n,HDe),this.fill="none"}_render(t){return t.render()}},d6=class extends B1{constructor(t,n={}){super(t,n,GDe,Oi)}_render(t){return t.renderHull()}},h6=class extends ze{constructor(t,n={}){let{x:r,y:i,z:o}=n;super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},z:{value:o,optional:!0}},xn(n,function(s,a,c,u,f,h){let{x:p,y:m,z:y}=c;({x:p,y:m}=Oc(c,u,h)),y=y?.value;let v=new Array((p??m).length).fill(null),[b,x]=Kr(this,f),w=p?I=>p[I]:qn(b),D=m?I=>m[I]:qn(x);for(let I of a){p&&(I=I.filter(A=>Fn(w(A)))),m&&(I=I.filter(A=>Fn(D(A))));for(let[,A]of Cc(I,y)){let T=la.from(A,w,D),N=VJ(T,f);for(let B=0,R=A.length;B<R;++B)v[A[B]]=N.renderCell(B)}}return{data:s,facets:a,channels:{cells:{value:v}}}}),qDe)}render(t,n,r,i,o){let{x:s,y:a}=n,{x:c,y:u,cells:f}=r;return Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,{x:c&&s,y:u&&a}).call(h=>{h.selectAll().data(t).enter().append("path").call(We,this).attr("d",p=>f[p]).call(Tt,this,r)}).node()}},p6=class extends B1{constructor(t,n){super(t,n,WDe),this.fill="none"}_render(t,n){return VJ(t,n).render()}};function VJ(e,t){let{width:n,height:r,marginTop:i,marginRight:o,marginBottom:s,marginLeft:a}=t;return e.voronoi([a,i,n-o,r-s])}function V1(e,t,o={}){var s=o,{x:n,y:r}=s,i=Y(s,["x","y"]);return[n,r]=nr(n,r),new e(t,V(E({},i),{x:n,y:r}))}function UJ(e,t){return V1(u6,e,t)}function jJ(e,t){return V1(f6,e,t)}function $J(e,t){return V1(d6,e,t)}function zJ(e,o={}){var s=o,{x:t,y:n,initializer:r}=s,i=Y(s,["x","y","initializer"]);return V1(h6,e,V(E({},xr(V(E({},i),{x:t,y:n}),FM)),{initializer:r}))}function HJ(e,t){return V1(p6,e,t)}var YDe={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1},U1=class extends ze{constructor(t,u={}){var f=u,{x:n,y:r,z:i,weight:o,fill:s,stroke:a}=f,c=Y(f,["x","y","z","weight","fill","stroke"]);let h=GJ(s)&&(s="currentColor",!0),p=GJ(a)&&(a="currentColor",!0);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},z:{value:Oi({z:i,fill:s,stroke:a}),optional:!0},weight:{value:o,optional:!0}},XDe(V(E({},c),{fill:s,stroke:a}),h,p),YDe),h&&(this.fill=void 0),p&&(this.stroke=void 0),this.z=i}filter(t){return t}render(t,n,r,i,o){let{contours:s}=r,a=Gr();return Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,{}).call(c=>c.selectAll().data(t).enter().append("path").call(We,this).call(Tt,this,r).attr("d",u=>a(s[u]))).node()}};function qJ(e,i={}){var o=i,{x:t,y:n}=o,r=Y(o,["x","y"]);return[t,n]=nr(t,n),new U1(e,V(E({},r),{x:t,y:n}))}var ZDe=new Set(["x","y","z","weight"]);function XDe(e,t,n){let{bandwidth:i,thresholds:o}=e;return i=i===void 0?20:+i,o=o===void 0?20:typeof o?.[Symbol.iterator]=="function"?br(o):+o,xn(e,function(s,a,c,u,f,h){let p=c.weight?br(c.weight.value):null,m=c.z?.value,{z:y}=this,[v,b]=Kr(this,f),{width:x,height:w}=f,{x:D,y:I}=Oc(c,u,h),A=Object.fromEntries(Object.entries(c).filter(([H])=>!ZDe.has(H)).map(([H,U])=>[H,V(E({},U),{value:[]})])),T=t&&[],N=n&&[],B=yB().x(D?H=>D[H]:v).y(I?H=>I[H]:b).weight(p?H=>p[H]:1).size([x,w]).bandwidth(i),R=[];for(let H of a){let U=[];R.push(U);for(let C of m?d1(H,m,y):[H]){let F=B.contours(C);U.push([C,F])}}let P=o;if(!(P instanceof Kb)){let H=0;for(let U of R)for(let[,C]of U){let F=C.max;F>H&&(H=F)}P=Float64Array.from({length:o-1},(U,C)=>H*100*(C+1)/o)}let O=[],k=[];for(let H of R){let U=[];O.push(U);for(let[C,F]of H)for(let W of P){U.push(k.length),k.push(F(W/100)),T&&T.push(W),N&&N.push(W);for(let G in A)A[G].value.push(c[G].value[C[0]])}}return T&&T.push(0),N&&N.push(0),{data:s,facets:O,channels:V(E(E(E({},A),T&&{fill:{value:T,scale:"color"}}),N&&{stroke:{value:N,scale:"color"}}),{contours:{value:k}})}})}function GJ(e){return/^density$/i.test(e)}function ZJ(e,t){return QJ("x",e,t)}function XJ(e,t){return QJ("y",e,t)}function QJ(e,t,A={}){var T=A,{x1:n,x2:r,y1:i,y2:o,x:s=n===void 0&&r===void 0?e==="y"?mn:pe:void 0,y:a=i===void 0&&o===void 0?e==="x"?mn:pe:void 0,fill:c,positiveFill:u="#3ca951",negativeFill:f="#4269d0",fillOpacity:h=1,positiveFillOpacity:p=h,negativeFillOpacity:m=h,stroke:y,strokeOpacity:v,z:b=Hn(y)[0],clip:x,tip:w,render:D}=T,I=Y(T,["x1","x2","y1","y2","x","y","fill","positiveFill","negativeFill","fillOpacity","positiveFillOpacity","negativeFillOpacity","stroke","strokeOpacity","z","clip","tip","render"]);return[n,r]=WJ(s,n,r),[i,o]=WJ(a,i,o),n===r&&i===o&&(e==="y"?i=yu(0):n=yu(0)),{tip:w}=ha({tip:w},e==="y"?"x":"y"),wr(Zt(u)?null:Object.assign(up(t,E({x1:n,x2:r,y1:i,y2:o,z:b,fill:u,fillOpacity:p,render:du(D,YJ(e,!0)),clip:x},I)),{ariaLabel:"positive difference"}),Zt(f)?null:Object.assign(up(t,E({x1:n,x2:r,y1:i,y2:o,z:b,fill:f,fillOpacity:m,render:du(D,YJ(e,!1)),clip:x},I)),{ariaLabel:"negative difference"}),Yo(t,E({x:r,y:o,z:b,stroke:y,strokeOpacity:v,tip:w,clip:!0},I)))}function WJ(e,t,n){return t===void 0&&n===void 0?t=n=yu(e):t===void 0?(n=yu(n),t=e===void 0?n:yu(e)):n===void 0?(t=yu(t),n=e===void 0?t:yu(e)):(t=yu(t),n=yu(n)),[t,n]}function yu(e){let t,{value:n,label:r=gi(n)}=Es(e);return{transform:i=>t||(t=ke(i,n)),label:r}}function YJ(e,t){let n=e==="x"?"y":"x",r=`${n}1`,i=`${n}2`,o=`${e}1`,s=`${e}2`;return(a,c,u,f,h,p)=>{let{[r]:m,[i]:y}=u,v=new Float32Array(m.length),b=new Float32Array(y.length),x=f[e==="y"?"height":"width"];(t===cM(c[e])<0?v:b).fill(x);let w=p(a,c,V(E({},u),{[i]:m,[s]:b}),f,h),D=p(a,c,V(E({},u),{[r]:y,[o]:v}),f,h),I=w.querySelector("g")??w,A=D.querySelector("g")??D;for(let T=0;I.firstChild;T+=2){let N=MV(),B=Ee("svg:clipPath",h).attr("id",N).node();B.appendChild(I.firstChild),A.childNodes[T].setAttribute("clip-path",`url(#${N})`),A.insertBefore(B,A.childNodes[T])}return D}}function sA(n={}){var r=n,{geometry:e=pe}=r,t=Y(r,["geometry"]);let i=Jf(o=>ke(o,e));return xn(V(E({},t),{x:null,y:null,geometry:{transform:i}}),(o,s,a,c,u,{projection:f})=>{let h=i(o),p=h.length,m=new Float64Array(p),y=new Float64Array(p),v=Gr(f);for(let b=0;b<p;++b)[m[b],y[b]]=v.centroid(h[b]);return{data:o,facets:s,channels:{x:{value:m,scale:f==null?"x":null,source:null},y:{value:y,scale:f==null?"y":null,source:null}}}})}function KJ(n={}){var r=n,{geometry:e=pe}=r,t=Y(r,["geometry"]);let i=Jf(s=>ke(s,e)),o=Jf(s=>ke(i(s),RB));return V(E({},t),{x:{transform:s=>Float64Array.from(o(s),([a])=>a)},y:{transform:s=>Float64Array.from(o(s),([,a])=>a)},geometry:{transform:i}})}var QDe={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1},j1=class extends ze{constructor(t,n={}){let[r,i]=Kt(n.r,3);super(t,{x:{value:n.tip?n.x:null,scale:"x",optional:!0},y:{value:n.tip?n.y:null,scale:"y",optional:!0},r:{value:r,scale:"r",filter:to,optional:!0},geometry:{value:n.geometry,scale:"projection"}},M1(n),QDe),this.r=i}render(t,n,r,i,o){let{geometry:s,r:a}=r,c=Gr(o.projection??KDe(n)),{r:u}=this;return Vf(u)?t=[]:u!==void 0&&c.pointRadius(u),Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,n).call(f=>{f.selectAll().data(t).enter().append("path").call(We,this).attr("d",a?h=>c.pointRadius(a[h])(s[h]):h=>c(s[h])).call(Tt,this,r)}).node()}};function KDe({x:e,y:t}){if(e||t)return e??=n=>n,t??=n=>n,kh({point(n,r){this.stream.point(e(n),t(r))}})}function aA(e,t={}){return t.tip&&t.x===void 0&&t.y===void 0?t=sA(t):t.geometry===void 0&&(t=V(E({},t),{geometry:pe})),new j1(e,t)}function JJ(n={}){var r=n,{strokeWidth:e=1.5}=r,t=Y(r,["strokeWidth"]);return aA({type:"Sphere"},E({strokeWidth:e},t))}function eee(n={}){var r=n,{strokeOpacity:e=.1}=r,t=Y(r,["strokeOpacity"]);return aA(VB(),E({strokeOpacity:e},t))}var Fy=.5,By=0;function tee(e={fill:"count"},r={}){var i=r,{binWidth:t}=i,n=Y(i,["binWidth"]);let{z:o}=n;return t=t===void 0?20:Ut(t),e=nV(e,n),Mc(e,"fill")&&(n.channels=V(E({},n.channels),{fill:{value:[]}})),n.symbol===void 0&&(n.symbol="hexagon"),n.r===void 0&&!Mc(e,"r")&&(n.r=t/2),xn(n,(s,a,c,u,f,h)=>{let{x:p,y:m,z:y,fill:v,stroke:b,symbol:x}=c;if(p===void 0)throw new Error("missing channel: x");if(m===void 0)throw new Error("missing channel: y");({x:p,y:m}=Oc(c,u,h)),y=y?y.value:ke(s,o),v=v?.value,b=b?.value,x=x?.value;let w=o1(e,{z:y,fill:v,stroke:b,symbol:x}),D=y&&[],I=v&&[],A=b&&[],T=x&&[],N=[],B=[],R=[],P=-1;for(let U of e)U.initialize(s);for(let U of a){let C=[];for(let F of e)F.scope("facet",U);for(let[F,W]of Cc(U,w))for(let{index:G,extent:q}of JDe(s,W,p,m,t)){C.push(++P),B.push(q.x),R.push(q.y),y&&D.push(w===y?F:y[G[0]]),v&&I.push(w===v?F:v[G[0]]),b&&A.push(w===b?F:b[G[0]]),x&&T.push(w===x?F:x[G[0]]);for(let K of e)K.reduce(G,q)}N.push(C)}let O=c.x.scale,k=c.y.scale,H=E(E(E(E(E({x:{value:B,source:u[O]?{value:Ot(B,u[O].invert),scale:O}:null},y:{value:R,source:u[k]?{value:Ot(R,u[k].invert),scale:k}:null}},y&&{z:{value:D}}),v&&{fill:{value:I,scale:"auto"}}),b&&{stroke:{value:A,scale:"auto"}}),x&&{symbol:{value:T,scale:"auto"}}),Object.fromEntries(e.map(({name:U,output:C})=>[U,{scale:"auto",label:C.label,radius:U==="r"?t/2:void 0,value:C.transform()}])));return{data:s,facets:N,channels:H}})}function JDe(e,t,n,r,i){let o=i*(1.5/q4),s=new Map;for(let a of t){let c=n[a],u=r[a];if(isNaN(c)||isNaN(u))continue;let f=Math.round(u=(u-By)/o),h=Math.round(c=(c-Fy)/i-(f&1)/2),p=u-f;if(Math.abs(p)*3>1){let v=c-h,b=h+(c<h?-1:1)/2,x=f+(u<f?-1:1),w=c-b,D=u-x;v*v+p*p>w*w+D*D&&(h=b+(f&1?1:-1)/2,f=x)}let m=`${h},${f}`,y=s.get(m);y===void 0&&(y={index:[],extent:{data:e,x:(h+(f&1)/2)*i+Fy,y:f*o+By}},s.set(m,y)),y.index.push(a)}return s.values()}var eSe={ariaLabel:"hexgrid",fill:"none",stroke:"currentColor",strokeOpacity:.1};function nee(e){return new $1(e)}var $1=class extends ze{constructor(i={}){var o=i,{binWidth:t=20,clip:n=!0}=o,r=Y(o,["binWidth","clip"]);super(zf,void 0,E({clip:n},r),eSe),this.binWidth=Ut(t)}render(t,n,r,i,o){let{binWidth:s}=this,{marginTop:a,marginRight:c,marginBottom:u,marginLeft:f,width:h,height:p}=i,m=f-Fy,y=h-c-Fy,v=a-By,b=p-u-By,x=s/2,w=x*W4,D=w/2,I=x*2,A=w*1.5,T=Math.floor(m/I),N=Math.ceil(y/I),B=Math.floor((v+D)/A),R=Math.ceil((b-D)/A)+1,P=`m0,${fd(-w)}l${fd(x)},${fd(D)}v${fd(w)}l${fd(-x)},${fd(D)}`,O=P;for(let k=B;k<R;++k)for(let H=T;H<N;++H)O+=`M${fd(H*I+(k&1)*x)},${fd(k*A)}${P}`;return Ee("svg:g",o).datum(0).call(rt,this,i,o).call(Qe,this,{},Wn+Fy,Wn+By).call(k=>k.append("path").call(We,this).call(Tt,this,r).attr("d",O)).node()}};function fd(e){return Math.round(e*1e3)/1e3}var tSe={ariaLabel:"image",fill:null,stroke:null};function nSe(e){return/^\.*\//.test(e)}function rSe(e){return/^(blob|data|file|http|https):/i.test(e)}function iSe(e){return typeof e=="string"&&(nSe(e)||rSe(e))?[void 0,e]:[e,void 0]}var z1=class extends ze{constructor(t,n={}){let{x:r,y:i,r:o,width:s,height:a,rotate:c,src:u,preserveAspectRatio:f,crossOrigin:h,frameAnchor:p,imageRendering:m}=n;o==null&&(o=void 0),o===void 0&&s===void 0&&a===void 0?s=a=16:s===void 0&&a!==void 0?s=a:a===void 0&&s!==void 0&&(a=s);let[y,v]=iSe(u),[b,x]=Kt(o),[w,D]=Kt(s,x!==void 0?x*2:void 0),[I,A]=Kt(a,x!==void 0?x*2:void 0),[T,N]=Kt(c,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:b,scale:"r",filter:to,optional:!0},width:{value:w,filter:to,optional:!0},height:{value:I,filter:to,optional:!0},rotate:{value:T,optional:!0},src:{value:y,optional:!0}},M1(n),tSe),this.src=v,this.width=D,this.rotate=N,this.height=A,this.r=x,this.preserveAspectRatio=wn(f,"xMidYMid"),this.crossOrigin=ar(h),this.frameAnchor=Tc(p),this.imageRendering=wn(m,"auto")}render(t,n,r,i,o){let{x:s,y:a}=n,{x:c,y:u,width:f,height:h,r:p,rotate:m,src:y}=r,{r:v,width:b,height:x,rotate:w}=this,[D,I]=Kr(this,i);return Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,{x:c&&s,y:u&&a}).call(A=>A.selectAll().data(t).enter().append("image").call(We,this).attr("x",ree(c,f,p,D,b,v)).attr("y",ree(u,h,p,I,x,v)).attr("width",f?T=>f[T]:b!==void 0?b:p?T=>p[T]*2:v*2).attr("height",h?T=>h[T]:x!==void 0?x:p?T=>p[T]*2:v*2).attr("transform",m?T=>`rotate(${m[T]})`:w?`rotate(${w})`:null).attr("transform-origin",m||w?ma`${c?T=>c[T]:D}px ${u?T=>u[T]:I}px`:null).call(Ne,"href",y?T=>y[T]:this.src).call(Ne,"preserveAspectRatio",this.preserveAspectRatio).call(Ne,"crossorigin",this.crossOrigin).call(Ne,"image-rendering",this.imageRendering).call(Ne,"clip-path",p?T=>`circle(${p[T]}px)`:v!==void 0?`circle(${v}px)`:null).call(Tt,this,r)).node()}};function ree(e,t,n,r,i,o){return t&&e?s=>e[s]-t[s]/2:t?s=>r-t[s]/2:e&&i!==void 0?s=>e[s]-i/2:i!==void 0?r-i/2:n&&e?s=>e[s]-n[s]:n?s=>r-n[s]:e?s=>e[s]-o:r-o}function iee(e,i={}){var o=i,{x:t,y:n}=o,r=Y(o,["x","y"]);return r.frameAnchor===void 0&&([t,n]=nr(t,n)),new z1(e,V(E({},r),{x:t,y:n}))}function oSe(e,t,n){var r=1e-8,i=t-1,o=n-1,s=0,a,c,u,f,h,p,m,y,v,b,x;if(e<=0)return 0;if(e>=1)return 1;for(t>=1&&n>=1?(u=e<.5?e:1-e,f=Math.sqrt(-2*Math.log(u)),m=(2.30753+f*.27061)/(1+f*(.99229+f*.04481))-f,e<.5&&(m=-m),y=(m*m-3)/6,v=2/(1/(2*t-1)+1/(2*n-1)),b=m*Math.sqrt(y+v)/v-(1/(2*n-1)-1/(2*t-1))*(y+5/6-2/(3*v)),m=t/(t+n*Math.exp(2*b))):(a=Math.log(t/(t+n)),c=Math.log(n/(t+n)),f=Math.exp(t*a)/t,h=Math.exp(n*c)/n,b=f+h,e<f/b?m=Math.pow(t*b*e,1/t):m=1-Math.pow(n*b*(1-e),1/n)),x=-Vy(t)-Vy(n)+Vy(t+n);s<10;s++){if(m===0||m===1)return m;if(p=sSe(m,t,n)-e,f=Math.exp(i*Math.log(m)+o*Math.log(1-m)+x),h=p/f,m-=f=h/(1-.5*Math.min(1,h*(i/m-o/(1-m)))),m<=0&&(m=.5*(m+f)),m>=1&&(m=.5*(m+f+1)),Math.abs(f)<r*m&&s>0)break}return m}function sSe(e,t,n){var r=e===0||e===1?0:Math.exp(Vy(t+n)-Vy(t)-Vy(n)+t*Math.log(e)+n*Math.log(1-e));return e<0||e>1?!1:e<(t+1)/(t+n+2)?r*oee(e,t,n)/t:1-r*oee(1-e,n,t)/n}function oee(e,t,n){var r=1e-30,i=1,o=t+n,s=t+1,a=t-1,c=1,u=1-o*e/s,f,h,p,m;for(Math.abs(u)<r&&(u=r),u=1/u,m=u;i<=100&&(f=2*i,h=i*(n-i)*e/((a+f)*(t+f)),u=1+h*u,Math.abs(u)<r&&(u=r),c=1+h/c,Math.abs(c)<r&&(c=r),u=1/u,m*=u*c,h=-(t+i)*(o+i)*e/((t+f)*(s+f)),u=1+h*u,Math.abs(u)<r&&(u=r),c=1+h/c,Math.abs(c)<r&&(c=r),u=1/u,p=u*c,m*=p,!(Math.abs(p-1)<3e-7));i++);return m}function Vy(e){var t=0,n=[76.18009172947146,-86.5053203294167,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],r=1.000000000190015,i,o,s;for(s=(o=i=e)+5.5,s-=(i+.5)*Math.log(s);t<6;t++)r+=n[t]/++o;return Math.log(2.506628274631*r/i)-s}function see(e,t){var n=oSe(2*Math.min(e,1-e),.5*t,.5);return n=Math.sqrt(t*(1-n)/n),e>.5?n:-n}var aSe={ariaLabel:"linear-regression",fill:"currentColor",fillOpacity:.1,stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1},cA=class extends ze{constructor(t,n={}){let{x:r,y:i,z:o,ci:s=.95,precision:a=4}=n;if(super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Oi(n),optional:!0}},n,aSe),this.z=o,this.ci=+s,this.precision=+a,!(0<=this.ci&&this.ci<1))throw new Error(`invalid ci; not in [0, 1): ${s}`);if(!(this.precision>0))throw new Error(`invalid precision: ${a}`)}render(t,n,r,i,o){let{x:s,y:a,z:c}=r,{ci:u}=this;return Ee("svg:g",o).call(rt,this,i,o).call(Qe,this,n).call(f=>f.selectAll().data(c?d1(t,c,this.z):[t]).enter().call(h=>h.append("path").attr("fill","none").call(We,this).call(tp,this,V(E({},r),{fill:null,fillOpacity:null})).attr("d",p=>this._renderLine(p,s,a)).call(u&&!au(this.fill)?p=>p.select(cSe).attr("stroke","none").call(We,this).call(tp,this,V(E({},r),{stroke:null,strokeOpacity:null,strokeWidth:null})).attr("d",m=>this._renderBand(m,s,a)):()=>{}))).node()}};function cSe(){return this.parentNode.insertBefore(this.ownerDocument.createElementNS(Wi.svg,"path"),this)}var m6=class extends cA{constructor(t,n){super(t,n)}_renderBand(t,n,r){let{ci:i,precision:o}=this,[s,a]=qt(t,f=>r[f]),c=lA(t,r,n),u=lee(t,r,n,(1-i)/2,c);return Yg().y(f=>f).x0(f=>u(f,-1)).x1(f=>u(f,1))(Jn(s,a-o/2,o).concat(a))}_renderLine(t,n,r){let[i,o]=qt(t,a=>r[a]),s=lA(t,r,n);return`M${s(i)},${i}L${s(o)},${o}`}},g6=class extends cA{constructor(t,n){super(t,n)}_renderBand(t,n,r){let{ci:i,precision:o}=this,[s,a]=qt(t,f=>n[f]),c=lA(t,n,r),u=lee(t,n,r,(1-i)/2,c);return Yg().x(f=>f).y0(f=>u(f,-1)).y1(f=>u(f,1))(Jn(s,a-o/2,o).concat(a))}_renderLine(t,n,r){let[i,o]=qt(t,a=>n[a]),s=lA(t,n,r);return`M${i},${s(i)}L${o},${s(o)}`}};function aee(e,s={}){var a=s,{y:t=mn,x:n=pe,stroke:r,fill:i=Zt(r)?"currentColor":r}=a,o=Y(a,["y","x","stroke","fill"]);return new m6(e,My(V(E({},o),{x:n,y:t,fill:i,stroke:r})))}function cee(e,s={}){var a=s,{x:t=mn,y:n=pe,stroke:r,fill:i=Zt(r)?"currentColor":r}=a,o=Y(a,["x","y","stroke","fill"]);return new g6(e,Cy(V(E({},o),{x:t,y:n,fill:i,stroke:r})))}function lA(e,t,n){let r=0,i=0,o=0,s=0;for(let f of e){let h=t[f],p=n[f];r+=h,i+=p,o+=h*p,s+=h*h}let a=e.length,c=(a*o-r*i)/(a*s-r*r),u=(i-c*r)/a;return f=>c*f+u}function lee(e,t,n,r,i){let o=zr(e,f=>t[f])/e.length,s=0,a=0;for(let f of e)s+=(t[f]-o)**2,a+=(n[f]-i(t[f]))**2;let c=Math.sqrt(a/(e.length-2)),u=see(r,e.length-2);return(f,h)=>{let p=i(f),m=c*Math.sqrt(1/e.length+(f-o)**2/s);return p+h*u*m}}function H1(u={}){var f=u,{path:e=pe,delimiter:t,frameAnchor:n,treeLayout:r=Fh,treeSort:i,treeSeparation:o,treeAnchor:s,treeFilter:a}=f,c=Y(f,["path","delimiter","frameAnchor","treeLayout","treeSort","treeSeparation","treeAnchor","treeFilter"]);s=hA(s),i=dee(i),a!=null&&(a=_6(a)),n===void 0&&(n=s.frameAnchor);let h=hee(t),p=bee(c,_6),[m,y]=Xr(),[v,b]=Xr();return E(E({x:m,y:v,frameAnchor:n},xr(c,(x,w)=>{let D=h(ke(x,e)),I=y([]),A=b([]),T=-1,N=[],B=[],R=oT().path(k=>D[k]),P=vo(x)?k=>k.data=x[k.data]:k=>k.data=x.get(k.data),O=r();O.nodeSize&&O.nodeSize([1,1]),O.separation&&o!==void 0&&O.separation(o??Jb);for(let k of p)k[fA]=k[_ee]([]);for(let k of w){let H=[],U=R(k.filter(C=>D[C]!=null)).each(P);i!=null&&U.sort(i),O(U);for(let C of U.descendants())if(!(a!=null&&!a(C))){H.push(++T),N[T]=C.data,s.position(C,T,I,A);for(let F of p)F[fA][T]=F[vee](C)}B.push(H)}return{data:N,facets:B}})),Object.fromEntries(p))}function dA(p={}){var m=p,{path:e=pe,delimiter:t,curve:n="bump-x",stroke:r="#555",strokeWidth:i=1.5,strokeOpacity:o=.5,treeLayout:s=Fh,treeSort:a,treeSeparation:c,treeAnchor:u,treeFilter:f}=m,h=Y(m,["path","delimiter","curve","stroke","strokeWidth","strokeOpacity","treeLayout","treeSort","treeSeparation","treeAnchor","treeFilter"]);u=hA(u),a=dee(a),f!=null&&(f=fee(f)),h=E({curve:n,stroke:r,strokeWidth:i,strokeOpacity:o},h);let y=hee(t),v=bee(h,fee),[b,x]=Xr(),[w,D]=Xr(),[I,A]=Xr(),[T,N]=Xr();return E(E({x1:b,x2:w,y1:I,y2:T},xr(h,(B,R)=>{let P=y(ke(B,e)),O=x([]),k=D([]),H=A([]),U=N([]),C=-1,F=[],W=[],G=oT().path(K=>P[K]),q=s();q.nodeSize&&q.nodeSize([1,1]),q.separation&&c!==void 0&&q.separation(c??Jb);for(let K of v)K[fA]=K[_ee]([]);for(let K of R){let X=[],J=G(K.filter(re=>P[re]!=null)).each(re=>re.data=B[re.data]);a!=null&&J.sort(a),q(J);for(let{source:re,target:te}of J.links())if(!(f!=null&&!f(te,re))){X.push(++C),F[C]=te.data,u.position(re,C,O,H),u.position(te,C,k,U);for(let le of v)le[fA][C]=le[vee](te,re)}W.push(X)}return{data:F,facets:W}})),Object.fromEntries(v))}function hA(e="left"){switch(`${e}`.trim().toLowerCase()){case"left":return lSe;case"right":return uSe}throw new Error(`invalid tree anchor: ${e}`)}var lSe={frameAnchor:"left",dx:6,position({x:e,y:t},n,r,i){r[n]=t,i[n]=-e}},uSe={frameAnchor:"right",dx:-6,position({x:e,y:t},n,r,i){r[n]=-t,i[n]=-e}};function dee(e){return e==null||typeof e=="function"?e:`${e}`.trim().toLowerCase().startsWith("node:")?uee(_6(e)):uee(fSe(e))}function uee(e){return(t,n)=>Yr(e(t),e(n))}function fSe(e){return t=>t.data?.[e]}function hee(e="/"){if(e=`${e}`,e==="/")return n=>n;if(e.length!==1)throw new Error("delimiter must be exactly one character");let t=e.charCodeAt(0);return n=>n.map(r=>dSe(r,t))}var y6=92,pee=47;function dSe(e,t){if(t===y6)throw new Error("delimiter cannot be backslash");let n=!1;for(let r=0,i=e.length;r<i;++r){switch(e.charCodeAt(r)){case y6:if(!n){n=!0;continue}break;case t:n?(e=e.slice(0,r-1)+e.slice(r),--r,--i):e=e.slice(0,r)+"/"+e.slice(r+1);break;case pee:n?(e=e.slice(0,r)+"\\\\"+e.slice(r),r+=2,i+=2):(e=e.slice(0,r)+"\\"+e.slice(r),++r,++i);break}n=!1}return e}function hSe(e){let t=!1;for(let n=0,r=e.length;n<r;++n){switch(e.charCodeAt(n)){case y6:if(!t){t=!0;continue}case pee:t&&(e=e.slice(0,n-1)+e.slice(n),--n,--r);break}t=!1}return e}function mee(e){return Zr(e)&&typeof e.node=="function"}function pSe(e){return Zr(e)&&typeof e.link=="function"}function _6(e){if(mee(e))return e.node;if(e=`${e}`.trim().toLowerCase(),!!e.startsWith("node:")){switch(e){case"node:name":return b6;case"node:path":return v6;case"node:internal":return gee;case"node:external":return yee;case"node:depth":return x6;case"node:height":return w6}throw new Error(`invalid node value: ${e}`)}}function fee(e){if(mee(e))return e.node;if(pSe(e))return e.link;if(e=`${e}`.trim().toLowerCase(),!(!e.startsWith("node:")&&!e.startsWith("parent:"))){switch(e){case"parent:name":return uA(b6);case"parent:path":return uA(v6);case"parent:depth":return uA(x6);case"parent:height":return uA(w6);case"node:name":return b6;case"node:path":return v6;case"node:internal":return gee;case"node:external":return yee;case"node:depth":return x6;case"node:height":return w6}throw new Error(`invalid link value: ${e}`)}}function v6(e){return e.id}function b6(e){return mSe(e.id)}function x6(e){return e.depth}function w6(e){return e.height}function gee(e){return!!e.children}function yee(e){return!e.children}function uA(e){return(t,n)=>n==null?void 0:e(n)}function mSe(e){let t=e.length;for(;--t>0&&!gSe(e,t););return hSe(e.slice(t+1))}function gSe(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}var _ee=2,vee=3,fA=4;function bee(e,t){let n=[];for(let r in e){let i=e[r],o=t(i);o!==void 0&&n.push([r,...Xr(i),o])}return n}function D6(e,B={}){var R=B,{fill:t,stroke:n,strokeWidth:r,strokeOpacity:i,strokeLinejoin:o,strokeLinecap:s,strokeMiterlimit:a,strokeDasharray:c,strokeDashoffset:u,marker:f,markerStart:h=f,markerEnd:p=f,dot:m=Zt(h)&&Zt(p),text:y="node:name",textStroke:v="var(--plot-background)",title:b="node:path",dx:x,dy:w,textAnchor:D,treeLayout:I=Fh,textLayout:A=I===Fh||I===rT?"mirrored":"normal",tip:T}=R,N=Y(R,["fill","stroke","strokeWidth","strokeOpacity","strokeLinejoin","strokeLinecap","strokeMiterlimit","strokeDasharray","strokeDashoffset","marker","markerStart","markerEnd","dot","text","textStroke","title","dx","dy","textAnchor","treeLayout","textLayout","tip"]);if(x===void 0&&(x=hA(N.treeAnchor).dx),D!==void 0)throw new Error("textAnchor is not a configurable tree option");A=Ar(A,"textLayout",["mirrored","normal"]);function P(O){return Ri(e,H1(E(E({treeLayout:I,text:y,fill:t===void 0?"currentColor":t,stroke:v,dx:x,dy:w,title:b},O),N)))}return wr(Ay(e,dA(E({treeLayout:I,markerStart:h,markerEnd:p,stroke:n!==void 0?n:t===void 0?"node:internal":t,strokeWidth:r,strokeOpacity:i,strokeLinejoin:o,strokeLinecap:s,strokeMiterlimit:a,strokeDasharray:c,strokeDashoffset:u},N))),m?nn(e,H1(E({treeLayout:I,fill:t===void 0?"node:internal":t,title:b,tip:T},N))):null,y!=null?A==="mirrored"?[P({textAnchor:"start",treeFilter:"node:external"}),P({textAnchor:"end",treeFilter:"node:internal",dx:-x})]:P():null)}function xee(e,t){return D6(e,V(E({},t),{treeLayout:rT}))}var Dee={ariaLabel:"waffle"},G1=class extends fp{constructor(t,c={}){var u=c,{unit:n=1,gap:r=1,round:i,render:o,multiple:s}=u,a=Y(u,["unit","gap","round","render","multiple"]);super(t,V(E({},a),{render:du(o,See("x"))}),Dee),this.unit=Math.max(0,n),this.gap=+r,this.round=Iee(i),this.multiple=Eee(s)}},q1=class extends dp{constructor(t,c={}){var u=c,{unit:n=1,gap:r=1,round:i,render:o,multiple:s}=u,a=Y(u,["unit","gap","round","render","multiple"]);super(t,V(E({},a),{render:du(o,See("y"))}),Dee),this.unit=Math.max(0,n),this.gap=+r,this.round=Iee(i),this.multiple=Eee(s)}};function See(e){return function(t,n,r,i,o){let{unit:s,gap:a,rx:c,ry:u,round:f}=this,{document:h}=o,p=r.channels[`${e}1`].value,m=r.channels[`${e}2`].value,y=this[e==="y"?"_width":"_height"](n,r,i),v=this[e==="y"?"_x":"_y"](n,r,i),b=s*ySe(n.scales[e]),{multiple:x=Math.max(1,Math.floor(Math.sqrt(y/b)))}=this,w=Math.min(y/x,b*x),D=b*x,I=e==="y"?([O,k])=>[O*w,-k*D]:([O,k])=>[k*D,O*w],A=(y-x*w)/2,T=typeof v=="function"?O=>v(O)+A:v+A,N=n[e](0),B=NQ(),R=h.createElementNS(Wi.svg,"pattern");R.setAttribute("width",e==="y"?w:D),R.setAttribute("height",e==="y"?D:w),R.setAttribute("patternUnits","userSpaceOnUse");let P=R.appendChild(h.createElementNS(Wi.svg,"rect"));return P.setAttribute("x",a/2),P.setAttribute("y",a/2),P.setAttribute("width",(e==="y"?w:D)-a),P.setAttribute("height",(e==="y"?D:w)-a),c!=null&&P.setAttribute("rx",c),u!=null&&P.setAttribute("ry",u),Ee("svg:g",o).call(rt,this,i,o).call(this._transform,this,n).call(O=>O.selectAll().data(t).enter().append(()=>R.cloneNode(!0)).attr("id",k=>`${B}-${k}`).select("rect").call(We,this).call(Tt,this,r)).call(O=>O.selectAll().data(t).enter().append("path").attr("transform",e==="y"?ma`translate(${T},${N})`:ma`translate(${N},${T})`).attr("d",k=>`M${S6(f(p[k]/s),f(m[k]/s),x).map(I).join("L")}Z`).attr("fill",k=>`url(#${B}-${k})`).attr("stroke",this.stroke==null?null:k=>`url(#${B}-${k})`)).node()}}function S6(e,t,n){if(e<0||t<0){let r=Math.ceil(-Math.min(e,t)/n);return S6(e+r*n,t+r*n,n).map(([i,o])=>[i,o-r])}return t<e?S6(t,e,n):[[0,Math.ceil(e/n)],[Math.floor(e%n),Math.ceil(e/n)],[Math.floor(e%n),Math.floor(e/n)+e%1],[Math.ceil(e%n),Math.floor(e/n)+e%1],...e%n>n-1?[]:[[Math.ceil(e%n),Math.floor(e/n)],[n,Math.floor(e/n)]],[n,Math.floor(t/n)],[Math.ceil(t%n),Math.floor(t/n)],[Math.ceil(t%n),Math.floor(t/n)+t%1],[Math.floor(t%n),Math.floor(t/n)+t%1],...t%n<1?[]:[[Math.floor(t%n),Math.ceil(t/n)],[0,Math.ceil(t/n)]]]}function Iee(e){if(e===void 0||e===!1)return Number;if(e===!0)return Math.round;if(typeof e!="function")throw new Error(`invalid round: ${e}`);return e}function Eee(e){return e===void 0?void 0:Math.max(1,Math.floor(e))}function ySe({domain:e,range:t}){return wee(t)/wee(e)}function wee(e){let[t,n]=qt(e);return n-t}function Tee(e,t={}){return iu(t)||(t=V(E({},t),{y:mn,x2:pe})),new G1(e,id(vy(nd(t))))}function Cee(e,t={}){return iu(t)||(t=V(E({},t),{x:mn,y2:pe})),new q1(e,od(by(rd(t))))}var Vee=hj(Bee(),1);var ISe=({marginLeft:e})=>[1,e],ESe=({width:e,marginRight:t})=>[-1,e-t],TSe=({width:e,marginLeft:t,marginRight:n})=>[0,(t+e-n)/2],CSe=({marginTop:e})=>[1,e],MSe=({height:e,marginBottom:t})=>[-1,e-t],ASe=({height:e,marginTop:t,marginBottom:n})=>[0,(t+e-n)/2];function Uee(e){return typeof e=="string"?{anchor:e}:e}function jee(e={},t={}){arguments.length===1&&([e,t]=zee(e));let{anchor:n="left",padding:r=1,r:i=t.r}=Uee(e);switch(`${n}`.toLowerCase()){case"left":n=ISe;break;case"right":n=ESe;break;case"middle":n=TSe;break;default:throw new Error(`unknown dodge anchor: ${n}`)}return Hee("x","y",n,Ut(r),i,t)}function $ee(e={},t={}){arguments.length===1&&([e,t]=zee(e));let{anchor:n="bottom",padding:r=1,r:i=t.r}=Uee(e);switch(`${n}`.toLowerCase()){case"top":n=CSe;break;case"bottom":n=MSe;break;case"middle":n=ASe;break;default:throw new Error(`unknown dodge anchor: ${n}`)}return Hee("y","x",n,Ut(r),i,t)}function zee(e){let o=e,{anchor:t,padding:n}=o,r=Y(o,["anchor","padding"]),{r:i}=r;return[{anchor:t,padding:n,r:i},r]}function Hee(e,t,n,r,i,o){if(i!=null&&typeof i!="number"){let{channels:s,sort:a,reverse:c}=o;s=t1(s),s?.r===void 0&&(o=V(E({},o),{channels:V(E({},s),{r:{value:i,scale:"r"}})})),a===void 0&&c===void 0&&(o.sort={channel:"-r"})}return xn(o,function(s,a,c,u,f,h){let{[t]:p,r:m}=c;if(!c[t])throw new Error(`missing channel: ${t}`);({[t]:p}=Oc(c,u,h));let y=m?void 0:i!==void 0?Ut(i):this.r!==void 0?this.r:3;m&&(m=ke(m.value,u[m.scale]||pe,Float64Array));let[v,b]=n(f),x=v?NSe:OSe,w=new Float64Array(p.length),D=m?I=>m[I]:()=>y;for(let I of a){let A=(0,Vee.default)();I=I.filter(m?N=>Kg(p[N])&&to(m[N]):N=>Kg(p[N]));let T=new Float64Array(2*I.length+2);for(let N of I){let B=D(N),R=v?B+r:0,P=p[N]-B,O=p[N]+B,k=2;A.queryInterval(P-r,O+r,([,,U])=>{let C=w[U]-R,F=p[N]-p[U],W=r+(m?m[N]+m[U]:2*y),G=Math.sqrt(W*W-F*F);T[k++]=C-G,T[k++]=C+G});let H=T.slice(0,k);v&&(H=H.filter(U=>U>=0));e:for(let U of H.sort(x)){for(let C=0;C<k;C+=2)if(T[C]+1e-6<U&&U<T[C+1]-1e-6)continue e;w[N]=U+R;break}A.insert([P,O,N])}}v||(v=1);for(let I of a)for(let A of I)w[A]=w[A]*v+b;return{data:s,facets:a,channels:E({[e]:{value:w,source:null},[t]:{value:p,source:c[t]}},m&&{r:{value:m,source:c.r}})}})}function OSe(e,t){return Math.abs(e)-Math.abs(t)}function NSe(e,t){return e-t}function qee(e,t){var n;return arguments.length===1&&(n=e,{basis:e}=n,t=Y(n,["basis"])),Ry(gA(e),t)}function Wee(e,t){var n;return arguments.length===1&&(n=e,{basis:e}=n,t=Y(n,["basis"])),Py(gA(e),t)}function gA(e){if(e===void 0)return Gee;if(typeof e=="function")return yA(iy(e));if(/^p\d{2}$/i.test(e))return zy(ry(e));switch(`${e}`.toLowerCase()){case"deviation":return LSe;case"first":return Gee;case"last":return PSe;case"max":return kSe;case"mean":return FSe;case"median":return BSe;case"min":return VSe;case"sum":return USe;case"extent":return RSe}throw new Error(`invalid basis: ${e}`)}function yA(e){return{mapIndex(t,n,r){let i=+e(t,n);for(let o of t)r[o]=n[o]===null?NaN:n[o]/i}}}function zy(e){return yA((t,n)=>e(t,r=>n[r]))}var RSe={mapIndex(e,t,n){let[r,i]=qt(e,s=>t[s]),o=i-r;for(let s of e)n[s]=t[s]===null?NaN:(t[s]-r)/o}},Gee=yA((e,t)=>{for(let n=0;n<e.length;++n){let r=t[e[n]];if(Fn(r))return r}}),PSe=yA((e,t)=>{for(let n=e.length-1;n>=0;--n){let r=t[e[n]];if(Fn(r))return r}}),LSe={mapIndex(e,t,n){let r=Ll(e,o=>t[o]),i=ys(e,o=>t[o]);for(let o of e)n[o]=t[o]===null?NaN:i?(t[o]-r)/i:0}},kSe=zy(Ft),FSe=zy(Ll),BSe=zy(sa),VSe=zy($t),USe=zy(zr);function Yee(e,t){return Xee("x",e,t)}function Zee(e,t){return Xee("y",e,t)}function Xee(e,t,n={}){let r,i=1;if(typeof t=="number")i=t,r=(u,f)=>+u+f;else{if(typeof t=="string"){let u=t.startsWith("-")?-1:1;[t,i]=GC(t.replace(/^[+-]/,"")),i*=u}t=sy(t),r=(u,f)=>t.offset(u,f)}let o=`${e}1`,s=`${e}2`,a=bo({[o]:u=>u.map(f=>r(f,i)),[s]:u=>u},n),c=a[s].transform;return a[s].transform=()=>{let u=c(),[f,h]=qt(u);return u.domain=i<0?[f,r(h,i)]:[r(f,i),h],u},a}function Qee(e,t={}){if(typeof e=="string")switch(e.toLowerCase()){case"first":return Z1(t);case"last":return X1(t)}if(typeof e=="function")return dd(null,e,t);let n,r;for(n in e){if(r!==void 0)throw new Error("ambiguous selector; multiple inputs");r=jSe(e[n])}if(r===void 0)throw new Error(`invalid selector: ${e}`);return dd(n,r,t)}function jSe(e){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"min":return A6;case"max":return O6}throw new Error(`unknown selector: ${e}`)}function Z1(e){return dd(null,$Se,e)}function X1(e){return dd(null,zSe,e)}function _A(e){return dd("x",A6,e)}function vA(e){return dd("y",A6,e)}function bA(e){return dd("x",O6,e)}function xA(e){return dd("y",O6,e)}function*$Se(e){yield e[0]}function*zSe(e){yield e[e.length-1]}function*A6(e,t){yield UI(e,n=>t[n])}function*O6(e,t){yield _h(e,n=>t[n])}function dd(e,t,n){if(e!=null){if(n[e]==null)throw new Error(`missing channel: ${e}`);e=n[e]}let r=Oi(n);return xr(n,(i,o)=>{let s=ke(i,r),a=ke(i,e),c=[];for(let u of o){let f=[];for(let h of s?fi(u,p=>s[p]).values():[u])for(let p of t(h,a))f.push(p);c.push(f)}return{data:i,facets:c}})}ze.prototype.plot=function(n={}){var r=n,{marks:e=[]}=r,t=Y(r,["marks"]);return Pr(V(E({},t),{marks:[...e,this]}))};function wA(e,t,n=null,r,i,o,s,a,c,u){let f="distance",h=document.createElement("button");h.textContent="Time",h.style.margin="10px";function p(){let m=t.Timestamp.map((O,k)=>k/60),y=t.Distance.map((O,k)=>({distance:t.Distance[k],time:m[k],strideLength:t.StrideLength[k]/10,highlight:k===n,index:k})),v=t.Distance.map((O,k)=>({distance:t.Distance[k],time:m[k],cadence:t.Cadence[k],highlight:k===n,index:k})),b=t.Distance.map((O,k)=>({distance:t.Distance[k],time:m[k],power:t.Power[k],highlight:k===n,index:k})),x=t.Distance.map((O,k)=>({distance:t.Distance[k],time:m[k],pace:t.Pace[k]*10,highlight:k===n,index:k})),w=t.Distance.map((O,k)=>({distance:t.Distance[k],time:m[k],heartRate:t.HeartRate[k],highlight:k===n,index:k})),D=Q1(y,"strideLength",c),I=Q1(v,"cadence",c),A=Q1(b,"power",c),T=Q1(x,"pace",c),N=Q1(w,"heartRate",c),B=HSe({cadence:I,strideLength:D,pace:T,power:A,heartRate:N},{cadence:r,strideLength:i,pace:o,power:s,heartRate:a}),R=Pr({height:350,x:{type:f==="time"?"linear":void 0,label:f==="time"?"Time (minutes)":"Distance"},y:{axis:!0,grid:!0,nice:!0,domain:[0,B]},marginLeft:4,marginRight:4,marks:[i?Lr(D,{x:f,y:"strideLength",stroke:"#007BFF"}):null,r?Lr(I,{x:f,y:"cadence",stroke:"#FF6600"}):null,s?Lr(A,{x:f,y:"power",stroke:"#28A745"}):null,o?Lr(T,{x:f,y:"pace",stroke:"#A900FF"}):null,a?Lr(N,{x:f,y:function(O){return O.heartRate*1.5},stroke:"#DC3545"}):null,Nr(y,Or({x:f,py:"strideLength",stroke:"black"})),i?nn(D,Or({x:f,y:"strideLength",stroke:"red"})):null,r?nn(I,Or({x:f,y:"cadence",stroke:"red"})):null,s?nn(A,Or({x:f,y:"power",stroke:"red"})):null,o?nn(T,Or({x:f,y:"pace",stroke:"red"})):null,a?nn(N,Or({x:f,y:function(O){return O.heartRate*1.5},stroke:"red"})):null,Nr(D.filter(O=>O.highlight),{x:"distance",y:B,stroke:"black"}),i?nn(D.filter(O=>O.highlight),{x:"distance",y:"strideLength",stroke:"red"}):null,r?nn(I.filter(O=>O.highlight),{x:"distance",y:"cadence",stroke:"red"}):null,s?nn(A.filter(O=>O.highlight),{x:"distance",y:"power",stroke:"red"}):null,o?nn(T.filter(O=>O.highlight),{x:"distance",y:"pace",stroke:"red"}):null,a?nn(N.filter(O=>O.highlight),{x:"distance",y:function(O){return O.heartRate*1.5},stroke:"red"}):null,Ri(D,Or({name:"text01",px:f,py:"strideLength",dy:-17,frameAnchor:"top-left",fontVariant:"tabular-nums",text:(O,k)=>[`${f}: ${O[f].toFixed(2)} km`,i?`\u{1F7E6}strideLength: ${(O.strideLength*10).toFixed(0)} mm`:null,r?`\u{1F7E7}cadence: ${I[k]?.cadence.toFixed(0)} SPM`:null,s?`\u{1F7E9}power: ${A[k]?.power.toFixed(0)} W`:null,o?`\u{1F7EA}pace: ${Kee(T[k]?.pace/10)} min/km`:null,a?`\u{1F7E5}heartRate: ${N[k]?.heartRate.toFixed(0)} BPM`:null].join("   ")})),Ri(D,{x:O=>O.highlight?.1:null,y:O=>O.highlight?B:null,dy:-17,frameAnchor:"top-left",fontVariant:"tabular-nums",text:O=>{if(!O.highlight)return null;let k=D.findIndex(H=>H.index===O.index);return[`${f}: ${O[f].toFixed(2)} km`,i?`\u{1F7E6} strideLength: ${(O.strideLength*10).toFixed(0)} mm`:null,r?`\u{1F7E7} cadence: ${I[k]?.cadence.toFixed(0)} SPM`:null,s?`\u{1F7E9} power: ${A[k]?.power.toFixed(0)} W`:null,o?`\u{1F7EA} pace: ${Kee(T[k]?.pace/10)} min/km`:null,a?`\u{1F7E5} heartRate: ${N[k]?.heartRate.toFixed(0)} BPM`:null].filter(Boolean).join("   ")}})]}),P=document.createElement("div");P.id="chart-container",e.innerHTML="",P.appendChild(R),P.style.display="flex",P.style.justifyContent="center",P.style.backgroundColor="#3b4c5a",P.style.borderRadius="15px",P.style.padding="25px",P.style.color="#ffffff",e.appendChild(P),setTimeout(()=>{let O=e.querySelector("svg");O&&(O.addEventListener("mousemove",k=>{let H=O.getBoundingClientRect(),U=k.clientX-H.left;if(y.length===0)return;let C=Math.min(...y.map(q=>q.distance)),F=Math.max(...y.map(q=>q.distance)),W=C+U/H.width*(F-C),G=y.reduce((q,K,X)=>Math.abs(K.distance-W)<Math.abs(y[q].distance-W)?X:q,0);u&&u(G)}),O.addEventListener("mouseleave",()=>{u&&u(null)}))},100)}p()}function Kee(e){if(e==null)return"";let t=Math.floor(e),n=e-t,r=Math.round(n*60);return r>=60?`${t+1}:00`:`${t}:${r.toString().padStart(2,"0")}`}function HSe(e,t){let n=null;function r(o,s,a=1){return o&&o.length?Math.max(...o.map(c=>c[s]??0))/a:null}let i=[];return t.cadence&&i.push(r(e.cadence,"cadence")??0),t.strideLength&&i.push(r(e.strideLength,"strideLength")??0),t.pace&&i.push(r(e.pace,"pace")??0),t.power&&i.push(r(e.power,"power")??0),t.heartRate&&i.push(r(e.heartRate,"heartRate",.75)??0),i.length&&(n=Math.max(...i)),n!==null?GSe(n):n}function GSe(e){return Math.ceil(e/50)*50+(e%50===0?50:0)}function Q1(e,t,n){return e.map((r,i,o)=>{let s=Math.max(0,i-Math.floor(n/2)),a=Math.min(o.length,i+Math.floor(n/2)+1),c=o.slice(s,a),u=c.reduce((f,h)=>f+(h[t]??0),0)/c.length;return V(E({},r),{[t]:u})})}var Jee={};function K1(e,t=!1){let n,r,i=Jee;function o(u){n=e(u).catch(()=>{}).finally(()=>{if(r){let{value:f}=r;r=null,o(f)}else n=null})}function s(u){r={event:u}}function a(u){n?s(u):o(u)}function c(u){i!==u&&requestAnimationFrame(()=>{let f=i;i=Jee,a(f)}),i=u}return t?c:a}var Bc=class{constructor(t){this._filterBy=t,this._requestUpdate=K1(()=>this.requestQuery(),!0),this._coordinator=null}get coordinator(){return this._coordinator}set coordinator(t){this._coordinator=t}get filterBy(){return this._filterBy}get filterStable(){return!0}fields(){return null}fieldInfo(t){return this}query(t){return null}queryPending(){return this}queryResult(t){return this}queryError(t){return this}requestQuery(t){let n=t||this.query(this.filterBy?.predicate(this));return this._coordinator.requestQuery(this,n)}requestUpdate(){this._requestUpdate()}initialize(){return this._coordinator.initializeClient(this)}update(){return this}};var J1=Uint8Array.of(65,82,82,79,87,49),qSe=Uint8Array.of(255,255,255,255,0,0,0,0),Ms={V1:0,V2:1,V3:2,V4:3,V5:4};var As={NONE:0,Schema:1,DictionaryBatch:2,RecordBatch:3,Tensor:4,SparseTensor:5},ie={Dictionary:-1,NONE:0,Null:1,Int:2,Float:3,Binary:4,Utf8:5,Bool:6,Decimal:7,Date:8,Time:9,Timestamp:10,Interval:11,List:12,Struct:13,Union:14,FixedSizeBinary:15,FixedSizeList:16,Map:17,Duration:18,LargeBinary:19,LargeUtf8:20,LargeList:21,RunEndEncoded:22,BinaryView:23,Utf8View:24,ListView:25,LargeListView:26},Hy={HALF:0,SINGLE:1,DOUBLE:2},_u={DAY:0,MILLISECOND:1},Jr={SECOND:0,MILLISECOND:1,MICROSECOND:2,NANOSECOND:3},Os={YEAR_MONTH:0,DAY_TIME:1,MONTH_DAY_NANO:2},vu={Sparse:0,Dense:1};var Gy=Uint8Array,DA=Uint16Array,SA=Uint32Array,IA=BigUint64Array,ex=Int8Array,ete=Int16Array,xo=Int32Array,Zo=BigInt64Array,N6=Float32Array,pd=Float64Array;function tte(e,t){let n=Math.log2(e)-3;return(t?[ex,ete,xo,Zo]:[Gy,DA,SA,IA])[n]}var Fvt=Object.getPrototypeOf(Int8Array);function qy(e,t){let n=0,r=e.length;if(r<=2147483648)do{let i=n+r>>>1;e[i]<=t?n=i+1:r=i}while(n<r);else do{let i=Math.trunc((n+r)/2);e[i]<=t?n=i+1:r=i}while(n<r);return n}function EA(e,t,n){if(t(e))return e;throw new Error(n(e))}function wo(e,t,n){return t=Array.isArray(t)?t:Object.values(t),EA(e,r=>t.includes(r),n??(()=>`${e} must be one of ${t}`))}function TA(e,t){for(let[n,r]of Object.entries(e))if(r===t)return n;return"<Unknown>"}var bu=e=>`Unsupported data type: "${TA(ie,e)}" (id ${e})`,tx=(e,t,n=!0,r=null)=>({name:e,type:t,nullable:n,metadata:r});function nte(e){return Object.hasOwn(e,"name")&&rte(e.type)}function rte(e){return typeof e?.typeId=="number"}function md(e,t="",n=!0){return nte(e)?e:tx(t,EA(e,rte,()=>"Data type expected."),n)}var CA=(e,t,n=!1,r=-1)=>({typeId:ie.Dictionary,id:r,dictionary:e,indices:t||Wy(),ordered:n});var MA=(e=32,t=!0)=>({typeId:ie.Int,bitWidth:wo(e,[8,16,32,64]),signed:t,values:tte(e,t)});var Wy=()=>MA(32);var R6=(e=2)=>({typeId:ie.Float,precision:wo(e,Hy),values:[DA,N6,pd][e]});var P6=()=>({typeId:ie.Binary,offsets:xo}),AA=()=>({typeId:ie.Utf8,offsets:xo});var L6=(e,t,n=128)=>({typeId:ie.Decimal,precision:e,scale:t,bitWidth:wo(n,[128,256]),values:IA}),k6=e=>({typeId:ie.Date,unit:wo(e,_u),values:e===_u.DAY?xo:Zo});var F6=(e=Jr.MILLISECOND,t=32)=>({typeId:ie.Time,unit:wo(e,Jr),bitWidth:wo(t,[32,64]),values:t===32?xo:Zo});var OA=(e=Jr.MILLISECOND,t=null)=>({typeId:ie.Timestamp,unit:wo(e,Jr),timezone:t,values:Zo}),B6=(e=Os.MONTH_DAY_NANO)=>({typeId:ie.Interval,unit:wo(e,Os),values:e===Os.MONTH_DAY_NANO?void 0:xo}),NA=e=>({typeId:ie.List,children:[md(e)],offsets:xo}),RA=e=>({typeId:ie.Struct,children:Array.isArray(e)&&nte(e[0])?e:Object.entries(e).map(([t,n])=>tx(t,n))}),V6=(e,t,n,r)=>(n??=t.map((i,o)=>o),{typeId:ie.Union,mode:wo(e,vu),typeIds:n,typeMap:n.reduce((i,o,s)=>(i[o]=s,i),{}),children:t.map((i,o)=>md(i,`_${o}`)),typeIdForValue:r,offsets:xo}),U6=e=>({typeId:ie.FixedSizeBinary,stride:e}),PA=(e,t)=>({typeId:ie.FixedSizeList,stride:t,children:[md(e)]}),ite=(e,t)=>({typeId:ie.Map,keysSorted:e,children:[t],offsets:xo});var j6=(e=Jr.MILLISECOND)=>({typeId:ie.Duration,unit:wo(e,Jr),values:Zo}),$6=()=>({typeId:ie.LargeBinary,offsets:Zo}),z6=()=>({typeId:ie.LargeUtf8,offsets:Zo}),H6=e=>({typeId:ie.LargeList,children:[md(e)],offsets:Zo}),G6=(e,t)=>({typeId:ie.RunEndEncoded,children:[EA(md(e,"run_ends"),n=>n.type.typeId===ie.Int,()=>"Run-ends must have an integer type."),md(t,"values")]});var q6=e=>({typeId:ie.ListView,children:[md(e,"value")],offsets:xo}),W6=e=>({typeId:ie.LargeListView,children:[md(e,"value")],offsets:Zo});var WSe=new pd(2),LA=WSe.buffer,qvt=new Zo(LA),Wvt=new SA(LA),Yvt=new xo(LA),Zvt=new Gy(LA);function Vc(e){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw Error(`BigInt exceeds integer number representation: ${e}`);return Number(e)}function kA(e,t){return Number(e/t)+Number(e%t)/Number(t)}var Yy=e=>BigInt.asUintN(64,e);function ste(e,t){let n=t<<1,r;return BigInt.asIntN(64,e[n+1])<0?(r=Yy(~e[n])|Yy(~e[n+1])<<64n,r=-(r+1n)):r=e[n]|e[n+1]<<64n,r}function ate(e,t){let n=t<<2,r;return BigInt.asIntN(64,e[n+3])<0?(r=Yy(~e[n])|Yy(~e[n+1])<<64n|Yy(~e[n+2])<<128n|Yy(~e[n+3])<<192n,r=-(r+1n)):r=e[n]|e[n+1]<<64n|e[n+2]<<128n|e[n+3]<<192n,r}var ZSe=new TextDecoder("utf-8"),ebt=new TextEncoder;function Zy(e){return ZSe.decode(e)}var yp=4;function Y6(e,t){return(e[t>>3]&1<<t%8)!==0}function Pi(e,t){let n=t+fn(e,t),r=n-fn(e,n),i=yi(e,r);return(o,s,a=null)=>{if(o<i){let c=yi(e,r+o);if(c)return s(e,n+c)}return a}}function ga(e,t){return t}function gd(e,t){return!!XSe(e,t)}function XSe(e,t){return nx(e,t)<<24>>24}function nx(e,t){return e[t]}function yi(e,t){return QSe(e,t)<<16>>16}function QSe(e,t){return e[t]|e[t+1]<<8}function fn(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function cte(e,t){return fn(e,t)>>>0}function ei(e,t){return Vc(BigInt.asIntN(64,BigInt(cte(e,t))+(BigInt(cte(e,t+yp))<<32n)))}function _p(e,t){let n=t+fn(e,t),r=fn(e,n);return n+=yp,Zy(e.subarray(n,n+r))}function Xo(e,t,n,r){if(!t)return[];let i=t+fn(e,t);return Array.from({length:fn(e,i)},(o,s)=>r(e,i+yp+s*n))}var Z6=Symbol("rowIndex");function rx(e,t){class n{constructor(o){this[Z6]=o}toJSON(){return lte(e,t,this[Z6])}}let r=n.prototype;for(let i=0;i<e.length;++i){if(Object.hasOwn(r,e[i]))continue;let o=t[i];Object.defineProperty(r,e[i],{get(){return o.at(this[Z6])},enumerable:!0})}return i=>new n(i)}function FA(e,t){return n=>lte(e,t,n)}function lte(e,t,n){let r={};for(let i=0;i<e.length;++i)r[e[i]]=t[i].at(n);return r}function ute(e){return e instanceof yd}var cx=(()=>{class e{static ArrayType=null;constructor({length:n,nullCount:r,type:i,validity:o,values:s,offsets:a,sizes:c,children:u}){this.length=n,this.nullCount=r,this.type=i,this.validity=o,this.values=s,this.offsets=a,this.sizes=c,this.children=u,(!r||!this.validity)&&(this.at=f=>this.value(f))}get[Symbol.toStringTag](){return"Batch"}at(n){return this.isValid(n)?this.value(n):null}isValid(n){return Y6(this.validity,n)}value(n){return this.values[n]}slice(n,r){let i=r-n,o=Array(i);for(let s=0;s<i;++s)o[s]=this.at(n+s);return o}*[Symbol.iterator](){for(let n=0;n<this.length;++n)yield this.at(n)}}return e})(),yd=class extends cx{constructor(t){super(t);let{length:n,values:r}=this;this.values=r.subarray(0,n)}slice(t,n){return this.nullCount?super.slice(t,n):this.values.subarray(t,n)}[Symbol.iterator](){return this.nullCount?super[Symbol.iterator]():this.values[Symbol.iterator]()}},X6=(()=>{class e extends cx{static ArrayType=pd}return e})(),Yn=class extends cx{static ArrayType=Array},ix=class extends Yn{value(t){return null}},Uc=class extends X6{value(t){return Vc(this.values[t])}},BA=class extends X6{value(t){let n=this.values[t],r=(n&31744)>>10,i=(n&1023)/1024,o=(-1)**((n&32768)>>15);switch(r){case 31:return o*(i?Number.NaN:1/0);case 0:return o*(i?6103515625e-14*i:0)}return o*2**(r-15)*(1+i)}},VA=class extends Yn{value(t){return Y6(this.values,t)}},UA=class extends cx{constructor(t){super(t);let{bitWidth:n,scale:r}=this.type;this.decimal=n===128?ste:ate,this.scale=10n**BigInt(r)}},fte=(()=>{class e extends UA{static ArrayType=pd;value(n){return kA(this.decimal(this.values,n),this.scale)}}return e})(),jA=class extends UA{static ArrayType=Array;value(t){return this.decimal(this.values,t)}},ox=class extends Yn{constructor(t){super(t),this.source=t}value(t){return new Date(this.source.value(t))}},$A=class extends X6{value(t){return 864e5*this.values[t]}},dte=Uc,zA=class extends Uc{value(t){return super.value(t)*1e3}},hte=Uc,HA=class extends Uc{value(t){return kA(this.values[t],1000n)}},GA=class extends Uc{value(t){return kA(this.values[t],1000000n)}},qA=class extends Yn{value(t){return this.values.subarray(t<<1,t+1<<1)}},WA=class extends Yn{value(t){let n=this.values,r=t<<4;return Float64Array.of(fn(n,r),fn(n,r+4),ei(n,r+8))}},pte=({values:e,offsets:t},n)=>e.subarray(t[n],t[n+1]),mte=({values:e,offsets:t},n)=>e.subarray(Vc(t[n]),Vc(t[n+1])),YA=class extends Yn{value(t){return pte(this,t)}},ZA=class extends Yn{value(t){return mte(this,t)}},XA=class extends Yn{value(t){return Zy(pte(this,t))}},QA=class extends Yn{value(t){return Zy(mte(this,t))}},KA=class extends Yn{value(t){let n=this.offsets;return this.children[0].slice(n[t],n[t+1])}},JA=class extends Yn{value(t){let n=this.offsets;return this.children[0].slice(Vc(n[t]),Vc(n[t+1]))}},eO=class extends Yn{value(t){let n=this.offsets[t],r=n+this.sizes[t];return this.children[0].slice(n,r)}},tO=class extends Yn{value(t){let n=this.offsets[t],r=n+this.sizes[t];return this.children[0].slice(Vc(n),Vc(r))}},nO=class extends Yn{constructor(t){super(t),this.stride=this.type.stride}},rO=class extends nO{value(t){let{stride:n,values:r}=this;return r.subarray(t*n,(t+1)*n)}},iO=class extends nO{value(t){let{children:n,stride:r}=this;return n[0].slice(t*r,(t+1)*r)}};function gte({children:e,offsets:t},n){let[r,i]=e[0].children,o=t[n],s=t[n+1],a=[];for(let c=o;c<s;++c)a.push([r.at(c),i.at(c)]);return a}var oO=class extends Yn{value(t){return gte(this,t)}},sO=class extends Yn{value(t){return new Map(gte(this,t))}},sx=class extends Yn{constructor(r){var i=r,{typeIds:t}=i,n=Y(i,["typeIds"]);super(n),this.typeIds=t,this.typeMap=this.type.typeMap}value(t,n=t){let{typeIds:r,children:i,typeMap:o}=this;return i[o[r[t]]].at(n)}},aO=class extends sx{value(t){return super.value(t,this.offsets[t])}},ax=class extends Yn{constructor(t,n=FA){super(t),this.names=this.type.children.map(r=>r.name),this.factory=n(this.names,this.children)}value(t){return this.factory(t)}},cO=class extends ax{constructor(t){super(t,rx)}},lO=class extends Yn{value(t){let[{values:n},r]=this.children;return r.at(qy(n,t))}},uO=class extends Yn{setDictionary(t){return this.dictionary=t,this.cache=t.cache(),this}value(t){return this.cache[this.key(t)]}key(t){return this.values[t]}},fO=class extends Yn{constructor(r){var i=r,{data:t}=i,n=Y(i,["data"]);super(n),this.data=t}view(t){let{values:n,data:r}=this,i=t<<4,o=i+4,s=n,a=fn(s,i);return a>12&&(o=fn(s,i+12),s=r[fn(s,i+8)]),s.subarray(o,o+a)}},dO=class extends fO{value(t){return this.view(t)}},hO=class extends fO{value(t){return Zy(this.view(t))}};function Q6(e){let t=[];return{add(n){return t.push(n),this},clear:()=>t=[],done:()=>new vp(t,e)}}var vp=class{constructor(t,n=t[0]?.type){this.type=n,this.length=t.reduce((o,s)=>o+s.length,0),this.nullCount=t.reduce((o,s)=>o+s.nullCount,0),this.data=t;let r=t.length,i=new Int32Array(r+1);if(r===1){let[o]=t;i[1]=o.length,this.at=s=>o.at(s)}else for(let o=0,s=0;o<r;++o)i[o+1]=s+=t[o].length;this.offsets=i}get[Symbol.toStringTag](){return"Column"}[Symbol.iterator](){let t=this.data;return t.length===1?t[0][Symbol.iterator]():KSe(t)}at(t){let{data:n,offsets:r}=this,i=qy(r,t)-1;return n[i]?.at(t-r[i])}get(t){return this.at(t)}toArray(){let{length:t,nullCount:n,data:r}=this,i=!n&&ute(r[0]),o=r.length;if(i&&o===1)return r[0].values;let s=!o||n>0?Array:r[0].constructor.ArrayType??r[0].values.constructor,a=new s(t);return i?JSe(a,r):eIe(a,r)}cache(){return this._cache??(this._cache=this.toArray())}};function*KSe(e){for(let t=0;t<e.length;++t){let n=e[t][Symbol.iterator]();for(let r=n.next();!r.done;r=n.next())yield r.value}}function JSe(e,t){for(let n=0,r=0;n<t.length;++n){let{values:i}=t[n];e.set(i,r),r+=i.length}return e}function eIe(e,t){let n=-1;for(let r=0;r<t.length;++r){let i=t[r];for(let o=0;o<i.length;++o)e[++n]=i.at(o)}return e}var Xy=class e{constructor(t,n,r=!1){let i=t.fields.map(s=>s.name);this.schema=t,this.names=i,this.children=n,this.factory=r?rx:FA;let o=[];this.getFactory=s=>o[s]??(o[s]=this.factory(i,n.map(a=>a.data[s])))}get[Symbol.toStringTag](){return"Table"}get numCols(){return this.names.length}get numRows(){return this.children[0]?.length??0}getChildAt(t){return this.children[t]}getChild(t){let n=this.names.findIndex(r=>r===t);return n>-1?this.children[n]:void 0}selectAt(t,n=[]){let{children:r,factory:i,schema:o}=this,{fields:s}=o;return new e(V(E({},o),{fields:t.map((a,c)=>tIe(s[a],n[c]))}),t.map(a=>r[a]),i===rx)}select(t,n){let r=this.names,i=t.map(o=>r.indexOf(o));return this.selectAt(i,n)}toColumns(){let{children:t,names:n}=this,r={};return n.forEach((i,o)=>r[i]=t[o]?.toArray()??[]),r}toArray(){let{children:t,getFactory:n,numRows:r}=this,i=t[0]?.data??[],o=Array(r);for(let s=0,a=-1;s<i.length;++s){let c=n(s);for(let u=0;u<i[s].length;++u)o[++a]=c(u)}return o}*[Symbol.iterator](){let{children:t,getFactory:n}=this,r=t[0]?.data??[];for(let i=0;i<r.length;++i){let o=n(i);for(let s=0;s<r[i].length;++s)yield o(s)}}at(t){let{children:n,getFactory:r,numRows:i}=this;if(t<0||t>=i)return null;let[{offsets:o}]=n,s=qy(o,t)-1;return r(s)(t-o[s])}get(t){return this.at(t)}};function tIe(e,t){return t!=null&&t!==e.name?V(E({},e),{name:t}):e}function lx(e,t={}){let{typeId:n,bitWidth:r,precision:i,unit:o}=e,{useBigInt:s,useDate:a,useDecimalBigInt:c,useMap:u,useProxy:f}=t;switch(n){case ie.Null:return ix;case ie.Bool:return VA;case ie.Int:case ie.Time:case ie.Duration:return s||r<64?yd:Uc;case ie.Float:return i?yd:BA;case ie.Date:return yte(o===_u.DAY?$A:dte,a&&ox);case ie.Timestamp:return yte(o===Jr.SECOND?zA:o===Jr.MILLISECOND?hte:o===Jr.MICROSECOND?HA:GA,a&&ox);case ie.Decimal:return c?jA:fte;case ie.Interval:return o===Os.DAY_TIME?qA:o===Os.YEAR_MONTH?yd:WA;case ie.FixedSizeBinary:return rO;case ie.Utf8:return XA;case ie.LargeUtf8:return QA;case ie.Binary:return YA;case ie.LargeBinary:return ZA;case ie.BinaryView:return dO;case ie.Utf8View:return hO;case ie.List:return KA;case ie.LargeList:return JA;case ie.Map:return u?sO:oO;case ie.ListView:return eO;case ie.LargeListView:return tO;case ie.FixedSizeList:return iO;case ie.Struct:return f?cO:ax;case ie.RunEndEncoded:return lO;case ie.Dictionary:return uO;case ie.Union:return e.mode?aO:sx}throw new Error(bu(n))}function yte(e,t){return t?class extends t{constructor(r){super(new e(r))}}:e}function nIe(e,t){return{offset:ei(e,t),metadataLength:fn(e,t+8),bodyLength:ei(e,t+16)}}function K6(e,t){return Xo(e,t,24,nIe)}function pO(e,t,n){let r=Pi(e,t);if(r(10,ga,0))throw new Error("Record batch compression not implemented");let i=n<Ms.V4?8:0;return{length:r(4,ei,0),nodes:Xo(e,r(6,ga),16,(o,s)=>({length:ei(o,s),nullCount:ei(o,s+8)})),regions:Xo(e,r(8,ga),16+i,(o,s)=>({offset:ei(o,s+i),length:ei(o,s+i+8)})),variadic:Xo(e,r(12,ga),8,ei)}}function _te(e,t,n){let r=Pi(e,t);return{id:r(4,ei,0),data:r(6,(i,o)=>pO(i,o,n)),isDelta:r(8,gd,!1)}}function J6(e,t,n,r){wo(n,ie,bu);let i=Pi(e,t);switch(n){case ie.Binary:return P6();case ie.Utf8:return AA();case ie.LargeBinary:return $6();case ie.LargeUtf8:return z6();case ie.List:return NA(r[0]);case ie.ListView:return q6(r[0]);case ie.LargeList:return H6(r[0]);case ie.LargeListView:return W6(r[0]);case ie.Struct:return RA(r);case ie.RunEndEncoded:return G6(r[0],r[1]);case ie.Int:return MA(i(4,fn,0),i(6,gd,!1));case ie.Float:return R6(i(4,yi,Hy.HALF));case ie.Decimal:return L6(i(4,fn,0),i(6,fn,0),i(8,fn,128));case ie.Date:return k6(i(4,yi,_u.MILLISECOND));case ie.Time:return F6(i(4,yi,Jr.MILLISECOND),i(6,fn,32));case ie.Timestamp:return OA(i(4,yi,Jr.SECOND),i(6,_p));case ie.Interval:return B6(i(4,yi,Os.YEAR_MONTH));case ie.Duration:return j6(i(4,yi,Jr.MILLISECOND));case ie.FixedSizeBinary:return U6(i(4,fn,0));case ie.FixedSizeList:return PA(r[0],i(4,fn,0));case ie.Map:return ite(i(4,gd,!1),r[0]);case ie.Union:return V6(i(4,yi,vu.Sparse),r,Xo(e,i(6,ga),4,fn))}return{typeId:n}}function ux(e,t){let n=Xo(e,t,4,(r,i)=>{let o=Pi(r,i);return[o(4,_p),o(6,_p)]});return n.length?new Map(n):null}function mO(e,t,n){let r=Pi(e,t);return{version:n,endianness:r(4,yi,0),fields:r(6,rIe,[]),metadata:r(8,ux)}}function rIe(e,t){return Xo(e,t,4,vte)}function vte(e,t){let n=Pi(e,t),r=n(8,nx,ie.NONE),i=n(10,ga,0),o=n(12,oIe),s=n(14,(c,u)=>iIe(c,u)),a=J6(e,i,r,s);return o&&(o.dictionary=a,a=o),{name:n(4,_p),type:a,nullable:n(6,gd,!1),metadata:n(16,ux)}}function iIe(e,t){let n=Xo(e,t,4,vte);return n.length?n:null}function oIe(e,t){if(!t)return null;let n=Pi(e,t);return CA(null,n(6,sIe,Wy()),n(8,gd,!1),n(4,ei,0))}function sIe(e,t){return J6(e,t,ie.Int)}var aIe=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,cIe=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`,lIe=e=>`Unsupported message type: ${e} (${TA(As,e)})`;function gO(e,t){let n=fn(e,t)||0;if(t+=yp,n===-1&&(n=fn(e,t)||0,t+=yp),n===0)return null;let r=e.subarray(t,t+=n);if(r.byteLength<n)throw new Error(aIe(n,r.byteLength));let i=Pi(r,0),o=i(4,yi,Ms.V1),s=i(6,nx,As.NONE),a=i(8,ga,0),c=i(10,ei,0),u;if(a){let f=s===As.Schema?mO:s===As.DictionaryBatch?_te:s===As.RecordBatch?pO:null;if(!f)throw new Error(lIe(s));if(u=f(r,a,o),c>0){let h=e.subarray(t,t+=c);if(h.byteLength<c)throw new Error(cIe(c,h.byteLength));u.body=h}}return{version:o,type:s,index:t,content:u}}function bte(e){let t=e instanceof ArrayBuffer?new Uint8Array(e):e;return t instanceof Uint8Array&&uIe(t)?dIe(t):fIe(t)}function uIe(e){if(!e||e.length<4)return!1;for(let t=0;t<6;++t)if(J1[t]!==e[t])return!1;return!0}function fIe(e){let t=[e].flat(),n,r=[],i=[];for(let o of t){if(!(o instanceof Uint8Array))throw new Error("IPC data batch was not a Uint8Array.");let s=0;for(;;){let a=gO(o,s);if(a===null)break;if(s=a.index,!!a.content)switch(a.type){case As.Schema:n||(n=a.content);break;case As.RecordBatch:r.push(a.content);break;case As.DictionaryBatch:i.push(a.content);break}}}return{schema:n,dictionaries:i,records:r,metadata:null}}function dIe(e){let t=e.byteLength-(J1.length+4),n=fn(e,t),r=Pi(e,t-n),i=r(4,yi,Ms.V1),o=r(8,K6,[]),s=r(10,K6,[]);return{schema:r(6,(a,c)=>mO(a,c,i)),dictionaries:o.map(({offset:a})=>gO(e,a).content),records:s.map(({offset:a})=>gO(e,a).content),metadata:r(12,ux)}}function t8(e,t){return hIe(bte(e),t)}function hIe(e,t={}){let{schema:n={fields:[]},dictionaries:r,records:i}=e,{version:o,fields:s}=n,a=new Map,c=mIe(t,o,a),u=new Map;pIe(n,p=>{let m=p.type;m.typeId===ie.Dictionary&&u.set(m.id,m.dictionary)});let f=new Map;for(let p of r){let{id:m,data:y,isDelta:v,body:b}=p,x=u.get(m),w=e8(x,c(V(E({},y),{body:b})));if(f.has(m)){let D=f.get(m);v||D.clear(),D.add(w)}else{if(v)throw new Error("Delta update can not be first dictionary batch.");f.set(m,Q6(x).add(w))}}f.forEach((p,m)=>a.set(m,p.done()));let h=s.map(p=>Q6(p.type));for(let p of i){let m=c(p);s.forEach((y,v)=>h[v].add(e8(y.type,m)))}return new Xy(n,h.map(p=>p.done()),t.useProxy)}function pIe(e,t){e.fields.forEach(function n(r){t(r),r.type.dictionary?.children?.forEach(n),r.type.children?.forEach(n)})}function mIe(e,t,n){let r={version:t,options:e,dictionary:i=>n.get(i)};return i=>{let{length:o,nodes:s,regions:a,variadic:c,body:u}=i,f=-1,h=-1,p=-1;return V(E({},r),{length:o,node:()=>s[++f],buffer:m=>{let{length:y,offset:v}=a[++h];return m?new m(u.buffer,u.byteOffset+v,y/m.BYTES_PER_ELEMENT):u.subarray(v,v+y)},variadic:()=>c[++p],visit(m){return m.map(y=>e8(y.type,this))}})}}function e8(e,t){let{typeId:n}=e,{length:r,options:i,node:o,buffer:s,variadic:a,version:c}=t,u=lx(e,i);if(n===ie.Null)return new u({length:r,nullCount:r,type:e});let f=V(E({},o()),{type:e});switch(n){case ie.Bool:case ie.Int:case ie.Time:case ie.Duration:case ie.Float:case ie.Decimal:case ie.Date:case ie.Timestamp:case ie.Interval:case ie.FixedSizeBinary:return new u(V(E({},f),{validity:s(),values:s(e.values)}));case ie.Utf8:case ie.LargeUtf8:case ie.Binary:case ie.LargeBinary:return new u(V(E({},f),{validity:s(),offsets:s(e.offsets),values:s()}));case ie.BinaryView:case ie.Utf8View:return new u(V(E({},f),{validity:s(),values:s(),data:Array.from({length:a()},()=>s())}));case ie.List:case ie.LargeList:case ie.Map:return new u(V(E({},f),{validity:s(),offsets:s(e.offsets),children:t.visit(e.children)}));case ie.ListView:case ie.LargeListView:return new u(V(E({},f),{validity:s(),offsets:s(e.offsets),sizes:s(e.offsets),children:t.visit(e.children)}));case ie.FixedSizeList:case ie.Struct:return new u(V(E({},f),{validity:s(),children:t.visit(e.children)}));case ie.RunEndEncoded:return new u(V(E({},f),{children:t.visit(e.children)}));case ie.Dictionary:{let{id:h,indices:p}=e;return new u(V(E({},f),{validity:s(),values:s(p.values)})).setDictionary(t.dictionary(h))}case ie.Union:return c<Ms.V5&&s(),new u(V(E({},f),{typeIds:s(ex),offsets:e.mode===vu.Sparse?null:s(e.offsets),children:t.visit(e.children)}));default:throw new Error(bu(n))}}var N1t=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;function xp(e){return t8(e,{useDate:!0})}function yO(e="ws://localhost:3000/"){let t=[],n=!1,r=null,i,o={open(){n=!0,c()},close(){for(n=!1,r=null,i=null;t.length;)t.shift().reject("Socket closed")},error(u){if(r){let{reject:f}=r;r=null,c(),f(u)}else console.error("WebSocket error: ",u)},message({data:u}){if(r){let{query:f,resolve:h,reject:p}=r;if(r=null,c(),typeof u=="string"){let m=JSON.parse(u);m.error?p(m.error):h(m)}else if(f.type==="exec")h();else if(f.type==="arrow")h(xp(u));else throw new Error(`Unexpected socket data: ${u}`)}else console.log("WebSocket message: ",u)}};function s(){i=new WebSocket(e),i.binaryType="arraybuffer";for(let u in o)i.addEventListener(u,o[u])}function a(u,f,h){i==null&&s(),t.push({query:u,resolve:f,reject:h}),n&&!r&&c()}function c(){t.length&&(r=t.shift(),i.send(JSON.stringify(r.query)))}return{get connected(){return n},query(u){return new Promise((f,h)=>a(u,f,h))}}}var Qy="COLUMN_REF",Ky="COLUMN_PARAM",Tte="TABLE_REF",Cte="LITERAL";var n8="ORDER_BY",_O="CAST",r8="CASE",i8="WHEN",o8="UNARY",Mte="UNARY_POSTFIX",vO="BINARY",bO="BETWEEN",xO="NOT_BETWEEN",wO="LOGICAL_OPERATOR",DO="IN",SO="FUNCTION",wp="AGGREGATE",Jy="WINDOW",IO="WINDOW_DEF",EO="WINDOW_FRAME",Ate="EXPRESSION",e0="FRAGMENT",TO="VERBATIM",t0="PARAM",Ote="WITH_CLAUSE",CO="SELECT_CLAUSE",MO="FROM_CLAUSE";var Nte="SAMPLE_CLAUSE";var AO="WINDOW_CLAUSE";var OO="SELECT_QUERY",NO="DESCRIBE_QUERY",RO="SET_OPERATION";function ti(e){return e instanceof Dr}var Dr=class{constructor(t){this.type=t}},vt=class extends Dr{};var Dp=class extends vt{constructor(t){super(Cte),this.value=t}toString(){return s8(this.value)}};function s8(e){switch(typeof e){case"number":return Number.isFinite(e)?`${e}`:"NULL";case"string":return`'${e.replace("'","''")}'`;case"boolean":return e?"TRUE":"FALSE";default:if(e==null)return"NULL";if(e instanceof Date){let t=+e;if(Number.isNaN(t))return"NULL";let n=e.getUTCFullYear(),r=e.getUTCMonth(),i=e.getUTCDate();return t===Date.UTC(n,r,i)?`DATE '${n}-${r+1}-${i}'`:`epoch_ms(${t})`}else return e instanceof RegExp?`'${e.source}'`:`${e}`}}var ya=class extends vt{constructor(t){super(t0),this.param=t}get value(){return this.param.value}toString(){return s8(this.value)}};function a8(e){return e.split(".")}function _a(e){return`"${e}"`}function PO(e){return e&&BIe(e)?e.slice(1,-1):e}function BIe(e){return e[0]==='"'&&e[e.length-1]==='"'}function _d(e){return e instanceof n0}var n0=class extends vt{constructor(t){super(Tte),this.table=[t].flat()}get name(){return this.table[this.table.length-1]}toString(){return this.table.map(t=>_a(t)).join(".")}};var r0=class extends vt{constructor(t,n=[]){super(SO),this.name=t,this.args=n}toString(){let{name:t,args:n}=this;return`${t}(${n.join(", ")})`}};function Do(e,...t){return new r0(e,c8(t).map(gn))}function jc(e,...t){return new fx(e,c8(t).map(gn))}function So(e,t=gn){return e.flat().filter(n=>n!=null).map(n=>t(n))}function c8(e){let t=e.length,n=t;for(;n>0&&e[n-1]===void 0;--n);return n<t?e.slice(0,n):e}function Ns(e){return typeof e=="string"}function dx(e){return Array.isArray(e)}function va(e){return e&&typeof e.addEventListener=="function"&&e.dynamic!==!1&&"value"in e}var px=class extends Dr{constructor(t,n){super(AO),this.name=t,this.def=n}toString(){return`${_a(this.name)} AS ${this.def}`}},i0=class e extends vt{constructor(t,n=new o0){super(Jy),this.func=t,this.def=n}over(t){return new e(this.func,this.def.over(t))}partitionby(...t){return new e(this.func,this.def.partitionby(...t))}orderby(...t){return new e(this.func,this.def.orderby(...t))}rows(t){return new e(this.func,this.def.rows(t))}range(t){return new e(this.func,this.def.range(t))}toString(){return`${this.func} OVER ${this.def}`}};var o0=class extends Dr{constructor(t,n,r,i){super(IO),this.name=t,this.partition=n,this.order=r,this.frame=i}over(t){return hx(this,{name:t})}partitionby(...t){return hx(this,{partition:So(t)})}orderby(...t){return hx(this,{order:So(t)})}rows(t){return hx(this,{frame:new mx(t)})}range(t){return hx(this,{frame:new mx(t,!0)})}toString(){let{name:t,partition:n,order:r,frame:i}=this,o=t&&_a(t),s=[o,n?.length&&`PARTITION BY ${n.join(", ")}`,r?.length&&`ORDER BY ${r.join(", ")}`,i].filter(a=>a);return o&&s.length<2?o:`(${s.join(" ")})`}},mx=class extends Dr{constructor(t,n=!1,r=void 0){super(EO),this.extent=va(t)?new ya(t):t,this.range=n,this.exclude=r}toString(){let{range:t,exclude:n,extent:r}=this,i=t?"RANGE":"ROWS",[o,s]=ti(r)?r.value:r,a=Rte(o,"PRECEDING"),c=Rte(s,"FOLLOWING");return`${i} BETWEEN ${a} AND ${c}${n?` ${n}`:""}`}};function hx(e,t){return new o0(t.name??e.name,t.partition??e.partition,t.order??e.order,t.frame??e.frame)}function Rte(e,t){return e===0?"CURRENT ROW":Number.isFinite(e)?`${Math.abs(e)} ${t}`:`UNBOUNDED ${t}`}function vd(e){return e instanceof wu}var wu=class extends vt{constructor(t,n){super(t),this.table=n}get column(){return null}toString(){let{column:t,table:n}=this,r=`${n??""}`,i=t==="*"?"*":_a(t);return(r?r+".":"")+i}},gx=class extends wu{constructor(t,n){super(Qy,n),this.name=t}get column(){return this.name}};function l8(e){return e instanceof s0}var s0=class extends wu{constructor(t,n){super(Ky,n),this.param=t}get column(){return`${this.param.value}`}};function a0(e,t){let n=Sp(t);return va(e)?new s0(new ya(e),n):new gx(e,n)}var Ip=class extends vt{constructor(t){super(TO),this.value=t}toString(){return this.value}};function Li(e){return new Dp(e)}function Pte(e){return new Ip(e)}function LO(...e){let t=So(e,String);return t?.length?new n0(t):void 0}function gn(e){return Ns(e)?UIe(e):yx(e)}function Ep(e){return Ns(e)?Pte(e):yx(e)}function yx(e){return e instanceof vt?e:va(e)?new ya(e):Li(e)}function Sp(e){return Ns(e)?jIe(e):dx(e)?LO(e):e}function UIe(e){let t=a8(e);return a0(t.pop(),LO(t))}function jIe(e){return LO(a8(e))}var fx=class e extends vt{constructor(t,n,r,i){super(wp),this.name=t,this.args=n,this.isDistinct=r,this.filter=i}distinct(t=!0){return new e(this.name,this.args,t,this.filter)}where(t){return Ns(t)&&(t=Ep(t)),new e(this.name,this.args,this.isDistinct,t)}window(){return new i0(this)}partitionby(...t){return this.window().partitionby(...t)}orderby(...t){return this.window().orderby(...t)}toString(){let{name:t,args:n,isDistinct:r,filter:i}=this,o=r?"DISTINCT ":"",s=n?.length?n.join(", "):"*",a=i?` FILTER (WHERE ${i})`:"";return`${t}(${o}${s})${a}`}},Lte=["any_value","approx_count_distinct","approx_quantile","arbitrary","arg_max","arg_max_null","arg_min","arg_min_null","array_agg","avg","bit_and","bit_or","bit_xor","bitstring_agg","bool_and","bool_or","corr","count","covar_pop","covar_samp","entropy","favg","first","fsum","geomean","kurtosis_pop","kurtosis","last","mad","max","max_by","median","min","min_by","mode","product","quantile","quantile_cont","quantile_disc","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_sxx","regr_sxy","regr_syy","regr_slope","reservoir_quantile","skewness","stddev","stddev_pop","stddev_samp","string_agg","sum","variance","var_pop","var_samp"];var kO=class extends vt{constructor(t,n,r){super(t),this.expr=n,this.extent=r}toSQL(t){let{extent:n,expr:r}=this;return n?`(${r} ${t} ${n[0]} AND ${n[1]})`:""}},Tp=class extends kO{constructor(t,n){super(bO,t,n)}toString(){return super.toSQL("BETWEEN")}},_x=class extends kO{constructor(t,n){super(xO,t,n)}toString(){return super.toSQL("NOT BETWEEN")}};var vx=class extends vt{constructor(t,n,r){super(vO),this.op=t,this.left=n,this.right=r}toString(){return`(${this.left} ${this.op} ${this.right})`}};var bx=class extends vt{constructor(t,n){super(_O),this.expr=t,this.cast=n}toString(){return`(${this.expr})::${this.cast}`}};var xx=class extends vt{constructor(t){super(e0),this.spans=t}toString(){return this.spans.join("")}};var wx=class extends Dr{constructor(t,n=!1,r=void 0,i=void 0){super(Nte),this.size=t,this.perc=n,this.method=r,this.seed=i}toString(){let{size:t,perc:n,method:r,seed:i}=this,o=n?"%":" ROWS",s=i!=null?`, ${i}`:"";return`${t}${o}${r?` (${r}${s})`:""}`}};var Dx=class extends Dr{constructor(t,n){super(CO),this.expr=t,this.alias=n}toString(){let{expr:t,alias:n}=this;return!n||$Ie(t,n)?`${t}`:`${t} AS ${_a(n)}`}};function $Ie(e,t){return e instanceof wu&&e.table==null&&e.column===t}var Sx=class extends Dr{constructor(t,n){super(Ote),this.name=t,this.query=n}toString(){return`"${this.name}" AS (${this.query})`}};function FO(e){return e instanceof rn}function bd(e){return e instanceof Mp}function u8(e){return e instanceof Ix}var rn=class extends vt{static select(...t){return new Mp().select(...t)}static from(...t){return new Mp().from(...t)}static with(...t){return new Mp().with(...t)}static union(...t){return new Cp("UNION",t.flat())}static unionAll(...t){return new Cp("UNION ALL",t.flat())}static intersect(...t){return new Cp("INTERSECT",t.flat())}static except(...t){return new Cp("EXCEPT",t.flat())}static describe(t){return new Ix(t)}constructor(t){super(t),this._orderby=[],this._limit=void 0,this._offset=void 0,this.cteFor=null}get subqueries(){return[]}clone(){return this}orderby(...t){return this._orderby=this._orderby.concat(So(t)),this}limit(t){return this._limit=Number.isFinite(t)?t:void 0,this}offset(t){return this._offset=Number.isFinite(t)?t:void 0,this}},Mp=class e extends rn{constructor(){super(OO),this._with=[],this._select=[],this._from=[],this._where=[],this._sample=void 0,this._groupby=[],this._having=[],this._window=[],this._qualify=[]}get subqueries(){let t=this.cteFor||this,r=(t instanceof e?t._with:[]).reduce((o,s)=>(o[s.name]=s.query,o),{}),i=[];return this._from.forEach(({expr:o})=>{if(FO(o))i.push(o);else if(_d(o)){let s=r[o.name];s&&i.push(s)}}),i}clone(){return Object.assign(new e,this)}with(...t){let n=[],r=(i,o)=>{let s=o.clone();s.cteFor=this,n.push(new Sx(i,s))};return t.flat().forEach(i=>{if(i!=null)for(let o in i)r(o,i[o])}),this._with=this._with.concat(n),this}select(...t){let n=[],r=(o,s)=>n.push(new Dx(o==null?o:gn(o),PO(s)));t.flat().forEach(o=>{if(o!=null)if(Ns(o))r(o,o);else if(vd(o))r(o,o.column);else if(dx(o))r(o[1],o[0]);else for(let s in o)r(o[s],s)});let i=new Set(n.map(o=>o.alias));return this._select=this._select.filter(o=>!i.has(o.alias)).concat(n.filter(o=>o.expr)),this}setSelect(...t){return this._select=[],this.select(...t)}distinct(t=!0){return this._distinct=!!t,this}from(...t){let n=[],r=(i,o)=>n.push(new Ex(Sp(i),PO(o)));return t.flat().forEach(i=>{if(i!=null)if(Ns(i))r(i,i);else if(_d(i))r(i,i.name);else if(ti(i))r(i);else if(dx(i))r(i[1],i[0]);else for(let o in i)r(i[o],o)}),this._from=this._from.concat(n),this}setFrom(...t){return this._from=[],this.from(...t)}sample(t,n,r){let i;if(typeof t=="number"){let o=t>0&&t<1,s=o?t*100:Math.floor(t);i=new wx(s,o,n,r)}else i=t;return this._sample=i,this}where(...t){return this._where=this._where.concat(So(t,Ep)),this}setWhere(...t){return this._where=[],this.where(...t)}groupby(...t){return this._groupby=this._groupby.concat(So(t)),this}setGroupby(...t){return this._groupby=[],this.groupby(...t)}having(...t){return this._having=this._having.concat(So(t,Ep)),this}window(...t){let n=[];return t.flat().forEach(r=>{if(r!=null)for(let i in r)n.push(new px(PO(i),r[i]))}),this._window=this._window.concat(n),this}qualify(...t){return this._qualify=this._qualify.concat(So(t,Ep)),this}toString(){let{_with:t,_select:n,_distinct:r,_from:i,_sample:o,_where:s,_groupby:a,_having:c,_window:u,_qualify:f,_orderby:h,_limit:p,_offset:m}=this,y=[];if(t.length&&y.push(`WITH ${t.join(", ")}`),y.push(`SELECT${r?" DISTINCT":""} ${n.join(", ")}`),i.length&&y.push(`FROM ${i.join(", ")}`),s.length){let v=s.map(String).filter(b=>b).join(" AND ");v&&y.push(`WHERE ${v}`)}if(o&&y.push(`USING SAMPLE ${o}`),a.length&&y.push(`GROUP BY ${a.join(", ")}`),c.length){let v=c.map(String).filter(b=>b).join(" AND ");v&&y.push(`HAVING ${v}`)}if(u.length&&y.push(`WINDOW ${u.join(", ")}`),f.length){let v=f.map(String).filter(b=>b).join(" AND ");v&&y.push(`QUALIFY ${v}`)}return h.length&&y.push(`ORDER BY ${h.join(", ")}`),Number.isFinite(p)&&y.push(`LIMIT ${p}`),Number.isFinite(m)&&y.push(`OFFSET ${m}`),y.join(" ")}},Ix=class e extends Dr{constructor(t){super(NO),this.query=t}clone(){return new e(this.query.clone())}toString(){return`DESCRIBE ${this.query}`}},Cp=class e extends rn{constructor(t,n){super(RO),this.op=t,this.queries=n}get subqueries(){let{queries:t,cteFor:n}=this;return n&&t.forEach(r=>r.cteFor=n),t}clone(){let i=this,{op:t,queries:n}=i,r=Y(i,["op","queries"]);return Object.assign(new e(t,n),r)}toString(){let{op:t,queries:n,_orderby:r,_limit:i,_offset:o}=this,s=[n.join(` ${t} `)];return r.length&&s.push(`ORDER BY ${r.join(", ")}`),Number.isFinite(i)&&s.push(`LIMIT ${i}`),Number.isFinite(o)&&s.push(`OFFSET ${o}`),s.join(" ")}};var Ex=class extends Dr{constructor(t,n){super(MO),this.expr=t,this.alias=n}toString(){let{expr:t,alias:n}=this,r=FO(t)?`(${t})`:`${t}`;return n&&!(_d(t)&&t.table.join(".")===n)?`${r} AS ${_a(n)}`:`${r}`}};var Tx=class extends vt{constructor(t,n){super(DO),this.expr=t,this.values=n}toString(){return`(${this.expr} IN (${this.values.join(", ")}))`}};var BO=class extends vt{constructor(t,n){super(wO),this.op=t,this.clauses=n}toString(){let t=this.clauses;return t.length===0?"":t.length===1?`${t[0]}`:`(${t.join(` ${this.op} `)})`}},Cx=class extends BO{constructor(t){super("AND",t)}},Mx=class extends BO{constructor(t){super("OR",t)}};var f8=class extends vt{constructor(t,n,r){super(t),this.op=n,this.expr=r}};var Ax=class extends f8{constructor(t,n){super(Mte,t,n)}toString(){return`(${this.expr} ${this.op})`}};function Ap(e,t){return jc("arg_max",e,t)}function Op(e,t){return jc("arg_min",e,t)}function Rs(e){return jc("count",e)}function Ps(e){return jc("max",e)}function ba(e){return jc("min",e)}function VO(e,t){return jc("regr_avgx",e,t)}function d8(e,t){return jc("regr_avgy",e,t)}function UO(e,t){return jc("regr_count",e,t)}function Vn(e){return jc("sum",e)}function jO(e,t){return new bx(gn(e),t)}function xa(e){return jO(e,"INTEGER")}function Ls(e){return jO(e,"DOUBLE")}function h8(e){return Do("epoch_ms",e)}function $O(e){return Do("exp",e)}function p8(e){return Do("log",e)}function c0(e){return Do("ln",e)}function Du(e){return Do("sign",e)}function Su(e){return Do("abs",e)}function xd(e){return Do("sqrt",e)}function m8(e){return Do("ceil",e)}function $c(e){return Do("floor",e)}function Ox(e,t){return Do("round",e,t)}function kte(e,t){return new Ax(e,gn(t))}function l0(e,t,n){return new vx(e,gn(t),gn(n))}function WIe(e,t,n=!1){let r=n?_x:Tp;return new r(gn(e),t?.map(gn))}function ks(...e){return new Cx(So(e))}function Np(...e){return new Mx(So(e))}function Nx(e){return kte("IS NULL",e)}function Rp(e){return kte("IS NOT NULL",e)}function Iu(e,t){return l0("+",e,t)}function yn(e,t){return l0("-",e,t)}function Dn(e,t){return l0("*",e,t)}function Zn(e,t){return l0("/",e,t)}function ki(e,t){return l0("**",e,t)}function zO(e,t){return l0("IS NOT DISTINCT FROM",e,t)}function zc(e,t){return WIe(e,t,!1)}function HO(e,t){return new Tx(gn(e),t.map(gn))}function Hc(e,...t){return new xx(ZIe(e,t))}function ZIe(e,t){let n=[e[0]],r=t.length;for(let i=0,o=0;i<r;){let s=t[i];ti(s)?n[++o]=s:va(s)?n[++o]=new ya(s):n[o]+=Ns(s)?s:Li(s);let a=e[++i];ti(n[o])?n[++o]=a:n[o]+=a}return n.filter(i=>i).map(i=>Ns(i)?new Ip(i):i)}var GO={[wp]:["args","filter"],[bO]:["expr","extent"],[vO]:["left","right"],[r8]:["expr","_when","_else"],[_O]:["expr"],[Ky]:["param","table"],[Qy]:["table"],[NO]:["query"],[Ate]:["node"],[e0]:["spans"],[MO]:["expr"],[SO]:["args"],[DO]:["expr","values"],[wO]:["clauses"],[xO]:["expr","extent"],[n8]:["expr"],[t0]:["value"],[CO]:["expr"],[OO]:["_with","_select","_from","_where","_sample","_groupby","_having","_window","_qualify","_orderby"],[RO]:["subqueries","_orderby"],[o8]:["expr"],[i8]:["when","then"],[Jy]:["func","def"],[AO]:["def"],[IO]:["partition","order","frame"],[EO]:["extent"]};function Rx(e,t){if(t.has(e))return t.get(e);if(ti(e)){let n=GO[e.type],r=n?.length??0;for(let i=0;i<r;++i){let o=n[i],s=e[o];if(Array.isArray(s)){let a=s.length;for(let c=0;c<a;++c)s[c]=Rx(s[c],t)}else s&&(e[o]=Rx(s,t))}}return e}function Gc(e,t){if(!ti(e))return;let n=t(e);if(n)return n;let r=GO[e.type],i=r?.length??0;for(let o=0;o<i;++o){let s=e[r[o]];if(Array.isArray(s)){let a=s.length;for(let c=0;c<a;++c)if(s[c]&&+Gc(s[c],t)<0)return n}else if(s&&+Gc(s,t)<0)return-1}}var XIe=new RegExp(`^(${Lte.join("|")})$`),QIe=/(\\'|\\"|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\w+\()/g;function KIe(e){return e.split(QIe).some(t=>t.endsWith("(")&&XIe.test(t.slice(0,-1)))}function Qo(e){let t=0;return Gc(e,n=>{switch(n.type){case Jy:return-1;case wp:return t|=1,-1;case e0:case TO:{let r=`${n}`.toLowerCase(),i=r.indexOf("(select ");return i>=0&&(r=r.slice(0,i)),r.includes(") over ")?-1:KIe(r)?(t|=2,-1):1}}}),t}function g8(e){let t=new Set;return Gc(e,n=>{n.type===wp&&t.add(n)}),Array.from(t)}function Px(e){let t={};return Gc(e,n=>{(n.type===Qy||n.type===Ky)&&(t[n]=n)}),Object.values(t)}function y8(e){let t=new Set;return Gc(e,n=>{n.type===t0&&t.add(n.param)}),Array.from(t)}function Lx(e,t,{replace:n=!1,temp:r=!1,view:i=!1}={}){return"CREATE"+(n?" OR REPLACE ":" ")+(r?"TEMP ":"")+(i?"VIEW":"TABLE")+(n?" ":" IF NOT EXISTS ")+e+" AS "+t}function _8(e,t,n,r,i){let o=i?yn(n,Ls(e)):yn(Ls(e),t),s=n===t?0:r/(n-t);return s?Dn(o,Ls(s)):o}function b8(e,t,n,r,i=[]){let o=xa($c(t)),s=a=>rn.from(e).select(a).groupby(o,i);return rn.union(s([{[n]:ba(n),[r]:Op(r,n)},...i]),s([{[n]:Ps(n),[r]:Ap(r,n)},...i]),s([{[n]:Op(n,r),[r]:ba(r)},...i]),s([{[n]:Ap(n,r),[r]:Ps(r)},...i])).orderby(i,n)}var WO=e=>e;function Bte(){return{apply:WO,invert:WO,sqlApply:gn,sqlInvert:WO}}function nEe({base:e=null}={}){if(e==null||e===Math.E)return{apply:Math.log,invert:Math.exp,sqlApply:t=>c0(t),sqlInvert:t=>$O(t)};if(e===10)return{apply:Math.log10,invert:t=>Math.pow(10,t),sqlApply:t=>p8(t),sqlInvert:t=>ki(10,t)};{let t=+e;return{apply:n=>Math.log(n)/Math.log(t),invert:n=>Math.pow(t,n),sqlApply:n=>Zn(c0(n),c0(t)),sqlInvert:n=>ki(t,n)}}}function rEe({constant:e=1}={}){let t=+e;return{apply:n=>Math.sign(n)*Math.log1p(Math.abs(n)),invert:n=>Math.sign(n)*Math.exp(Math.abs(n)-t),sqlApply:n=>(n=gn(n),Dn(Du(n),c0(Iu(t,Su(n))))),sqlInvert:n=>Dn(Du(n),yn($O(Su(n)),t))}}function iEe(){return{apply:e=>Math.sign(e)*Math.sqrt(Math.abs(e)),invert:e=>Math.sign(e)*e*e,sqlApply:e=>(e=gn(e),Dn(Du(e),xd(Su(e)))),sqlInvert:e=>Dn(Du(e),ki(e,2))}}function oEe({exponent:e=1}={}){let t=+e;return{apply:n=>Math.sign(n)*Math.pow(Math.abs(n),t),invert:n=>Math.sign(n)*Math.pow(Math.abs(n),1/t),sqlApply:n=>(n=gn(n),Dn(Du(n),ki(Su(n),t))),sqlInvert:n=>Dn(Du(n),ki(Su(n),Zn(1,t)))}}function Vte(){return{apply:e=>+e,invert:e=>new Date(e),sqlApply:e=>e instanceof Date?Li(+e):aEe(e)?Li(+e.value):h8(e),sqlInvert:WO}}var sEe={identity:Bte,linear:Bte,log:nEe,symlog:rEe,sqrt:iEe,pow:oEe,time:Vte,utc:Vte};function Bx(e){let t=sEe[e.type];return t?E(E({},e),t(e)):null}function aEe(e){return e instanceof Dp&&e.value instanceof Date}function YO(e){let t=2166136261;for(let n=0,r=e.length;n<r;++n){let i=e.charCodeAt(n),o=i&65280;o&&(t=zte(t^o>>8)),t=zte(t^i&255)}return _Te(t)>>>0}function zte(e){return e+(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24)}function _Te(e){return e+=e<<13,e^=e>>>7,e+=e<<3,e^=e>>>17,e+=e<<5,e&4294967295}function Gte(e,t,n){switch(e.name){case"count":case"sum":return vTe(t,e);case"avg":return bTe(t,e);case"arg_max":return xTe(t,e);case"arg_min":return wTe(t,e);case"variance":case"var_samp":return ZO(t,e,n);case"var_pop":return ZO(t,e,n,!1);case"stddev":case"stddev_samp":return xd(ZO(t,e,n));case"stddev_pop":return xd(ZO(t,e,n,!1));case"covar_samp":return XO(t,e,n);case"covar_pop":return XO(t,e,n,!1);case"corr":return Hte(t,e,n);case"regr_count":return u0(t,e).expr;case"regr_avgx":return Zte(t,e);case"regr_avgy":return Xte(t,e);case"regr_syy":return w8(t,0,e,n);case"regr_sxx":return w8(t,1,e,n);case"regr_sxy":return XO(t,e,n,null);case"regr_slope":return Qte(t,e,n);case"regr_intercept":return DTe(t,e,n);case"regr_r2":return ki(Hte(t,e,n),2);case"max":case"min":case"bit_and":case"bit_or":case"bit_xor":case"bool_and":case"bool_or":case"product":{let r=qte(e);return t[r]=e,Hc`${e.name}("${r}")`}default:return null}}function qte(e){return"pre_"+YO(`${e}`).toString(16)}function io(e,t,n){let r=n?.filter;r&&(t=t.filter?t.where(ks(r,t.filter)):t.where(r));let i=qte(t);return e[i]=t,i}function Wte(e,t){let n=io(e,Rs(t.args[0]),t);return{expr:Vn(n),name:n}}function vTe(e,t){return Vn(io(e,t))}function bTe(e,t){let n=io(e,t),{expr:r,name:i}=Wte(e,t);return Zn(Vn(Dn(n,i)),r)}function xTe(e,t){let n=io(e,t),r=io(e,Ps(t.args[1]),t);return Ap(n,r)}function wTe(e,t){let n=io(e,t),r=io(e,ba(t.args[1]),t);return Op(n,r)}function ZO(e,t,n,r=!0){let i=t.args[0],{expr:o}=Wte(e,t),s=yn(i,n(i)),a=io(e,Vn(ki(s,2)),t),c=io(e,Vn(s),t),u=r?yn(o,1):o;return Zn(yn(Vn(a),Zn(ki(Vn(c),2),o)),u)}function XO(e,t,n,r=!0){let{expr:i}=u0(e,t),o=Yte(e,t,n),s=Vx(e,1,t,n),a=Vx(e,0,t,n),c=yn(o,Zn(Dn(s,a),i));return r===null?c:r?Zn(c,yn(i,1)):Zn(c,i)}function Hte(e,t,n){let{expr:r}=u0(e,t),i=Yte(e,t,n),o=x8(e,1,t,n),s=x8(e,0,t,n),a=Vx(e,1,t,n),c=Vx(e,0,t,n),u=yn(o,Zn(ki(a,2),r)),f=yn(s,Zn(ki(c,2),r));return Zn(yn(i,Zn(Dn(a,c),r)),xd(Dn(u,f)))}function u0(e,t){let[n,r]=t.args,i=io(e,UO(n,r),t);return{expr:Vn(i),name:i}}function Vx(e,t,n,r){let i=n.args,o=i[t],s=i[1-t],a=Vn(yn(o,r(o))).where(Rp(s));return Vn(io(e,a,n))}function x8(e,t,n,r){let i=n.args,o=i[t],s=i[1-t],a=Vn(ki(yn(o,r(o)),2)).where(Rp(s));return Vn(io(e,a,n))}function Yte(e,t,n){let[r,i]=t.args,o=Vn(Dn(yn(i,n(i)),yn(r,n(r))));return Vn(io(e,o,t))}function Zte(e,t){let[n,r]=t.args,{expr:i,name:o}=u0(e,t),s=io(e,VO(n,r),t);return Zn(Vn(Dn(s,o)),i)}function Xte(e,t){let[n,r]=t.args,{expr:i,name:o}=u0(e,t),s=io(e,d8(n,r),t);return Zn(Vn(Dn(s,o)),i)}function w8(e,t,n,r){let{expr:i}=u0(e,n),o=Vx(e,t,n,r),s=x8(e,t,n,r);return yn(s,Zn(ki(o,2),i))}function Qte(e,t,n){let r=XO(e,t,n,null),i=w8(e,1,t,n);return Zn(r,i)}function DTe(e,t,n){let r=Zte(e,t),i=Xte(e,t),o=Qte(e,t,n);return yn(i,Dn(o,r))}function Kte(e){if(!e.filterStable)return null;let t=e.query();if(!bd(t))return null;let n=QO(t,c=>{let u=c._from[0]?.expr;return _d(u)?u.name:u});if(typeof n!="string")return null;let r=new Map,i={},o={},s=[],a=c=>{let u=c.column,f=QO(t,h=>h._select.find(p=>p.alias===u)?.expr);return Hc`(SELECT avg(${f??c}) FROM "${n}")`};for(let{alias:c,expr:u}of t._select){if(Qo(u)>1)return null;let f=g8(u);if(f.length===0)s.push(c),i[c]=u;else{for(let h of f){if(h.isDistinct)return null;let p=Gte(h,i,a);if(!p)return null;r.set(h,p)}o[c]=Rx(u,r)}}return r.size?{group:s,preagg:i,output:o}:null}function QO(e,t){let n=e.subqueries;if(bd(e)&&n.length===0)return t(e);let r=QO(n[0],t);for(let i=1;i<n.length;++i){let o=QO(n[i],t);if(o!==void 0&&o!==r)return NaN}return r}var STe={skip:!0,result:null},KO=class{constructor(t,{schema:n="mosaic",enabled:r=!0}={}){this.entries=new Map,this.active=null,this.mc=t,this._schema=n,this._enabled=r}set enabled(t){this._enabled!==t&&(t||this.clear(),this._enabled=t)}get enabled(){return this._enabled}set schema(t){this._schema!==t&&(this.clear(),this._schema=t)}get schema(){return this._schema}dropSchema(){return this.clear(),this.mc.exec(`DROP SCHEMA IF EXISTS "${this.schema}" CASCADE`)}clear(){this.entries.clear(),this.active=null}request(t,n,r){if(!this.enabled)return null;let{entries:i,mc:o,schema:s}=this,{source:a}=r;if(!a||this.active&&(this.active.source!==a&&this.clear(),this.active?.source===null))return null;let{active:c}=this;if(!c&&(this.active=c=ITe(r),c.source===null))return null;if(i.has(t))return i.get(t);let u=Kte(t),f;if(!u)f=null;else if(n.skip(t,r))f=STe;else{let h=n.remove(a).predicate(t);f=CTe(t.query(h),c,u,s),f.result=o.exec([`CREATE SCHEMA IF NOT EXISTS ${s}`,Lx(f.table,f.create,{temp:!1})]),f.result.catch(p=>o.logger().error(p))}return i.set(t,f),f}};function ITe(e){let{source:t,meta:n}=e,r=e.predicate,i=Px(r).map(h=>h.column),o,s;if(!n||!i)return{source:null,columns:s,predicate:o};let{type:a,scales:c,bin:u,pixelSize:f=1}=n;if(a==="point")o=h=>h,s=Object.fromEntries(i.map(h=>[`${h}`,gn(h)]));else if(a==="interval"&&c){let h=c.map(p=>TTe(p,f,u));h.some(p=>!p)||(h.length===1?(o=p=>p?zc("active0",p.extent.map(h[0])):[],s={active0:h[0](r.expr)}):(o=p=>p?ks(p.clauses.map((m,y)=>zc(`active${y}`,m.extent.map(h[y])))):[],s=Object.fromEntries(r.clauses.map((p,m)=>[`active${m}`,h[m](p.expr)]))))}return{source:s?t:null,columns:s,predicate:o}}var ETe={ceil:m8,round:Ox};function TTe(e,t,n){let{type:r,domain:i,range:o,apply:s,sqlApply:a}=Bx(e);if(!s)return;let c=ETe[`${n}`.toLowerCase()]||$c,u=s(Math.min(...i)),f=s(Math.max(...i)),h=(r==="identity"?1:Math.abs(o[1]-o[0])/(f-u))/t,p=h===1?y=>y:y=>Dn(Ls(h),y),m=u===0?y=>y:y=>yn(y,Ls(u));return y=>xa(c(p(m(a(y)))))}function CTe(e,t,n,r){let{group:i,output:o,preagg:s}=n,{columns:a}=t,c=e.setSelect(E(E({},s),a)).groupby(Object.keys(a)),[u]=c.subqueries;if(u){let b=Object.values(a).flatMap(x=>Px(x).map(w=>w.column));MTe(u,b)}let f=c._having,h=c._orderby;c._having=[],c._orderby=[];let p=c.toString(),m=(YO(p)>>>0).toString(16),y=`${r}.preagg_${m}`,v=rn.select(i,o).from(y).groupby(i).having(f).orderby(h);return new D8({table:y,create:p,active:t,select:v})}function MTe(e,t){let n=new Set,r=i=>{n.has(i)||(n.add(i),bd(i)&&i._from.length&&i.select(t),i.subqueries.forEach(r))};r(e)}var D8=class{constructor({table:t,create:n,active:r,select:i}){this.table=t,this.create=n,this.result=null,this.active=r,this.select=i,this.skip=!1}query(t){return this.select.clone().where(this.active.predicate(t))}};function JO(e){switch(e){case"BIGINT":case"HUGEINT":case"INTEGER":case"SMALLINT":case"TINYINT":case"UBIGINT":case"UINTEGER":case"USMALLINT":case"UTINYINT":case"DOUBLE":case"FLOAT":case"REAL":return"number";case"DATE":case"TIMESTAMP":case"TIMESTAMPTZ":case"TIMESTAMP WITH TIME ZONE":case"TIME":case"TIMESTAMP_NS":return"date";case"BOOLEAN":return"boolean";case"VARCHAR":case"UUID":case"JSON":return"string";case"ARRAY":case"LIST":return"array";case"BLOB":case"STRUCT":case"MAP":case"GEOMETRY":return"object";default:if(e.startsWith("DECIMAL"))return"number";if(e.startsWith("STRUCT")||e.startsWith("MAP"))return"object";if(e.endsWith("]"))return"array";throw new Error(`Unsupported type: ${e}`)}}var ATe="count",OTe="nulls",NTe="max",RTe="min",PTe="distinct";var LTe={[ATe]:Rs,[PTe]:e=>Rs(e).distinct(),[NTe]:Ps,[RTe]:ba,[OTe]:e=>Rs().where(Nx(e))};function kTe({table:e,column:t,stats:n}){return rn.from(e).select(Array.from(n,r=>({[r]:LTe[r](t)})))}function S8(e,t){return ce(this,null,function*(){return t.length===1&&t[0].column==="*"?BTe(e,t[0].table):(yield Promise.all(t.map(n=>FTe(e,n)))).filter(n=>n)})}function FTe(i,o){return ce(this,arguments,function*(e,{table:t,column:n,stats:r}){let s=rn.from({source:t}).select({column:n}).groupby(ti(n)&&Qo(n)?Hc`ALL`:[]),[a]=Array.from(yield e.query(rn.describe(s))),c={table:t,column:`${n}`,sqlType:a.column_type,type:JO(a.column_type),nullable:a.null==="YES"};if(!r?.length)return c;let[u]=yield e.query(kTe({table:t,column:n,stats:r}),{persist:!0});return Object.assign(c,u)})}function BTe(e,t){return ce(this,null,function*(){return Array.from(yield e.query(`DESCRIBE ${Sp(t)}`)).map(r=>({table:t,column:r.column_name,sqlType:r.column_type,type:JO(r.column_type),nullable:r.null==="YES"}))})}var wd=Object.freeze({pending:Symbol("pending"),ready:Symbol("ready"),error:Symbol("error"),done:Symbol("done")}),Pp=class extends Promise{constructor(){let t,n;super((r,i)=>{t=r,n=i}),this._resolve=t,this._reject=n,this._state=wd.pending,this._value=void 0}fulfill(t){if(this._value!==void 0){if(t!==void 0)throw Error("Promise is ready and fulfill has a provided value");this._resolve(this._value)}else{if(t===void 0)throw Error("Promise is neither ready nor has provided value");this._resolve(t)}return this._state=wd.done,this}ready(t){return this._state=wd.ready,this._value=t,this}reject(t){return this._state=wd.error,this._reject(t),this}get state(){return this._state}};Pp.prototype.constructor=Promise;function e2(){return{debug(...e){},info(...e){},log(...e){},warn(...e){},error(...e){}}}function VTe(e){return(typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:setTimeout)(e)}function Jte(e,t){let n=[],r=0;function i(){let o=UTe(n,t);n=[],r=0;for(let s of o)$Te(s,e),GTe(s,t)}return{add(o,s){o.request.type==="arrow"?(r=r||VTe(()=>i()),n.push({entry:o,priority:s,index:n.length})):e(o,s)}}}function UTe(e,t){let n=[],r=new Map;for(let i of e){let{entry:{request:o}}=i,s=jTe(o.query,t);if(!r.has(s)){let a=[];n.push(a),r.set(s,a)}r.get(s).push(i)}return n}function jTe(e,t){let n=`${e}`;if(bd(e)&&!t.get(n)){if(e._orderby.length||e._where.length||e._qualify.length||e._having.length)return n;let r=e.clone().setSelect("*"),i=e._groupby;if(i.length){let o={};e._select.forEach(({alias:s,expr:a})=>o[s]=a),r.setGroupby(i.map(s=>vd(s)&&o[s.column]||s))}else e._select.some(o=>Qo(o.expr))&&r.setGroupby("ALL");return`${r}`}else return n}function $Te(e,t){if(zTe(e))t({request:{type:"arrow",cache:!1,query:e.query=HTe(e)},result:e.result=new Pp});else for(let{entry:n,priority:r}of e)t(n,r)}function zTe(e){if(e.length>1){let t=`${e[0].entry.request.query}`;for(let n=1;n<e.length;++n)if(t!==`${e[n].entry.request.query}`)return!0}return!1}function HTe(e){let t=e.maps=[],n=new Map;for(let o of e){let{query:s}=o.entry.request,a=[];t.push(a);for(let{alias:c,expr:u}of s._select){let f=`${u}`;n.has(f)||n.set(f,[`col${n.size}`,u]);let[h]=n.get(f);a.push([h,c])}}let r=e[0].entry.request.query.clone(),i=r._groupby;if(i.length){let o={};e.maps[0].forEach(([s,a])=>o[a]=s),r.setGroupby(i.map(s=>vd(s)&&o[s.column]||s))}return r.setSelect(Array.from(n.values()))}function GTe(e,t){return ce(this,null,function*(){let{maps:n,query:r,result:i}=e;if(!n)return;let o;try{o=yield i}catch(a){for(let{entry:c}of e)c.result.reject(a);return}let s=u8(r);e.forEach(({entry:a},c)=>{let{request:u,result:f}=a,h=n[c],p=s&&h?WTe(o,h):h?qTe(o,h):o;u.cache&&t.set(String(u.query),p),f.fulfill(p)})})}function qTe(e,t){return e.select(t.map(n=>n[0]),t.map(n=>n[1]))}function WTe(e,t){let n=new Map(t),r=[];for(let i of e)n.has(i.column_name)&&r.push(V(E({},i),{column_name:n.get(i.column_name)}));return r}var YTe=typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout,ene=()=>({get:()=>{},set:(e,t)=>t,clear:()=>{}});function tne({max:e=1e3,ttl:t=3*60*60*1e3}={}){let n=new Map;function r(){let i=performance.now()-t,o=null,s=1/0;for(let[a,c]of n){let{last:u}=c;u<s&&(o=a,s=u),i>u&&n.delete(a)}o&&n.delete(o)}return{get(i){let o=n.get(i);if(o)return o.last=performance.now(),o.value},set(i,o){return n.set(i,{last:performance.now(),value:o}),n.size>e&&YTe(r),o},clear(){n=new Map}}}var t2=class{constructor(t){this.queue=Array.from({length:t},()=>({head:null,tail:null}))}isEmpty(){return this.queue.every(t=>!t.head)}insert(t,n){let r=this.queue[n];if(!r)throw new Error(`Invalid queue priority rank: ${n}`);let i={item:t,next:null};r.head===null?r.head=r.tail=i:r.tail=r.tail.next=i}remove(t){for(let n of this.queue){let{head:r,tail:i}=n;for(let o=null,s=r;s;o=s,s=s.next)t(s.item)&&(s===r?r=s.next:o.next=s.next,s===i&&(i=o||r));n.head=r,n.tail=i}}next(){for(let t of this.queue){let{head:n}=t;if(n!==null)return t.head=n.next,t.tail===n&&(t.tail=null),n.item}}};var qc=Object.freeze({High:0,Normal:1,Low:2}),n2=class{constructor(t=32){this.queue=new t2(3),this.db=null,this.clientCache=null,this._logger=e2(),this._logQueries=!1,this._consolidate=null,this.pendingResults=[],this.maxConcurrentRequests=t,this.pendingExec=!1}next(){if(this.queue.isEmpty()||this.pendingResults.length>this.maxConcurrentRequests||this.pendingExec)return;let{request:t,result:n}=this.queue.next();this.pendingResults.push(n),t.type==="exec"&&(this.pendingExec=!0),this.submit(t,n).finally(()=>{for(;this.pendingResults.length&&this.pendingResults[0].state!==wd.pending;){let r=this.pendingResults.shift();r.state===wd.ready?r.fulfill():r.state===wd.done&&this._logger.warn("Found resolved query in pending results.")}t.type==="exec"&&(this.pendingExec=!1),this.next()})}enqueue(t,n=qc.Normal){this.queue.insert(t,n),this.next()}submit(t,n){return ce(this,null,function*(){try{let{query:r,type:i,cache:o=!1,options:s}=t,a=r?`${r}`:null;if(o){let h=this.clientCache.get(a);if(h){let p=yield h;this._logger.debug("Cache"),n.ready(p);return}}let c=performance.now();this._logQueries&&this._logger.debug("Query",E({type:i,sql:a},s));let u=this.db.query(E({type:i,sql:a},s));o&&this.clientCache.set(a,u);let f=yield u;o&&this.clientCache.set(a,f),this._logger.debug(`Request: ${(performance.now()-c).toFixed(1)}`),n.ready(i==="exec"?null:f)}catch(r){n.reject(r)}})}cache(t){return t!==void 0?this.clientCache=t===!0?tne():t||ene():this.clientCache}logger(t){return t?this._logger=t:this._logger}logQueries(t){return t!==void 0?this._logQueries=!!t:this._logQueries}connector(t){return t?this.db=t:this.db}consolidate(t){t&&!this._consolidate?this._consolidate=Jte(this.enqueue.bind(this),this.clientCache):!t&&this._consolidate&&(this._consolidate=null)}request(t,n=qc.Normal){let r=new Pp,i={request:t,result:r};return this._consolidate?this._consolidate.add(i,n):this.enqueue(i,n),r}cancel(t){let n=new Set(t);if(n.size){this.queue.remove(({result:r})=>n.has(r)?(r.reject("Canceled"),!0):!1);for(let r of this.pendingResults)n.has(r)&&r.reject("Canceled")}}clear(){this.queue.remove(({result:t})=>(t.reject("Cleared"),!0));for(let t of this.pendingResults)t.reject("Cleared");this.pendingResults=[]}};var r2;function oo(e){return e?r2=e:r2==null&&(r2=new Ux),r2}var Ux=class{constructor(t=yO(),{logger:n=console,manager:r=new n2,cache:i=!0,consolidate:o=!0,preagg:s={}}={}){this.manager=r,this.manager.cache(i),this.manager.consolidate(o),this.databaseConnector(t),this.logger(n),this.clear(),this.preaggregator=new KO(this,s)}clear({clients:t=!0,cache:n=!0}={}){this.manager.clear(),t&&(this.filterGroups?.forEach(r=>r.disconnect()),this.filterGroups=new Map,this.clients?.forEach(r=>this.disconnect(r)),this.clients=new Set),n&&this.manager.cache().clear()}databaseConnector(t){return this.manager.connector(t)}logger(t){return arguments.length&&(this._logger=t||e2(),this.manager.logger(this._logger)),this._logger}cancel(t){this.manager.cancel(t)}exec(t,{priority:n=qc.Normal}={}){return t=Array.isArray(t)?t.filter(r=>r).join(`;
`):t,this.manager.request({type:"exec",query:t},n)}query(t,s={}){var a=s,{type:n="arrow",cache:r=!0,priority:i=qc.Normal}=a,o=Y(a,["type","cache","priority"]);return this.manager.request({type:n,query:t,cache:r,options:o},i)}prefetch(t,n={}){return this.query(t,V(E({},n),{cache:!0,priority:qc.Low}))}createBundle(t,n,r=qc.Low){let i={name:t,queries:n.map(o=>typeof o=="string"?{sql:o}:o)};return this.manager.request({type:"create-bundle",options:i},r)}loadBundle(t,n=qc.High){let r={name:t};return this.manager.request({type:"load-bundle",options:r},n)}updateClient(t,n,r=qc.Normal){return t.queryPending(),this.query(n,{priority:r}).then(i=>t.queryResult(i).update(),i=>{this._logger.error(i),t.queryError(i)}).catch(i=>this._logger.error(i))}requestQuery(t,n){return this.preaggregator.clear(),n?this.updateClient(t,n):Promise.resolve(t.update())}connect(t){return ce(this,null,function*(){let{clients:n}=this;if(n.has(t))throw new Error("Client already connected.");n.add(t),t.coordinator=this,this.initializeClient(t),ZTe(this,t.filterBy,t)})}initializeClient(t){return ce(this,null,function*(){let n=t.fields();return n?.length&&t.fieldInfo(yield S8(this,n)),t.requestQuery()})}disconnect(t){let{clients:n,filterGroups:r}=this;if(!n.has(t))return;n.delete(t),t.coordinator=null;let i=r.get(t.filterBy);i&&i.clients.delete(t)}};function ZTe(e,t,n){if(!t)return;let r=e.filterGroups.get(t);if(!r){let i=s=>XTe(e,t,s),o=()=>QTe(e,t);t.addEventListener("activate",i),t.addEventListener("value",o),r={selection:t,clients:new Set,disconnect(){t.removeEventListener("activate",i),t.removeEventListener("value",o)}},e.filterGroups.set(t,r)}r.clients.add(n)}function XTe(e,t,n){let{preaggregator:r,filterGroups:i}=e,{clients:o}=i.get(t);for(let s of o)r.request(s,t,n)}function QTe(e,t){let{preaggregator:n,filterGroups:r}=e,{clients:i}=r.get(t),{active:o}=t;return Promise.allSettled(Array.from(i,s=>{let a=n.request(s,t,o),c=a?null:t.predicate(s);if(a?.skip||!a&&!c)return;let u=a?.query(o.predicate)??s.query(c);return e.updateClient(s,u)}))}var i2=class{constructor(){this._callbacks=new Map}addEventListener(t,n){this._callbacks.has(t)||this._callbacks.set(t,{callbacks:new Set,pending:null,queue:new I8}),this._callbacks.get(t).callbacks.add(n)}removeEventListener(t,n){let r=this._callbacks.get(t);r&&r.callbacks.delete(n)}willEmit(t,n){return n}emitQueueFilter(t,n){return null}cancel(t){this._callbacks.get(t)?.queue.clear()}pending(t){return ce(this,null,function*(){yield this._callbacks.get(t)?.pending})}emit(t,n){let r=this._callbacks.get(t)||{};if(r.pending)r.queue.enqueue(n,this.emitQueueFilter(t,n));else{let i=this.willEmit(t,n),{callbacks:o,queue:s}=r;if(o?.size){let a=Array.from(o,c=>c(i));r.pending=Promise.allSettled(a).then(()=>{r.pending=null,s.isEmpty()||this.emit(t,s.dequeue())})}}}},I8=class{constructor(){this.clear()}clear(){this.next=null}isEmpty(){return!this.next}enqueue(t,n){let r={value:t};if(n&&this.next){let i=this;for(;i.next;)n(i.next.value)?i=i.next:i.next=i.next.next;i.next=r}else this.next=r}dequeue(){let{next:t}=this;return this.next=t?.next,t?.value}};function jx(e,t){return e===t?!1:e instanceof Date&&t instanceof Date?+e!=+t:Array.isArray(e)&&Array.isArray(t)?KTe(e,t):!0}function KTe(e,t){if(e.length!==t.length)return!0;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!0;return!1}function Io(e){return e instanceof Lp}var Lp=class e extends i2{constructor(t){super(),this._value=t}static value(t){return new e(t)}static array(t){if(t.some(n=>Io(n))){let n=new e,r=()=>{n.update(t.map(i=>Io(i)?i.value:i))};return r(),t.forEach(i=>Io(i)?i.addEventListener("value",r):0),n}return new e(t)}get value(){return this._value}update(t,{force:n}={}){return jx(this._value,t)||n?this.emit("value",t):this.cancel("value"),this}willEmit(t,n){return t==="value"&&(this._value=n),n}};function f0(e){return e instanceof wa}function o2(e,t){return new wa(new s2(e),t&&[t].flat())}var wa=class e extends Lp{static intersect({cross:t=!1,empty:n=!1,include:r=[]}={}){return o2({cross:t,empty:n},r)}static union({cross:t=!1,empty:n=!1,include:r=[]}={}){return o2({cross:t,empty:n,union:!0},r)}static single({cross:t=!1,empty:n=!1,include:r=[]}={}){return o2({cross:t,empty:n,single:!0},r)}static crossfilter({empty:t=!1,include:n=[]}={}){return o2({cross:!0,empty:t},n)}constructor(t=new s2,n=[]){if(super([]),this._resolved=this._value,this._resolver=t,this._relay=new Set,Array.isArray(n))for(let r of n)r._relay.add(this)}clone(){let t=new e(this._resolver);return t._value=t._resolved=this._value,t}remove(t){let n=this.clone();return n._value=n._resolved=n._resolver.resolve(this._resolved,{source:t}),n._value.active={source:t},n}get resolver(){return this._resolver}get single(){return this._resolver.single}get clauses(){return super.value}get active(){return this.clauses.active}get value(){return this.active?.value}valueFor(t){return this.clauses.find(n=>n.source===t)?.value}activate(t){this.emit("activate",t),this._relay.forEach(n=>n.activate(t))}update(t){return this._resolved=this._resolver.resolve(this._resolved,t,!0),this._resolved.active=t,this._relay.forEach(n=>n.update(t)),super.update(this._resolved)}willEmit(t,n){return t==="value"?(this._value=n,this.value):n}emitQueueFilter(t,n){return t==="value"?this._resolver.queueFilter(n):null}skip(t,n){return this._resolver.skip(t,n)}predicate(t,n=!1){let{clauses:r}=this,i=n?null:r.active;return this._resolver.predicate(r,i,t)}},s2=class{constructor({union:t,cross:n,single:r,empty:i}={}){this.union=!!t,this.cross=!!n,this.single=!!r,this.empty=!!i}resolve(t,n,r=!1){let{source:i,predicate:o}=n,s=t.filter(c=>i!==c.source),a=this.single?[]:s;return this.single&&r&&s.forEach(c=>c.source?.reset?.()),o&&a.push(n),a}skip(t,n){return this.cross&&n?.clients?.has(t)}predicate(t,n,r){let{empty:i,union:o}=this;if(i&&!t.length)return[Li(!1)];if(this.skip(r,n))return;let s=t.filter(a=>!this.skip(r,a)).map(a=>a.predicate);return o&&s.length>1?Np(s):s}queueFilter(t){if(this.cross){let n=t.active?.source;return r=>r.active?.source!==n}return null}};var O8={};tf(O8,{compareArrayLike:()=>A8,joinUint8Arrays:()=>Ko,memcpy:()=>Hx,rebaseValueOffsets:()=>p2,toArrayBufferView:()=>bt,toArrayBufferViewAsyncIterator:()=>Ia,toArrayBufferViewIterator:()=>Yc,toBigInt64Array:()=>h2,toBigUint64Array:()=>aCe,toFloat32Array:()=>cCe,toFloat32ArrayAsyncIterator:()=>SCe,toFloat32ArrayIterator:()=>gCe,toFloat64Array:()=>lCe,toFloat64ArrayAsyncIterator:()=>ICe,toFloat64ArrayIterator:()=>yCe,toInt16Array:()=>iCe,toInt16ArrayAsyncIterator:()=>bCe,toInt16ArrayIterator:()=>dCe,toInt32Array:()=>kp,toInt32ArrayAsyncIterator:()=>xCe,toInt32ArrayIterator:()=>hCe,toInt8Array:()=>rCe,toInt8ArrayAsyncIterator:()=>vCe,toInt8ArrayIterator:()=>fCe,toUint16Array:()=>oCe,toUint16ArrayAsyncIterator:()=>wCe,toUint16ArrayIterator:()=>pCe,toUint32Array:()=>sCe,toUint32ArrayAsyncIterator:()=>DCe,toUint32ArrayIterator:()=>mCe,toUint8Array:()=>qe,toUint8ArrayAsyncIterator:()=>M8,toUint8ArrayIterator:()=>C8,toUint8ClampedArray:()=>uCe,toUint8ClampedArrayAsyncIterator:()=>ECe,toUint8ClampedArrayIterator:()=>_Ce});var JTe=new TextDecoder("utf-8"),$x=e=>JTe.decode(e),eCe=new TextEncoder,Wc=e=>eCe.encode(e);var tCe=e=>typeof e=="number",nne=e=>typeof e=="boolean",kr=e=>typeof e=="function",so=e=>e!=null&&Object(e)===e,Da=e=>so(e)&&kr(e.then);var Sa=e=>so(e)&&kr(e[Symbol.iterator]),Fs=e=>so(e)&&kr(e[Symbol.asyncIterator]),a2=e=>so(e)&&so(e.schema);var c2=e=>so(e)&&"done"in e&&"value"in e;var l2=e=>so(e)&&kr(e.stat)&&tCe(e.fd);var u2=e=>so(e)&&zx(e.body),f2=e=>"_getDOMStream"in e&&"_getNodeStream"in e,rne=e=>so(e)&&kr(e.abort)&&kr(e.getWriter)&&!f2(e),zx=e=>so(e)&&kr(e.cancel)&&kr(e.getReader)&&!f2(e),ine=e=>so(e)&&kr(e.end)&&kr(e.write)&&nne(e.writable)&&!f2(e),d2=e=>so(e)&&kr(e.read)&&kr(e.pipe)&&nne(e.readable)&&!f2(e),one=e=>so(e)&&kr(e.clear)&&kr(e.bytes)&&kr(e.position)&&kr(e.setPosition)&&kr(e.capacity)&&kr(e.getBufferIdentifier)&&kr(e.createLong);var T8=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function nCe(e){let t=e[0]?[e[0]]:[],n,r,i,o;for(let s,a,c=0,u=0,f=e.length;++c<f;){if(s=t[u],a=e[c],!s||!a||s.buffer!==a.buffer||a.byteOffset<s.byteOffset){a&&(t[++u]=a);continue}if({byteOffset:n,byteLength:i}=s,{byteOffset:r,byteLength:o}=a,n+i<r||r+o<n){a&&(t[++u]=a);continue}t[u]=new Uint8Array(s.buffer,n,r-n+o)}return t}function Hx(e,t,n=0,r=t.byteLength){let i=e.byteLength,o=new Uint8Array(e.buffer,e.byteOffset,i),s=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return o.set(s,n),e}function Ko(e,t){let n=nCe(e),r=n.reduce((f,h)=>f+h.byteLength,0),i,o,s,a=0,c=-1,u=Math.min(t||Number.POSITIVE_INFINITY,r);for(let f=n.length;++c<f;){if(i=n[c],o=i.subarray(0,Math.min(i.length,u-a)),u<=a+o.length){o.length<i.length?n[c]=i.subarray(o.length):o.length===i.length&&c++,s?Hx(s,o,a):s=o;break}Hx(s||(s=new Uint8Array(u)),o,a),a+=o.length}return[s||new Uint8Array(0),n.slice(c),r-(s?s.byteLength:0)]}function bt(e,t){let n=c2(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=Wc(n)),n instanceof ArrayBuffer?new e(n):n instanceof T8?new e(n):one(n)?bt(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}var rCe=e=>bt(Int8Array,e),iCe=e=>bt(Int16Array,e),kp=e=>bt(Int32Array,e),h2=e=>bt(BigInt64Array,e),qe=e=>bt(Uint8Array,e),oCe=e=>bt(Uint16Array,e),sCe=e=>bt(Uint32Array,e),aCe=e=>bt(BigUint64Array,e),cCe=e=>bt(Float32Array,e),lCe=e=>bt(Float64Array,e),uCe=e=>bt(Uint8ClampedArray,e),E8=e=>(e.next(),e);function*Yc(e,t){let n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof T8?n(t):Sa(t)?t:n(t);return yield*fl(E8(function*(i){let o=null;do o=i.next(yield bt(e,o));while(!o.done)}(r[Symbol.iterator]()))),new e}var fCe=e=>Yc(Int8Array,e),dCe=e=>Yc(Int16Array,e),hCe=e=>Yc(Int32Array,e),C8=e=>Yc(Uint8Array,e),pCe=e=>Yc(Uint16Array,e),mCe=e=>Yc(Uint32Array,e),gCe=e=>Yc(Float32Array,e),yCe=e=>Yc(Float64Array,e),_Ce=e=>Yc(Uint8ClampedArray,e);function Ia(e,t){return Ui(this,arguments,function*(){if(Da(t))return yield et(yield et(yield*fl(Sm(No(Ia(e,yield et(t)))))));let r=function(s){return Ui(this,arguments,function*(){yield yield et(yield et(s))})},i=function(s){return Ui(this,arguments,function*(){yield et(yield*fl(Sm(No(E8(function*(a){let c=null;do c=a.next(yield c?.value);while(!c.done)}(s[Symbol.iterator]()))))))})},o=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof T8?r(t):Sa(t)?i(t):Fs(t)?t:r(t);return yield et(yield*fl(Sm(No(E8(function(s){return Ui(this,arguments,function*(){let a=null;do a=yield et(s.next(yield yield et(bt(e,a))));while(!a.done)})}(o[Symbol.asyncIterator]())))))),yield et(new e)})}var vCe=e=>Ia(Int8Array,e),bCe=e=>Ia(Int16Array,e),xCe=e=>Ia(Int32Array,e),M8=e=>Ia(Uint8Array,e),wCe=e=>Ia(Uint16Array,e),DCe=e=>Ia(Uint32Array,e),SCe=e=>Ia(Float32Array,e),ICe=e=>Ia(Float64Array,e),ECe=e=>Ia(Uint8ClampedArray,e);function p2(e,t,n){if(e!==0){n=n.slice(0,t);for(let r=-1,i=n.length;++r<i;)n[r]+=e}return n.subarray(0,t)}function A8(e,t){let n=0,r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}var _i={fromIterable(e){return m2(TCe(e))},fromAsyncIterable(e){return m2(CCe(e))},fromDOMStream(e){return m2(MCe(e))},fromNodeStream(e){return m2(ACe(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},m2=e=>(e.next(),e);function*TCe(e){let t,n=!1,r=[],i,o,s,a=0;function c(){return o==="peek"?Ko(r,s)[0]:([i,r,a]=Ko(r,s),i)}({cmd:o,size:s}=(yield null)||{cmd:"read",size:0});let u=C8(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(s-a)?u.next():u.next(s-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||s<=a)do({cmd:o,size:s}=yield c());while(s<a);while(!t)}catch(f){(n=!0)&&typeof u.throw=="function"&&u.throw(f)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function CCe(e){return Ui(this,arguments,function*(){let n,r=!1,i=[],o,s,a,c=0;function u(){return s==="peek"?Ko(i,a)[0]:([o,i,c]=Ko(i,a),o)}({cmd:s,size:a}=(yield yield et(null))||{cmd:"read",size:0});let f=M8(e)[Symbol.asyncIterator]();try{do if({done:n,value:o}=Number.isNaN(a-c)?yield et(f.next()):yield et(f.next(a-c)),!n&&o.byteLength>0&&(i.push(o),c+=o.byteLength),n||a<=c)do({cmd:s,size:a}=yield yield et(u()));while(a<c);while(!n)}catch(h){(r=!0)&&typeof f.throw=="function"&&(yield et(f.throw(h)))}finally{r===!1&&typeof f.return=="function"&&(yield et(f.return(new Uint8Array(0))))}return yield et(null)})}function MCe(e){return Ui(this,arguments,function*(){let n=!1,r=!1,i=[],o,s,a,c=0;function u(){return s==="peek"?Ko(i,a)[0]:([o,i,c]=Ko(i,a),o)}({cmd:s,size:a}=(yield yield et(null))||{cmd:"read",size:0});let f=new R8(e);try{do if({done:n,value:o}=Number.isNaN(a-c)?yield et(f.read()):yield et(f.read(a-c)),!n&&o.byteLength>0&&(i.push(qe(o)),c+=o.byteLength),n||a<=c)do({cmd:s,size:a}=yield yield et(u()));while(a<c);while(!n)}catch(h){(r=!0)&&(yield et(f.cancel(h)))}finally{r===!1?yield et(f.cancel()):e.locked&&f.releaseLock()}return yield et(null)})}var R8=class{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return ge(this,void 0,void 0,function*(){let{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return ge(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};let n=yield this.reader.read();return!n.done&&(n.value=qe(n)),n})}},N8=(e,t)=>{let n=i=>r([t,i]),r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function ACe(e){return Ui(this,arguments,function*(){let n=[],r="error",i=!1,o=null,s,a,c=0,u=[],f;function h(){return s==="peek"?Ko(u,a)[0]:([f,u,c]=Ko(u,a),f)}if({cmd:s,size:a}=(yield yield et(null))||{cmd:"read",size:0},e.isTTY)return yield yield et(new Uint8Array(0)),yield et(null);try{n[0]=N8(e,"end"),n[1]=N8(e,"error");do{if(n[2]=N8(e,"readable"),[r,o]=yield et(Promise.race(n.map(m=>m[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-c)?(f=qe(e.read(a-c)),f.byteLength<a-c&&(f=qe(e.read()))):f=qe(e.read()),f.byteLength>0&&(u.push(f),c+=f.byteLength)),i||a<=c)do({cmd:s,size:a}=yield yield et(h()));while(a<c)}while(!i)}finally{yield et(p(n,r==="error"?o:null))}return yield et(null);function p(m,y){return f=u=null,new Promise((v,b)=>{for(let[x,w]of m)e.off(x,w);try{let x=e.destroy;x&&x.call(e,y),y=void 0}catch(x){y=x||y}finally{y!=null?b(y):v()}})}})}var on=function(e){return e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5",e}(on||{});var Sn=function(e){return e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense",e}(Sn||{});var _n=function(e){return e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE",e}(_n||{});var cr=function(e){return e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND",e}(cr||{});var Te=function(e){return e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND",e}(Te||{});var ni=function(e){return e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO",e}(ni||{});var Zc=new Int32Array(2),g2=new Float32Array(Zc.buffer),y2=new Float64Array(Zc.buffer),d0=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var _2=function(e){return e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING",e}(_2||{});var Jo=class e{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new e(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return Zc[0]=this.readInt32(t),g2[0]}readFloat64(t){return Zc[d0?0:1]=this.readInt32(t),Zc[d0?1:0]=this.readInt32(t+4),y2[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){g2[0]=n,this.writeInt32(t,Zc[0])}writeFloat64(t,n){y2[0]=n,this.writeInt32(t,Zc[d0?0:1]),this.writeInt32(t+4,Zc[d0?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<4;n++)t+=String.fromCharCode(this.readInt8(this.position_+4+n));return t}__offset(t,n){let r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);let r=this.readInt32(t);t+=4;let i=this.bytes_.subarray(t,t+r);return n===_2.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=4)throw new Error("FlatBuffers: file identifier must be length "+4);for(let n=0;n<4;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+4+n))return!1;return!0}createScalarList(t,n){let r=[];for(let i=0;i<n;++i){let o=t(i);o!==null&&r.push(o)}return r}createObjList(t,n){let r=[];for(let i=0;i<n;++i){let o=t(i);o!==null&&r.push(o.unpack())}return r}};var Fp=class e{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=Jo.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);let r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){let i=this.bb.capacity();this.bb=e.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){let n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");let r=n<<1,i=Jo.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);let t=this.offset(),n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);let r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);let i=2;this.addInt16(t-this.object_start);let o=(r+i)*2;this.addInt16(o);let s=0,a=this.space;e:for(n=0;n<this.vtables.length;n++){let c=this.bb.capacity()-this.vtables[n];if(o==this.bb.readInt16(c)){for(let u=2;u<o;u+=2)if(this.bb.readInt16(a+u)!=this.bb.readInt16(c+u))continue e;s=this.vtables[n];break}}return s?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,s-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){let i=r?4:0;if(n){let o=n;if(this.prep(this.minalign,8+i),o.length!=4)throw new TypeError("FlatBuffers: file identifier must be length "+4);for(let s=3;s>=0;s--)this.writeInt8(o.charCodeAt(s))}this.prep(this.minalign,4+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){let r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(4,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);let n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;return t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(t){return t==null?0:(this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector())}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){let n=[];for(let r=0;r<t.length;++r){let i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};var b2=function(e){return e[e.BUFFER=0]="BUFFER",e}(b2||{});var x2=function(e){return e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD",e}(x2||{});var w2=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}codec(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):x2.LZ4_FRAME}method(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):b2.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,x2.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,b2.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return e.startBodyCompression(t),e.addCodec(t,n),e.addMethod(t,r),e.endBodyCompression(t)}};var h0=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}};var p0=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}};var es=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}length(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new p0).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new h0).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){let n=this.bb.__offset(this.bb_pos,10);return n?(t||new w2).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}};var Eu=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}id(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new es).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){let t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var Bp=function(e){return e[e.Little=0]="Little",e[e.Big=1]="Big",e}(Bp||{});var D2=function(e){return e[e.DenseArray=0]="DenseArray",e}(D2||{});var Ta=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){let t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return e.startInt(t),e.addBitWidth(t,n),e.addIsSigned(t,r),e.endInt(t)}};var Xc=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}id(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new Ta).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){let t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):D2.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,D2.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}};var Fr=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}key(t){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return e.startKeyValue(t),e.addKey(t,n),e.addValue(t,r),e.endKeyValue(t)}};var Gx=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return e.startBinary(t),e.endBinary(t)}};var qx=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return e.startBool(t),e.endBool(t)}};var Dd=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):cr.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,cr.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return e.startDate(t),e.addUnit(t,n),e.endDate(t)}};var Qc=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}precision(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return e.startDecimal(t),e.addPrecision(t,n),e.addScale(t,r),e.addBitWidth(t,i),e.endDecimal(t)}};var Sd=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Te.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Te.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return e.startDuration(t),e.addUnit(t,n),e.endDuration(t)}};var Id=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return e.startFixedSizeBinary(t),e.addByteWidth(t,n),e.endFixedSizeBinary(t)}};var Ed=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}listSize(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return e.startFixedSizeList(t),e.addListSize(t,n),e.endFixedSizeList(t)}};var Td=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}precision(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_n.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,_n.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return e.startFloatingPoint(t),e.addPrecision(t,n),e.endFloatingPoint(t)}};var Cd=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ni.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,ni.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return e.startInterval(t),e.addUnit(t,n),e.endInterval(t)}};var Wx=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeBinary(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeBinary(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startLargeBinary(t){t.startObject(0)}static endLargeBinary(t){return t.endObject()}static createLargeBinary(t){return e.startLargeBinary(t),e.endLargeBinary(t)}};var Yx=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeUtf8(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeUtf8(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startLargeUtf8(t){t.startObject(0)}static endLargeUtf8(t){return t.endObject()}static createLargeUtf8(t){return e.startLargeUtf8(t),e.endLargeUtf8(t)}};var Zx=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return e.startList(t),e.endList(t)}};var Md=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){let t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return e.startMap(t),e.addKeysSorted(t,n),e.endMap(t)}};var Xx=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return e.startNull(t),e.endNull(t)}};var Qx=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return e.startStruct_(t),e.endStruct_(t)}};var Tu=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Te.MILLISECOND}bitWidth(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Te.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return e.startTime(t),e.addUnit(t,n),e.addBitWidth(t,r),e.endTime(t)}};var Cu=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Te.SECOND}timezone(t){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Te.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return e.startTimestamp(t),e.addUnit(t,n),e.addTimezone(t,r),e.endTimestamp(t)}};var Ca=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}mode(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Sn.Sparse}typeIds(t){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){let t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,Sn.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return e.startUnion(t),e.addMode(t,n),e.addTypeIds(t,r),e.endUnion(t)}};var Kx=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return e.startUtf8(t),e.endUtf8(t)}};var In=function(e){return e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded",e}(In||{});var Fi=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}name(t){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){let t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):In.NONE}type(t){let n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){let n=this.bb.__offset(this.bb_pos,12);return n?(t||new Xc).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){let r=this.bb.__offset(this.bb_pos,14);return r?(n||new e).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){let r=this.bb.__offset(this.bb_pos,16);return r?(n||new Fr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,In.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}};var Eo=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}endianness(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Bp.Little}fields(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new Fi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new Fr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){let n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,Bp.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,o){return e.startSchema(t),e.addEndianness(t,n),e.addFields(t,r),e.addCustomMetadata(t,i),e.addFeatures(t,o),e.endSchema(t)}};var Nt=function(e){return e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor",e}(Nt||{});var j=function(e){return e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond",e}(j||{}),Ma=function(e){return e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE",e}(Ma||{});var J8={};tf(J8,{clampRange:()=>nw,createElementComparator:()=>Rd,wrapIndex:()=>Vp});var P8={};tf(P8,{valueToString:()=>Aa});function Aa(e){if(e===null)return"null";if(e===void 0)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>Aa(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}var B8={};tf(B8,{BN:()=>ew,bigNumToBigInt:()=>ane,bigNumToNumber:()=>F8,bigNumToString:()=>y0,isArrowBigNumSymbol:()=>sne});function jt(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}function L8(e,t){return jt(e/t)+jt(e%t)/jt(t)}var sne=Symbol.for("isArrowBigNum");function Oa(e,...t){return t.length===0?Object.setPrototypeOf(bt(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}Oa.prototype[sne]=!0;Oa.prototype.toJSON=function(){return`"${y0(this)}"`};Oa.prototype.valueOf=function(e){return F8(this,e)};Oa.prototype.toString=function(){return y0(this)};Oa.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return F8(this);case"string":return y0(this);case"default":return ane(this)}return y0(this)};function m0(...e){return Oa.apply(this,e)}function g0(...e){return Oa.apply(this,e)}function Jx(...e){return Oa.apply(this,e)}Object.setPrototypeOf(m0.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(g0.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Jx.prototype,Object.create(Uint32Array.prototype));Object.assign(m0.prototype,Oa.prototype,{constructor:m0,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(g0.prototype,Oa.prototype,{constructor:g0,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(Jx.prototype,Oa.prototype,{constructor:Jx,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});var OCe=BigInt(4294967296)*BigInt(4294967296),NCe=OCe-BigInt(1);function F8(e,t){let{buffer:n,byteOffset:r,byteLength:i,signed:o}=e,s=new BigUint64Array(n,r,i/8),a=o&&s.at(-1)&BigInt(1)<<BigInt(63),c=BigInt(0),u=0;if(a){for(let f of s)c|=(f^NCe)*(BigInt(1)<<BigInt(64*u++));c*=BigInt(-1),c-=BigInt(1)}else for(let f of s)c|=f*(BigInt(1)<<BigInt(64*u++));if(typeof t=="number"){let f=BigInt(Math.pow(10,t)),h=c/f,p=c%f;return jt(h)+jt(p)/jt(f)}return jt(c)}function y0(e){if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return k8(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return k8(e);t=t.slice();let r=1;for(let o=0;o<t.length;o++){let s=t[o],a=~s+r;t[o]=a,r&=s===0?1:0}return`-${k8(t)}`}function ane(e){return e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:y0(e)}function k8(e){let t="",n=new Uint32Array(2),r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer),o=-1,s=r.length-1;do{for(n[0]=r[o=0];o<s;)r[o++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[o];r[o]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}var ew=class e{static new(t,n){switch(n){case!0:return new m0(t);case!1:return new g0(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new m0(t)}return t.byteLength===16?new Jx(t):new g0(t)}static signed(t){return new m0(t)}static unsigned(t){return new g0(t)}static decimal(t){return new Jx(t)}constructor(t,n){return e.new(t,n)}};var cne,lne,une,fne,dne,hne,pne,mne,gne,yne,_ne,vne,bne,xne,wne,Dne,Sne,Ine,Ene,Tne,Cne,Mne,be=class e{static isNull(t){return t?.typeId===j.Null}static isInt(t){return t?.typeId===j.Int}static isFloat(t){return t?.typeId===j.Float}static isBinary(t){return t?.typeId===j.Binary}static isLargeBinary(t){return t?.typeId===j.LargeBinary}static isUtf8(t){return t?.typeId===j.Utf8}static isLargeUtf8(t){return t?.typeId===j.LargeUtf8}static isBool(t){return t?.typeId===j.Bool}static isDecimal(t){return t?.typeId===j.Decimal}static isDate(t){return t?.typeId===j.Date}static isTime(t){return t?.typeId===j.Time}static isTimestamp(t){return t?.typeId===j.Timestamp}static isInterval(t){return t?.typeId===j.Interval}static isDuration(t){return t?.typeId===j.Duration}static isList(t){return t?.typeId===j.List}static isStruct(t){return t?.typeId===j.Struct}static isUnion(t){return t?.typeId===j.Union}static isFixedSizeBinary(t){return t?.typeId===j.FixedSizeBinary}static isFixedSizeList(t){return t?.typeId===j.FixedSizeList}static isMap(t){return t?.typeId===j.Map}static isDictionary(t){return t?.typeId===j.Dictionary}static isDenseUnion(t){return e.isUnion(t)&&t.mode===Sn.Dense}static isSparseUnion(t){return e.isUnion(t)&&t.mode===Sn.Sparse}constructor(t){this.typeId=t}};cne=Symbol.toStringTag;be[cne]=(e=>(e.children=null,e.ArrayType=Array,e.OffsetArrayType=Int32Array,e[Symbol.toStringTag]="DataType"))(be.prototype);var ao=class extends be{constructor(){super(j.Null)}toString(){return"Null"}};lne=Symbol.toStringTag;ao[lne]=(e=>e[Symbol.toStringTag]="Null")(ao.prototype);var Br=class extends be{constructor(t,n){super(j.Int),this.isSigned=t,this.bitWidth=n}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};une=Symbol.toStringTag;Br[une]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(Br.prototype);var S2=class extends Br{constructor(){super(!0,8)}get ArrayType(){return Int8Array}},I2=class extends Br{constructor(){super(!0,16)}get ArrayType(){return Int16Array}},Kc=class extends Br{constructor(){super(!0,32)}get ArrayType(){return Int32Array}},E2=class extends Br{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}},T2=class extends Br{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}},C2=class extends Br{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}},M2=class extends Br{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}},A2=class extends Br{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}};Object.defineProperty(S2.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(I2.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Kc.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(E2.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(T2.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(C2.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(M2.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(A2.prototype,"ArrayType",{value:BigUint64Array});var Vs=class extends be{constructor(t){super(j.Float),this.precision=t}get ArrayType(){switch(this.precision){case _n.HALF:return Uint16Array;case _n.SINGLE:return Float32Array;case _n.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};fne=Symbol.toStringTag;Vs[fne]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(Vs.prototype);var O2=class extends Vs{constructor(){super(_n.HALF)}},N2=class extends Vs{constructor(){super(_n.SINGLE)}},R2=class extends Vs{constructor(){super(_n.DOUBLE)}};Object.defineProperty(O2.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(N2.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(R2.prototype,"ArrayType",{value:Float64Array});var Mu=class extends be{constructor(){super(j.Binary)}toString(){return"Binary"}};dne=Symbol.toStringTag;Mu[dne]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(Mu.prototype);var Au=class extends be{constructor(){super(j.LargeBinary)}toString(){return"LargeBinary"}};hne=Symbol.toStringTag;Au[hne]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeBinary"))(Au.prototype);var Ou=class extends be{constructor(){super(j.Utf8)}toString(){return"Utf8"}};pne=Symbol.toStringTag;Ou[pne]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(Ou.prototype);var Nu=class extends be{constructor(){super(j.LargeUtf8)}toString(){return"LargeUtf8"}};mne=Symbol.toStringTag;Nu[mne]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeUtf8"))(Nu.prototype);var Ru=class extends be{constructor(){super(j.Bool)}toString(){return"Bool"}};gne=Symbol.toStringTag;Ru[gne]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(Ru.prototype);var Pu=class extends be{constructor(t,n,r=128){super(j.Decimal),this.scale=t,this.precision=n,this.bitWidth=r}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};yne=Symbol.toStringTag;Pu[yne]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(Pu.prototype);var Lu=class extends be{constructor(t){super(j.Date),this.unit=t}toString(){return`Date${(this.unit+1)*32}<${cr[this.unit]}>`}get ArrayType(){return this.unit===cr.DAY?Int32Array:BigInt64Array}};_ne=Symbol.toStringTag;Lu[_ne]=(e=>(e.unit=null,e[Symbol.toStringTag]="Date"))(Lu.prototype);var ku=class extends be{constructor(t,n){super(j.Time),this.unit=t,this.bitWidth=n}toString(){return`Time${this.bitWidth}<${Te[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}};vne=Symbol.toStringTag;ku[vne]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(ku.prototype);var Fu=class extends be{constructor(t,n){super(j.Timestamp),this.unit=t,this.timezone=n}toString(){return`Timestamp<${Te[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};bne=Symbol.toStringTag;Fu[bne]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Timestamp"))(Fu.prototype);var Bu=class extends be{constructor(t){super(j.Interval),this.unit=t}toString(){return`Interval<${ni[this.unit]}>`}};xne=Symbol.toStringTag;Bu[xne]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(Bu.prototype);var Vu=class extends be{constructor(t){super(j.Duration),this.unit=t}toString(){return`Duration<${Te[this.unit]}>`}};wne=Symbol.toStringTag;Vu[wne]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(Vu.prototype);var Na=class extends be{constructor(t){super(j.List),this.children=[t]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};Dne=Symbol.toStringTag;Na[Dne]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(Na.prototype);var Cn=class extends be{constructor(t){super(j.Struct),this.children=t}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}};Sne=Symbol.toStringTag;Cn[Sne]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Cn.prototype);var Ra=class extends be{constructor(t,n,r){super(j.Union),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,o,s)=>(i[o]=s)&&i||i,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}};Ine=Symbol.toStringTag;Ra[Ine]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(Ra.prototype);var Uu=class extends be{constructor(t){super(j.FixedSizeBinary),this.byteWidth=t}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};Ene=Symbol.toStringTag;Uu[Ene]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(Uu.prototype);var Pa=class extends be{constructor(t,n){super(j.FixedSizeList),this.listSize=t,this.children=[n]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Tne=Symbol.toStringTag;Pa[Tne]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(Pa.prototype);var La=class extends be{constructor(t,n=!1){var r,i,o;if(super(j.Map),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((r=t?.type)===null||r===void 0)&&r.children)){let s=(i=t?.type)===null||i===void 0?void 0:i.children[0];s&&(s.name="key");let a=(o=t?.type)===null||o===void 0?void 0:o.children[1];a&&(a.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}};Cne=Symbol.toStringTag;La[Cne]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(La.prototype);var RCe=(e=>()=>++e)(-1),ts=class extends be{constructor(t,n,r,i){super(j.Dictionary),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?RCe():jt(r)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};Mne=Symbol.toStringTag;ts[Mne]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(ts.prototype);function ns(e){let t=e;switch(e.typeId){case j.Decimal:return e.bitWidth/32;case j.Interval:return 1+t.unit;case j.FixedSizeList:return t.listSize;case j.FixedSizeBinary:return t.byteWidth;default:return 1}}var Fe=class{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(o=>o[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return PCe(this,t,n)}getVisitFnByTypeId(t,n=!0){return _0(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitLargeUtf8(t,...n){return null}visitBinary(t,...n){return null}visitLargeBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}};function PCe(e,t,n=!0){return typeof t=="number"?_0(e,t,n):typeof t=="string"&&t in j?_0(e,j[t],n):t&&t instanceof be?_0(e,Ane(t),n):t?.type&&t.type instanceof be?_0(e,Ane(t.type),n):_0(e,j.NONE,n)}function _0(e,t,n=!0){let r=null;switch(t){case j.Null:r=e.visitNull;break;case j.Bool:r=e.visitBool;break;case j.Int:r=e.visitInt;break;case j.Int8:r=e.visitInt8||e.visitInt;break;case j.Int16:r=e.visitInt16||e.visitInt;break;case j.Int32:r=e.visitInt32||e.visitInt;break;case j.Int64:r=e.visitInt64||e.visitInt;break;case j.Uint8:r=e.visitUint8||e.visitInt;break;case j.Uint16:r=e.visitUint16||e.visitInt;break;case j.Uint32:r=e.visitUint32||e.visitInt;break;case j.Uint64:r=e.visitUint64||e.visitInt;break;case j.Float:r=e.visitFloat;break;case j.Float16:r=e.visitFloat16||e.visitFloat;break;case j.Float32:r=e.visitFloat32||e.visitFloat;break;case j.Float64:r=e.visitFloat64||e.visitFloat;break;case j.Utf8:r=e.visitUtf8;break;case j.LargeUtf8:r=e.visitLargeUtf8;break;case j.Binary:r=e.visitBinary;break;case j.LargeBinary:r=e.visitLargeBinary;break;case j.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case j.Date:r=e.visitDate;break;case j.DateDay:r=e.visitDateDay||e.visitDate;break;case j.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case j.Timestamp:r=e.visitTimestamp;break;case j.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case j.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case j.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case j.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case j.Time:r=e.visitTime;break;case j.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case j.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case j.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case j.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case j.Decimal:r=e.visitDecimal;break;case j.List:r=e.visitList;break;case j.Struct:r=e.visitStruct;break;case j.Union:r=e.visitUnion;break;case j.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case j.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case j.Dictionary:r=e.visitDictionary;break;case j.Interval:r=e.visitInterval;break;case j.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case j.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case j.Duration:r=e.visitDuration;break;case j.DurationSecond:r=e.visitDurationSecond||e.visitDuration;break;case j.DurationMillisecond:r=e.visitDurationMillisecond||e.visitDuration;break;case j.DurationMicrosecond:r=e.visitDurationMicrosecond||e.visitDuration;break;case j.DurationNanosecond:r=e.visitDurationNanosecond||e.visitDuration;break;case j.FixedSizeList:r=e.visitFixedSizeList;break;case j.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${j[t]}'`)}function Ane(e){switch(e.typeId){case j.Null:return j.Null;case j.Int:{let{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?j.Int8:j.Uint8;case 16:return n?j.Int16:j.Uint16;case 32:return n?j.Int32:j.Uint32;case 64:return n?j.Int64:j.Uint64}return j.Int}case j.Float:switch(e.precision){case _n.HALF:return j.Float16;case _n.SINGLE:return j.Float32;case _n.DOUBLE:return j.Float64}return j.Float;case j.Binary:return j.Binary;case j.LargeBinary:return j.LargeBinary;case j.Utf8:return j.Utf8;case j.LargeUtf8:return j.LargeUtf8;case j.Bool:return j.Bool;case j.Decimal:return j.Decimal;case j.Time:switch(e.unit){case Te.SECOND:return j.TimeSecond;case Te.MILLISECOND:return j.TimeMillisecond;case Te.MICROSECOND:return j.TimeMicrosecond;case Te.NANOSECOND:return j.TimeNanosecond}return j.Time;case j.Timestamp:switch(e.unit){case Te.SECOND:return j.TimestampSecond;case Te.MILLISECOND:return j.TimestampMillisecond;case Te.MICROSECOND:return j.TimestampMicrosecond;case Te.NANOSECOND:return j.TimestampNanosecond}return j.Timestamp;case j.Date:switch(e.unit){case cr.DAY:return j.DateDay;case cr.MILLISECOND:return j.DateMillisecond}return j.Date;case j.Interval:switch(e.unit){case ni.DAY_TIME:return j.IntervalDayTime;case ni.YEAR_MONTH:return j.IntervalYearMonth}return j.Interval;case j.Duration:switch(e.unit){case Te.SECOND:return j.DurationSecond;case Te.MILLISECOND:return j.DurationMillisecond;case Te.MICROSECOND:return j.DurationMicrosecond;case Te.NANOSECOND:return j.DurationNanosecond}return j.Duration;case j.Map:return j.Map;case j.List:return j.List;case j.Struct:return j.Struct;case j.Union:switch(e.mode){case Sn.Dense:return j.DenseUnion;case Sn.Sparse:return j.SparseUnion}return j.Union;case j.FixedSizeBinary:return j.FixedSizeBinary;case j.FixedSizeList:return j.FixedSizeList;case j.Dictionary:return j.Dictionary}throw new Error(`Unrecognized type '${j[e.typeId]}'`)}Fe.prototype.visitInt8=null;Fe.prototype.visitInt16=null;Fe.prototype.visitInt32=null;Fe.prototype.visitInt64=null;Fe.prototype.visitUint8=null;Fe.prototype.visitUint16=null;Fe.prototype.visitUint32=null;Fe.prototype.visitUint64=null;Fe.prototype.visitFloat16=null;Fe.prototype.visitFloat32=null;Fe.prototype.visitFloat64=null;Fe.prototype.visitDateDay=null;Fe.prototype.visitDateMillisecond=null;Fe.prototype.visitTimestampSecond=null;Fe.prototype.visitTimestampMillisecond=null;Fe.prototype.visitTimestampMicrosecond=null;Fe.prototype.visitTimestampNanosecond=null;Fe.prototype.visitTimeSecond=null;Fe.prototype.visitTimeMillisecond=null;Fe.prototype.visitTimeMicrosecond=null;Fe.prototype.visitTimeNanosecond=null;Fe.prototype.visitDenseUnion=null;Fe.prototype.visitSparseUnion=null;Fe.prototype.visitIntervalDayTime=null;Fe.prototype.visitIntervalYearMonth=null;Fe.prototype.visitDuration=null;Fe.prototype.visitDurationSecond=null;Fe.prototype.visitDurationMillisecond=null;Fe.prototype.visitDurationMicrosecond=null;Fe.prototype.visitDurationNanosecond=null;var V8={};tf(V8,{float64ToUint16:()=>tw,uint16ToFloat64:()=>P2});var One=new Float64Array(1),v0=new Uint32Array(One.buffer);function P2(e){let t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function tw(e){if(e!==e)return 32256;One[0]=e;let t=(v0[1]&2147483648)>>16&65535,n=v0[1]&2146435072,r=0;return n>=1089470464?v0[0]>0?n=31744:(n=(n&2080374784)>>16,r=(v0[1]&1048575)>>10):n<=1056964608?(r=1048576+(v0[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(v0[1]&1048575)+512>>10),t|n|r&65535}var He=class extends Fe{};function Ke(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}var LCe=(e,t,n)=>{e[t]=Math.floor(n/864e5)},Nne=(e,t,n,r)=>{if(n+1<t.length){let i=jt(t[n]),o=jt(t[n+1]);e.set(r.subarray(0,o-i),i)}},kCe=({offset:e,values:t},n,r)=>{let i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},ju=({values:e},t,n)=>{e[t]=n},U8=({values:e},t,n)=>{e[t]=n},Rne=({values:e},t,n)=>{e[t]=tw(n)},FCe=(e,t,n)=>{switch(e.type.precision){case _n.HALF:return Rne(e,t,n);case _n.SINGLE:case _n.DOUBLE:return U8(e,t,n)}},L2=({values:e},t,n)=>{LCe(e,t,n.valueOf())},k2=({values:e},t,n)=>{e[t]=BigInt(n)},j8=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},Pne=({values:e,valueOffsets:t},n,r)=>Nne(e,t,n,r),Lne=({values:e,valueOffsets:t},n,r)=>Nne(e,t,n,Wc(r)),$8=(e,t,n)=>{e.type.unit===cr.DAY?L2(e,t,n):k2(e,t,n)},F2=({values:e},t,n)=>{e[t]=BigInt(n/1e3)},B2=({values:e},t,n)=>{e[t]=BigInt(n)},V2=({values:e},t,n)=>{e[t]=BigInt(n*1e3)},U2=({values:e},t,n)=>{e[t]=BigInt(n*1e6)},z8=(e,t,n)=>{switch(e.type.unit){case Te.SECOND:return F2(e,t,n);case Te.MILLISECOND:return B2(e,t,n);case Te.MICROSECOND:return V2(e,t,n);case Te.NANOSECOND:return U2(e,t,n)}},j2=({values:e},t,n)=>{e[t]=n},$2=({values:e},t,n)=>{e[t]=n},z2=({values:e},t,n)=>{e[t]=n},H2=({values:e},t,n)=>{e[t]=n},H8=(e,t,n)=>{switch(e.type.unit){case Te.SECOND:return j2(e,t,n);case Te.MILLISECOND:return $2(e,t,n);case Te.MICROSECOND:return z2(e,t,n);case Te.NANOSECOND:return H2(e,t,n)}},G8=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},BCe=(e,t,n)=>{let r=e.children[0],i=e.valueOffsets,o=vi.getVisitFn(r);if(Array.isArray(n))for(let s=-1,a=i[t],c=i[t+1];a<c;)o(r,a++,n[++s]);else for(let s=-1,a=i[t],c=i[t+1];a<c;)o(r,a++,n.get(++s))},VCe=(e,t,n)=>{let r=e.children[0],{valueOffsets:i}=e,o=vi.getVisitFn(r),{[t]:s,[t+1]:a}=i,c=n instanceof Map?n.entries():Object.entries(n);for(let u of c)if(o(r,s,u),++s>=a)break},UCe=(e,t)=>(n,r,i,o)=>r&&n(r,e,t[o]),jCe=(e,t)=>(n,r,i,o)=>r&&n(r,e,t.get(o)),$Ce=(e,t)=>(n,r,i,o)=>r&&n(r,e,t.get(i.name)),zCe=(e,t)=>(n,r,i,o)=>r&&n(r,e,t[i.name]),HCe=(e,t,n)=>{let r=e.type.children.map(o=>vi.getVisitFn(o.type)),i=n instanceof Map?$Ce(t,n):n instanceof Rt?jCe(t,n):Array.isArray(n)?UCe(t,n):zCe(t,n);e.type.children.forEach((o,s)=>i(r[s],e.children[s],o,s))},GCe=(e,t,n)=>{e.type.mode===Sn.Dense?kne(e,t,n):Fne(e,t,n)},kne=(e,t,n)=>{let r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];vi.visit(i,e.valueOffsets[t],n)},Fne=(e,t,n)=>{let r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];vi.visit(i,t,n)},qCe=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},q8=(e,t,n)=>{e.type.unit===ni.DAY_TIME?G2(e,t,n):q2(e,t,n)},G2=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},q2=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},W2=({values:e},t,n)=>{e[t]=n},Y2=({values:e},t,n)=>{e[t]=n},Z2=({values:e},t,n)=>{e[t]=n},X2=({values:e},t,n)=>{e[t]=n},W8=(e,t,n)=>{switch(e.type.unit){case Te.SECOND:return W2(e,t,n);case Te.MILLISECOND:return Y2(e,t,n);case Te.MICROSECOND:return Z2(e,t,n);case Te.NANOSECOND:return X2(e,t,n)}},WCe=(e,t,n)=>{let{stride:r}=e,i=e.children[0],o=vi.getVisitFn(i);if(Array.isArray(n))for(let s=-1,a=t*r;++s<r;)o(i,a+s,n[s]);else for(let s=-1,a=t*r;++s<r;)o(i,a+s,n.get(s))};He.prototype.visitBool=Ke(kCe);He.prototype.visitInt=Ke(ju);He.prototype.visitInt8=Ke(ju);He.prototype.visitInt16=Ke(ju);He.prototype.visitInt32=Ke(ju);He.prototype.visitInt64=Ke(ju);He.prototype.visitUint8=Ke(ju);He.prototype.visitUint16=Ke(ju);He.prototype.visitUint32=Ke(ju);He.prototype.visitUint64=Ke(ju);He.prototype.visitFloat=Ke(FCe);He.prototype.visitFloat16=Ke(Rne);He.prototype.visitFloat32=Ke(U8);He.prototype.visitFloat64=Ke(U8);He.prototype.visitUtf8=Ke(Lne);He.prototype.visitLargeUtf8=Ke(Lne);He.prototype.visitBinary=Ke(Pne);He.prototype.visitLargeBinary=Ke(Pne);He.prototype.visitFixedSizeBinary=Ke(j8);He.prototype.visitDate=Ke($8);He.prototype.visitDateDay=Ke(L2);He.prototype.visitDateMillisecond=Ke(k2);He.prototype.visitTimestamp=Ke(z8);He.prototype.visitTimestampSecond=Ke(F2);He.prototype.visitTimestampMillisecond=Ke(B2);He.prototype.visitTimestampMicrosecond=Ke(V2);He.prototype.visitTimestampNanosecond=Ke(U2);He.prototype.visitTime=Ke(H8);He.prototype.visitTimeSecond=Ke(j2);He.prototype.visitTimeMillisecond=Ke($2);He.prototype.visitTimeMicrosecond=Ke(z2);He.prototype.visitTimeNanosecond=Ke(H2);He.prototype.visitDecimal=Ke(G8);He.prototype.visitList=Ke(BCe);He.prototype.visitStruct=Ke(HCe);He.prototype.visitUnion=Ke(GCe);He.prototype.visitDenseUnion=Ke(kne);He.prototype.visitSparseUnion=Ke(Fne);He.prototype.visitDictionary=Ke(qCe);He.prototype.visitInterval=Ke(q8);He.prototype.visitIntervalDayTime=Ke(G2);He.prototype.visitIntervalYearMonth=Ke(q2);He.prototype.visitDuration=Ke(W8);He.prototype.visitDurationSecond=Ke(W2);He.prototype.visitDurationMillisecond=Ke(Y2);He.prototype.visitDurationMicrosecond=Ke(Z2);He.prototype.visitDurationNanosecond=Ke(X2);He.prototype.visitFixedSizeList=Ke(WCe);He.prototype.visitMap=Ke(VCe);var vi=new He;var ka=Symbol.for("parent"),b0=Symbol.for("rowIndex"),Ad=class{constructor(t,n){return this[ka]=t,this[b0]=n,new Proxy(this,new Z8)}toArray(){return Object.values(this.toJSON())}toJSON(){let t=this[b0],n=this[ka],r=n.type.children,i={};for(let o=-1,s=r.length;++o<s;)i[r[o].name]=Sr.visit(n.children[o],t);return i}toString(){return`{${[...this].map(([t,n])=>`${Aa(t)}: ${Aa(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Y8(this[ka],this[b0])}},Y8=class{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Sr.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}};Object.defineProperties(Ad.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ka]:{writable:!0,enumerable:!1,configurable:!1,value:null},[b0]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});var Z8=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ka].type.children.map(n=>n.name)}has(t,n){return t[ka].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[ka].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];let r=t[ka].type.children.findIndex(i=>i.name===n);if(r!==-1){let i=Sr.visit(t[ka].children[r],t[b0]);return Reflect.set(t,n,i),i}}set(t,n,r){let i=t[ka].type.children.findIndex(o=>o.name===n);return i!==-1?(vi.visit(t[ka].children[i],t[b0],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}};var Be=class extends Fe{};function Ye(e){return(t,n)=>t.getValid(n)?e(t,n):null}var YCe=(e,t)=>864e5*e[t],ZCe=(e,t)=>null,Bne=(e,t,n)=>{if(n+1>=t.length)return null;let r=jt(t[n]),i=jt(t[n+1]);return e.subarray(r,i)},XCe=({offset:e,values:t},n)=>{let r=e+n;return(t[r>>3]&1<<r%8)!==0},Vne=({values:e},t)=>YCe(e,t),Une=({values:e},t)=>jt(e[t]),Od=({stride:e,values:t},n)=>t[e*n],QCe=({stride:e,values:t},n)=>P2(t[e*n]),jne=({values:e},t)=>e[t],KCe=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),$ne=({values:e,valueOffsets:t},n)=>Bne(e,t,n),zne=({values:e,valueOffsets:t},n)=>{let r=Bne(e,t,n);return r!==null?$x(r):null},JCe=({values:e},t)=>e[t],eMe=({type:e,values:t},n)=>e.precision!==_n.HALF?t[n]:P2(t[n]),tMe=(e,t)=>e.type.unit===cr.DAY?Vne(e,t):Une(e,t),Hne=({values:e},t)=>1e3*jt(e[t]),Gne=({values:e},t)=>jt(e[t]),qne=({values:e},t)=>L8(e[t],BigInt(1e3)),Wne=({values:e},t)=>L8(e[t],BigInt(1e6)),nMe=(e,t)=>{switch(e.type.unit){case Te.SECOND:return Hne(e,t);case Te.MILLISECOND:return Gne(e,t);case Te.MICROSECOND:return qne(e,t);case Te.NANOSECOND:return Wne(e,t)}},Yne=({values:e},t)=>e[t],Zne=({values:e},t)=>e[t],Xne=({values:e},t)=>e[t],Qne=({values:e},t)=>e[t],rMe=(e,t)=>{switch(e.type.unit){case Te.SECOND:return Yne(e,t);case Te.MILLISECOND:return Zne(e,t);case Te.MICROSECOND:return Xne(e,t);case Te.NANOSECOND:return Qne(e,t)}},iMe=({values:e,stride:t},n)=>ew.decimal(e.subarray(t*n,t*(n+1))),oMe=(e,t)=>{let{valueOffsets:n,stride:r,children:i}=e,{[t*r]:o,[t*r+1]:s}=n,c=i[0].slice(o,s-o);return new Rt([c])},sMe=(e,t)=>{let{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:o}=n,s=r[0];return new Jc(s.slice(i,o-i))},aMe=(e,t)=>new Ad(e,t),cMe=(e,t)=>e.type.mode===Sn.Dense?Kne(e,t):Jne(e,t),Kne=(e,t)=>{let n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Sr.visit(r,e.valueOffsets[t])},Jne=(e,t)=>{let n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Sr.visit(r,t)},lMe=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},uMe=(e,t)=>e.type.unit===ni.DAY_TIME?ere(e,t):tre(e,t),ere=({values:e},t)=>e.subarray(2*t,2*(t+1)),tre=({values:e},t)=>{let n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},nre=({values:e},t)=>e[t],rre=({values:e},t)=>e[t],ire=({values:e},t)=>e[t],ore=({values:e},t)=>e[t],fMe=(e,t)=>{switch(e.type.unit){case Te.SECOND:return nre(e,t);case Te.MILLISECOND:return rre(e,t);case Te.MICROSECOND:return ire(e,t);case Te.NANOSECOND:return ore(e,t)}},dMe=(e,t)=>{let{stride:n,children:r}=e,o=r[0].slice(t*n,n);return new Rt([o])};Be.prototype.visitNull=Ye(ZCe);Be.prototype.visitBool=Ye(XCe);Be.prototype.visitInt=Ye(JCe);Be.prototype.visitInt8=Ye(Od);Be.prototype.visitInt16=Ye(Od);Be.prototype.visitInt32=Ye(Od);Be.prototype.visitInt64=Ye(jne);Be.prototype.visitUint8=Ye(Od);Be.prototype.visitUint16=Ye(Od);Be.prototype.visitUint32=Ye(Od);Be.prototype.visitUint64=Ye(jne);Be.prototype.visitFloat=Ye(eMe);Be.prototype.visitFloat16=Ye(QCe);Be.prototype.visitFloat32=Ye(Od);Be.prototype.visitFloat64=Ye(Od);Be.prototype.visitUtf8=Ye(zne);Be.prototype.visitLargeUtf8=Ye(zne);Be.prototype.visitBinary=Ye($ne);Be.prototype.visitLargeBinary=Ye($ne);Be.prototype.visitFixedSizeBinary=Ye(KCe);Be.prototype.visitDate=Ye(tMe);Be.prototype.visitDateDay=Ye(Vne);Be.prototype.visitDateMillisecond=Ye(Une);Be.prototype.visitTimestamp=Ye(nMe);Be.prototype.visitTimestampSecond=Ye(Hne);Be.prototype.visitTimestampMillisecond=Ye(Gne);Be.prototype.visitTimestampMicrosecond=Ye(qne);Be.prototype.visitTimestampNanosecond=Ye(Wne);Be.prototype.visitTime=Ye(rMe);Be.prototype.visitTimeSecond=Ye(Yne);Be.prototype.visitTimeMillisecond=Ye(Zne);Be.prototype.visitTimeMicrosecond=Ye(Xne);Be.prototype.visitTimeNanosecond=Ye(Qne);Be.prototype.visitDecimal=Ye(iMe);Be.prototype.visitList=Ye(oMe);Be.prototype.visitStruct=Ye(aMe);Be.prototype.visitUnion=Ye(cMe);Be.prototype.visitDenseUnion=Ye(Kne);Be.prototype.visitSparseUnion=Ye(Jne);Be.prototype.visitDictionary=Ye(lMe);Be.prototype.visitInterval=Ye(uMe);Be.prototype.visitIntervalDayTime=Ye(ere);Be.prototype.visitIntervalYearMonth=Ye(tre);Be.prototype.visitDuration=Ye(fMe);Be.prototype.visitDurationSecond=Ye(nre);Be.prototype.visitDurationMillisecond=Ye(rre);Be.prototype.visitDurationMicrosecond=Ye(ire);Be.prototype.visitDurationNanosecond=Ye(ore);Be.prototype.visitFixedSizeList=Ye(dMe);Be.prototype.visitMap=Ye(sMe);var Sr=new Be;var Nd=Symbol.for("keys"),w0=Symbol.for("vals"),x0=Symbol.for("kKeysAsStrings"),X8=Symbol.for("_kKeysAsStrings"),Jc=class{constructor(t){return this[Nd]=new Rt([t.children[0]]).memoize(),this[w0]=t.children[1],new Proxy(this,new K8)}get[x0](){return this[X8]||(this[X8]=Array.from(this[Nd].toArray(),String))}[Symbol.iterator](){return new Q8(this[Nd],this[w0])}get size(){return this[Nd].length}toArray(){return Object.values(this.toJSON())}toJSON(){let t=this[Nd],n=this[w0],r={};for(let i=-1,o=t.length;++i<o;)r[t.get(i)]=Sr.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${Aa(t)}: ${Aa(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}},Q8=class{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){let t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Sr.visit(this.vals,t)]})}},K8=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[x0]}has(t,n){return t[x0].includes(n)}getOwnPropertyDescriptor(t,n){if(t[x0].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];let r=t[x0].indexOf(n);if(r!==-1){let i=Sr.visit(Reflect.get(t,w0),r);return Reflect.set(t,n,i),i}}set(t,n,r){let i=t[x0].indexOf(n);return i!==-1?(vi.visit(Reflect.get(t,w0),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}};Object.defineProperties(Jc.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Nd]:{writable:!0,enumerable:!1,configurable:!1,value:null},[w0]:{writable:!0,enumerable:!1,configurable:!1,value:null},[X8]:{writable:!0,enumerable:!1,configurable:!1,value:null}});var sre;function nw(e,t,n,r){let{length:i=0}=e,o=typeof t!="number"?0:t,s=typeof n!="number"?i:n;return o<0&&(o=(o%i+i)%i),s<0&&(s=(s%i+i)%i),s<o&&(sre=o,o=s,s=sre),s>i&&(s=i),r?r(e,o,s):[o,s]}var Vp=(e,t)=>e<0?t+e:e,are=e=>e!==e;function Rd(e){if(typeof e!=="object"||e===null)return are(e)?are:n=>n===e;if(e instanceof Date){let n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?A8(e,n):!1:e instanceof Map?pMe(e):Array.isArray(e)?hMe(e):e instanceof Rt?mMe(e):gMe(e,!0)}function hMe(e){let t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Rd(e[n]);return Q2(t)}function pMe(e){let t=-1,n=[];for(let r of e.values())n[++t]=Rd(r);return Q2(n)}function mMe(e){let t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Rd(e.get(n));return Q2(t)}function gMe(e,t=!1){let n=Object.keys(e);if(!t&&n.length===0)return()=>!1;let r=[];for(let i=-1,o=n.length;++i<o;)r[i]=Rd(e[n[i]]);return Q2(r,n)}function Q2(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return yMe(e,n);case Map:return cre(e,n,n.keys());case Jc:case Ad:case Object:case void 0:return cre(e,n,t||Object.keys(n))}return n instanceof Rt?_Me(e,n):!1}}function yMe(e,t){let n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function _Me(e,t){let n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function cre(e,t,n){let r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),o=t instanceof Map?t.values():Object.values(t)[Symbol.iterator](),s=0,a=e.length,c=o.next(),u=r.next(),f=i.next();for(;s<a&&!u.done&&!f.done&&!c.done&&!(u.value!==f.value||!e[s](c.value));++s,u=r.next(),f=i.next(),c=o.next());return s===a&&u.done&&f.done&&c.done?!0:(r.return&&r.return(),i.return&&i.return(),o.return&&o.return(),!1)}var e5={};tf(e5,{BitIterator:()=>Up,getBit:()=>lre,getBool:()=>J2,packBools:()=>$p,popcnt_array:()=>ure,popcnt_bit_range:()=>rw,popcnt_uint32:()=>K2,setBool:()=>vMe,truncateBitmap:()=>jp});function J2(e,t,n,r){return(n&1<<r)!==0}function lre(e,t,n,r){return(n&1<<r)>>r}function vMe(e,t,n){return n?!!(e[t>>3]|=1<<t%8)||!0:!(e[t>>3]&=~(1<<t%8))&&!1}function jp(e,t,n){let r=n.byteLength+7&-8;if(e>0||n.byteLength<r){let i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):$p(new Up(n,e,t,null,J2)).subarray(0,r)),i}return n}function $p(e){let t=[],n=0,r=0,i=0;for(let s of e)s&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);let o=new Uint8Array(t.length+7&-8);return o.set(t),o}var Up=class{constructor(t,n,r,i,o){this.bytes=t,this.length=r,this.context=i,this.get=o,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};function rw(e,t,n){if(n-t<=0)return 0;if(n-t<8){let o=0;for(let s of new Up(e,t,n-t,e,lre))o+=s;return o}let r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return rw(e,t,i)+rw(e,r,n)+ure(e,i>>3,r-i>>3)}function ure(e,t,n){let r=0,i=Math.trunc(t),o=new DataView(e.buffer,e.byteOffset,e.byteLength),s=n===void 0?e.byteLength:i+n;for(;s-i>=4;)r+=K2(o.getUint32(i)),i+=4;for(;s-i>=2;)r+=K2(o.getUint16(i)),i+=2;for(;s-i>=1;)r+=K2(o.getUint8(i)),i+=1;return r}function K2(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}var bMe=-1,Xt=class e{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){let{type:t}=this;return be.isSparseUnion(t)?this.children.some(n=>n.nullable):be.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0,{valueOffsets:n,values:r,nullBitmap:i,typeIds:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),o&&(t+=o.byteLength),this.children.reduce((s,a)=>s+a.byteLength,t)}get nullCount(){if(be.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let t=this._nullCount,n;return t<=bMe&&(n=this.nullBitmap)&&(this._nullCount=t=n.length===0?0:this.length-rw(n,this.offset,this.offset+this.length)),t}constructor(t,n,r,i,o,s=[],a){this.type=t,this.children=s,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let c;o instanceof e?(this.stride=o.stride,this.values=o.values,this.typeIds=o.typeIds,this.nullBitmap=o.nullBitmap,this.valueOffsets=o.valueOffsets):(this.stride=ns(t),o&&((c=o[0])&&(this.valueOffsets=c),(c=o[1])&&(this.values=c),(c=o[2])&&(this.nullBitmap=c),(c=o[3])&&(this.typeIds=c)))}getValid(t){let{type:n}=this;if(be.isUnion(n)){let r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[t]]],o=r.mode===Sn.Dense?this.valueOffsets[t]:t;return i.getValid(o)}if(this.nullable&&this.nullCount>0){let r=this.offset+t;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(t,n){let r,{type:i}=this;if(be.isUnion(i)){let o=i,s=this.children[o.typeIdToChildIndex[this.typeIds[t]]],a=o.mode===Sn.Dense?this.valueOffsets[t]:t;r=s.getValid(a),s.setValid(a,n)}else{let{nullBitmap:o}=this,{offset:s,length:a}=this,c=s+t,u=1<<c%8,f=c>>3;(!o||o.byteLength<=f)&&(o=new Uint8Array((s+a+63&-64)>>3).fill(255),this.nullCount>0?(o.set(jp(s,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:o})):Object.assign(this,{nullBitmap:o,_nullCount:0}));let h=o[f];r=(h&u)!==0,o[f]=n?h|u:h&~u}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,o=this,s=this.children){return new e(t,n,r,i,o,s,this.dictionary)}slice(t,n){let{stride:r,typeId:i,children:o}=this,s=+(this._nullCount===0)-1,a=i===16?r:1,c=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,s,c,o.length===0||this.valueOffsets?o:this._sliceChildren(o,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===j.Null)return this.clone(this.type,0,t,0);let{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(jp(this.offset,n,this.nullBitmap),0);let o=this.buffers;return o[Ma.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),o)}_sliceBuffers(t,n,r,i){let o,{buffers:s}=this;return(o=s[Ma.TYPE])&&(s[Ma.TYPE]=o.subarray(t,t+n)),(o=s[Ma.OFFSET])&&(s[Ma.OFFSET]=o.subarray(t,t+n+1))||(o=s[Ma.DATA])&&(s[Ma.DATA]=i===6?o:o.subarray(r*t,r*(t+n))),s}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}};Xt.prototype.children=Object.freeze([]);var t5=class e extends Fe{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){let{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Xt(n,r,i,i)}visitBool(t){let{["type"]:n,["offset"]:r=0}=t,i=qe(t.nullBitmap),o=bt(n.ArrayType,t.data),{["length"]:s=o.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Xt(n,r,s,a,[void 0,o,i])}visitInt(t){let{["type"]:n,["offset"]:r=0}=t,i=qe(t.nullBitmap),o=bt(n.ArrayType,t.data),{["length"]:s=o.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Xt(n,r,s,a,[void 0,o,i])}visitFloat(t){let{["type"]:n,["offset"]:r=0}=t,i=qe(t.nullBitmap),o=bt(n.ArrayType,t.data),{["length"]:s=o.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Xt(n,r,s,a,[void 0,o,i])}visitUtf8(t){let{["type"]:n,["offset"]:r=0}=t,i=qe(t.data),o=qe(t.nullBitmap),s=kp(t.valueOffsets),{["length"]:a=s.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new Xt(n,r,a,c,[s,i,o])}visitLargeUtf8(t){let{["type"]:n,["offset"]:r=0}=t,i=qe(t.data),o=qe(t.nullBitmap),s=h2(t.valueOffsets),{["length"]:a=s.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new Xt(n,r,a,c,[s,i,o])}visitBinary(t){let{["type"]:n,["offset"]:r=0}=t,i=qe(t.data),o=qe(t.nullBitmap),s=kp(t.valueOffsets),{["length"]:a=s.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new Xt(n,r,a,c,[s,i,o])}visitLargeBinary(t){let{["type"]:n,["offset"]:r=0}=t,i=qe(t.data),o=qe(t.nullBitmap),s=h2(t.valueOffsets),{["length"]:a=s.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new Xt(n,r,a,c,[s,i,o])}visitFixedSizeBinary(t){let{["type"]:n,["offset"]:r=0}=t,i=qe(t.nullBitmap),o=bt(n.ArrayType,t.data),{["length"]:s=o.length/ns(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Xt(n,r,s,a,[void 0,o,i])}visitDate(t){let{["type"]:n,["offset"]:r=0}=t,i=qe(t.nullBitmap),o=bt(n.ArrayType,t.data),{["length"]:s=o.length/ns(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Xt(n,r,s,a,[void 0,o,i])}visitTimestamp(t){let{["type"]:n,["offset"]:r=0}=t,i=qe(t.nullBitmap),o=bt(n.ArrayType,t.data),{["length"]:s=o.length/ns(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Xt(n,r,s,a,[void 0,o,i])}visitTime(t){let{["type"]:n,["offset"]:r=0}=t,i=qe(t.nullBitmap),o=bt(n.ArrayType,t.data),{["length"]:s=o.length/ns(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Xt(n,r,s,a,[void 0,o,i])}visitDecimal(t){let{["type"]:n,["offset"]:r=0}=t,i=qe(t.nullBitmap),o=bt(n.ArrayType,t.data),{["length"]:s=o.length/ns(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Xt(n,r,s,a,[void 0,o,i])}visitList(t){let{["type"]:n,["offset"]:r=0,["child"]:i}=t,o=qe(t.nullBitmap),s=kp(t.valueOffsets),{["length"]:a=s.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new Xt(n,r,a,c,[s,void 0,o],[i])}visitStruct(t){let{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,o=qe(t.nullBitmap),{length:s=i.reduce((c,{length:u})=>Math.max(c,u),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Xt(n,r,s,a,[void 0,void 0,o],i)}visitUnion(t){let{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,o=bt(n.ArrayType,t.typeIds),{["length"]:s=o.length,["nullCount"]:a=-1}=t;if(be.isSparseUnion(n))return new Xt(n,r,s,a,[void 0,void 0,void 0,o],i);let c=kp(t.valueOffsets);return new Xt(n,r,s,a,[c,void 0,void 0,o],i)}visitDictionary(t){let{["type"]:n,["offset"]:r=0}=t,i=qe(t.nullBitmap),o=bt(n.indices.ArrayType,t.data),{["dictionary"]:s=new Rt([new e().visit({type:n.dictionary})])}=t,{["length"]:a=o.length,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new Xt(n,r,a,c,[void 0,o,i],[],s)}visitInterval(t){let{["type"]:n,["offset"]:r=0}=t,i=qe(t.nullBitmap),o=bt(n.ArrayType,t.data),{["length"]:s=o.length/ns(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Xt(n,r,s,a,[void 0,o,i])}visitDuration(t){let{["type"]:n,["offset"]:r=0}=t,i=qe(t.nullBitmap),o=bt(n.ArrayType,t.data),{["length"]:s=o.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Xt(n,r,s,a,[void 0,o,i])}visitFixedSizeList(t){let{["type"]:n,["offset"]:r=0,["child"]:i=new e().visit({type:n.valueType})}=t,o=qe(t.nullBitmap),{["length"]:s=i.length/ns(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Xt(n,r,s,a,[void 0,void 0,o],[i])}visitMap(t){let{["type"]:n,["offset"]:r=0,["child"]:i=new e().visit({type:n.childType})}=t,o=qe(t.nullBitmap),s=kp(t.valueOffsets),{["length"]:a=s.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new Xt(n,r,a,c,[s,void 0,o],[i])}},xMe=new t5;function ot(e){return xMe.visit(e)}var iw=class{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){let t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}};function fre(e){return e.some(t=>t.nullable)}function eN(e){return e.reduce((t,n)=>t+n.nullCount,0)}function tN(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function nN(e,t,n,r){let i=[];for(let o=-1,s=e.length;++o<s;){let a=e[o],c=t[o],{length:u}=a;if(c>=r)break;if(n>=c+u)continue;if(c>=n&&c+u<=r){i.push(a);continue}let f=Math.max(0,n-c),h=Math.min(r-c,u);i.push(a.slice(f,h-f))}return i.length===0&&i.push(e[0].slice(0,0)),i}function n5(e,t,n,r){let i=0,o=0,s=t.length-1;do{if(i>=s-1)return n<t[s]?r(e,i,n-t[i]):null;o=i+Math.trunc((s-i)*.5),n<t[o]?s=o:i=o}while(i<s)}function ow(e,t){return e.getValid(t)}function D0(e){function t(n,r,i){return e(n[r],i)}return function(n){let r=this.data;return n5(r,this._offsets,n,t)}}function rN(e){let t;function n(r,i,o){return e(r[i],o,t)}return function(r,i){let o=this.data;t=i;let s=n5(o,this._offsets,r,n);return t=void 0,s}}function iN(e){let t;function n(r,i,o){let s=o,a=0,c=0;for(let u=i-1,f=r.length;++u<f;){let h=r[u];if(~(a=e(h,t,s)))return c+a;s=0,c+=h.length}return-1}return function(r,i){t=r;let o=this.data,s=typeof i!="number"?n(o,0,0):n5(o,this._offsets,i,n);return t=void 0,s}}var Ve=class extends Fe{};function wMe(e,t){return t===null&&e.length>0?0:-1}function DMe(e,t){let{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(let i of new Up(n,e.offset+(t||0),e.length,n,J2)){if(!i)return r;++r}return-1}function st(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case j.Union:break;case j.Dictionary:break;default:return DMe(e,n)}let r=Sr.getVisitFn(e),i=Rd(t);for(let o=(n||0)-1,s=e.length;++o<s;)if(i(r(e,o)))return o;return-1}function dre(e,t,n){let r=Sr.getVisitFn(e),i=Rd(t);for(let o=(n||0)-1,s=e.length;++o<s;)if(i(r(e,o)))return o;return-1}Ve.prototype.visitNull=wMe;Ve.prototype.visitBool=st;Ve.prototype.visitInt=st;Ve.prototype.visitInt8=st;Ve.prototype.visitInt16=st;Ve.prototype.visitInt32=st;Ve.prototype.visitInt64=st;Ve.prototype.visitUint8=st;Ve.prototype.visitUint16=st;Ve.prototype.visitUint32=st;Ve.prototype.visitUint64=st;Ve.prototype.visitFloat=st;Ve.prototype.visitFloat16=st;Ve.prototype.visitFloat32=st;Ve.prototype.visitFloat64=st;Ve.prototype.visitUtf8=st;Ve.prototype.visitLargeUtf8=st;Ve.prototype.visitBinary=st;Ve.prototype.visitLargeBinary=st;Ve.prototype.visitFixedSizeBinary=st;Ve.prototype.visitDate=st;Ve.prototype.visitDateDay=st;Ve.prototype.visitDateMillisecond=st;Ve.prototype.visitTimestamp=st;Ve.prototype.visitTimestampSecond=st;Ve.prototype.visitTimestampMillisecond=st;Ve.prototype.visitTimestampMicrosecond=st;Ve.prototype.visitTimestampNanosecond=st;Ve.prototype.visitTime=st;Ve.prototype.visitTimeSecond=st;Ve.prototype.visitTimeMillisecond=st;Ve.prototype.visitTimeMicrosecond=st;Ve.prototype.visitTimeNanosecond=st;Ve.prototype.visitDecimal=st;Ve.prototype.visitList=st;Ve.prototype.visitStruct=st;Ve.prototype.visitUnion=st;Ve.prototype.visitDenseUnion=dre;Ve.prototype.visitSparseUnion=dre;Ve.prototype.visitDictionary=st;Ve.prototype.visitInterval=st;Ve.prototype.visitIntervalDayTime=st;Ve.prototype.visitIntervalYearMonth=st;Ve.prototype.visitDuration=st;Ve.prototype.visitDurationSecond=st;Ve.prototype.visitDurationMillisecond=st;Ve.prototype.visitDurationMicrosecond=st;Ve.prototype.visitDurationNanosecond=st;Ve.prototype.visitFixedSizeList=st;Ve.prototype.visitMap=st;var zp=new Ve;var Ue=class extends Fe{};function Ze(e){let{type:t}=e;if(e.nullCount===0&&e.stride===1&&(be.isInt(t)&&t.bitWidth!==64||be.isTime(t)&&t.bitWidth!==64||be.isFloat(t)&&t.precision!==_n.HALF))return new iw(e.data.length,r=>{let i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new iw(e.data.length,r=>{let o=e.data[r].length,s=e.slice(n,n+o);return n+=o,new r5(s)})}var r5=class{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};Ue.prototype.visitNull=Ze;Ue.prototype.visitBool=Ze;Ue.prototype.visitInt=Ze;Ue.prototype.visitInt8=Ze;Ue.prototype.visitInt16=Ze;Ue.prototype.visitInt32=Ze;Ue.prototype.visitInt64=Ze;Ue.prototype.visitUint8=Ze;Ue.prototype.visitUint16=Ze;Ue.prototype.visitUint32=Ze;Ue.prototype.visitUint64=Ze;Ue.prototype.visitFloat=Ze;Ue.prototype.visitFloat16=Ze;Ue.prototype.visitFloat32=Ze;Ue.prototype.visitFloat64=Ze;Ue.prototype.visitUtf8=Ze;Ue.prototype.visitLargeUtf8=Ze;Ue.prototype.visitBinary=Ze;Ue.prototype.visitLargeBinary=Ze;Ue.prototype.visitFixedSizeBinary=Ze;Ue.prototype.visitDate=Ze;Ue.prototype.visitDateDay=Ze;Ue.prototype.visitDateMillisecond=Ze;Ue.prototype.visitTimestamp=Ze;Ue.prototype.visitTimestampSecond=Ze;Ue.prototype.visitTimestampMillisecond=Ze;Ue.prototype.visitTimestampMicrosecond=Ze;Ue.prototype.visitTimestampNanosecond=Ze;Ue.prototype.visitTime=Ze;Ue.prototype.visitTimeSecond=Ze;Ue.prototype.visitTimeMillisecond=Ze;Ue.prototype.visitTimeMicrosecond=Ze;Ue.prototype.visitTimeNanosecond=Ze;Ue.prototype.visitDecimal=Ze;Ue.prototype.visitList=Ze;Ue.prototype.visitStruct=Ze;Ue.prototype.visitUnion=Ze;Ue.prototype.visitDenseUnion=Ze;Ue.prototype.visitSparseUnion=Ze;Ue.prototype.visitDictionary=Ze;Ue.prototype.visitInterval=Ze;Ue.prototype.visitIntervalDayTime=Ze;Ue.prototype.visitIntervalYearMonth=Ze;Ue.prototype.visitDuration=Ze;Ue.prototype.visitDurationSecond=Ze;Ue.prototype.visitDurationMillisecond=Ze;Ue.prototype.visitDurationMicrosecond=Ze;Ue.prototype.visitDurationNanosecond=Ze;Ue.prototype.visitFixedSizeList=Ze;Ue.prototype.visitMap=Ze;var S0=new Ue;var hre,pre={},mre={},Rt=class e{constructor(t){var n,r,i;let o=t[0]instanceof e?t.flatMap(a=>a.data):t;if(o.length===0||o.some(a=>!(a instanceof Xt)))throw new TypeError("Vector constructor expects an Array of Data instances.");let s=(n=o[0])===null||n===void 0?void 0:n.type;switch(o.length){case 0:this._offsets=[0];break;case 1:{let{get:a,set:c,indexOf:u}=pre[s.typeId],f=o[0];this.isValid=h=>ow(f,h),this.get=h=>a(f,h),this.set=(h,p)=>c(f,h,p),this.indexOf=h=>u(f,h),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,mre[s.typeId]),this._offsets=tN(o);break}this.data=o,this.type=s,this.stride=ns(s),this.numChildren=(i=(r=s.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullable(){return fre(this.data)}get nullCount(){return eN(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${j[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}at(t){return this.get(Vp(t,this.length))}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}[Symbol.iterator](){return S0.visit(this)}concat(...t){return new e(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new e(nw(this,t,n,({data:r,_offsets:i},o,s)=>nN(r,i,o,s)))}toJSON(){return[...this]}toArray(){let{type:t,data:n,length:r,stride:i,ArrayType:o}=this;switch(t.typeId){case j.Int:case j.Float:case j.Decimal:case j.Time:case j.Timestamp:switch(n.length){case 0:return new o;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((s,{values:a,length:c})=>(s.array.set(a.subarray(0,c*i),s.offset),s.offset+=c*i,s),{array:new o(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new e(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return be.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(be.isDictionary(this.type)){let t=new oN(this.data[0].dictionary),n=this.data.map(r=>{let i=r.clone();return i.dictionary=t,i});return new e(n)}return new oN(this)}unmemoize(){if(be.isDictionary(this.type)&&this.isMemoized){let t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{let i=r.clone();return i.dictionary=t,i});return new e(n)}return this}};hre=Symbol.toStringTag;Rt[hre]=(e=>{e.type=be.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;let t=Object.keys(j).map(n=>j[n]).filter(n=>typeof n=="number"&&n!==j.NONE);for(let n of t){let r=Sr.getVisitFnByTypeId(n),i=vi.getVisitFnByTypeId(n),o=zp.getVisitFnByTypeId(n);pre[n]={get:r,set:i,indexOf:o},mre[n]=Object.create(e,{isValid:{value:D0(ow)},get:{value:D0(Sr.getVisitFnByTypeId(n))},set:{value:rN(vi.getVisitFnByTypeId(n))},indexOf:{value:iN(zp.getVisitFnByTypeId(n))}})}return"Vector"})(Rt.prototype);var oN=class e extends Rt{constructor(t){super(t.data);let n=this.get,r=this.set,i=this.slice,o=new Array(this.length);Object.defineProperty(this,"get",{value(s){let a=o[s];if(a!==void 0)return a;let c=n.call(this,s);return o[s]=c,c}}),Object.defineProperty(this,"set",{value(s,a){r.call(this,s,a),o[s]=a}}),Object.defineProperty(this,"slice",{value:(s,a)=>new e(i.call(this,s,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Rt(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}};function gre(e){if(!e||e.length<=0)return function(i){return!0};let t="",n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${SMe(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function SMe(e){return typeof e!="bigint"?Aa(e):`${Aa(e)}n`}function i5(e,t){let n=Math.ceil(e)*t-1;return(n-n%64+64||64)/t}function yre(e,t=0){return e.length>=t?e.subarray(0,t):Hx(new e.constructor(t),e,0)}var Fa=class{constructor(t,n=0,r=1){this.length=Math.ceil(n/r),this.buffer=new t(this.length),this.stride=r,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;let n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?i5(r*1,this.BYTES_PER_ELEMENT):i5(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=i5(t*this.stride,this.BYTES_PER_ELEMENT);let n=yre(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this.buffer=new this.ArrayType,this}_resize(t){return this.buffer=yre(this.buffer,t)}},$u=class extends Fa{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}},I0=class extends $u{constructor(){super(Uint8Array,0,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){let{buffer:r}=this.reserve(t-this.length+1),i=t>>3,o=t%8,s=r[i]>>o&1;return n?s===0&&(r[i]|=1<<o,++this.numValid):s===1&&(r[i]&=~(1<<o),--this.numValid),this}clear(){return this.numValid=0,super.clear()}},E0=class extends $u{constructor(t){super(t.OffsetArrayType,1,1)}append(t){return this.set(this.length-1,t)}set(t,n){let r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&r>=0&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,this.BYTES_PER_ELEMENT>4?BigInt(0):0),super.flush(t+1)}};var Ln=class{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=ns(t),this._nulls=new I0,n&&n.length>0&&(this._isValid=gre(n))}toVector(){return new Rt([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0,{_offsets:n,_values:r,_nulls:i,_typeIds:o,children:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),o&&(t+=o.byteLength),s.reduce((a,c)=>a+c.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i,{type:o,length:s,nullCount:a,_typeIds:c,_offsets:u,_values:f,_nulls:h}=this;(n=c?.flush(s))?i=u?.flush(s):(i=u?.flush(s))?t=f?.flush(u.last()):t=f?.flush(s),a>0&&(r=h?.flush(s));let p=this.children.map(m=>m.flush());return this.clear(),ot({type:o,length:s,nullCount:a,children:p,child:p[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(let t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(let o of this.children)o.clear();return this}};Ln.prototype.length=1;Ln.prototype.stride=1;Ln.prototype.children=null;Ln.prototype.finished=!1;Ln.prototype.nullValues=null;Ln.prototype._isValid=()=>!0;var Ir=class extends Ln{constructor(t){super(t),this._values=new $u(this.ArrayType,0,this.stride)}setValue(t,n){let r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}},To=class extends Ln{constructor(t){super(t),this._pendingLength=0,this._offsets=new E0(t.type)}setValue(t,n){let r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof Jc?n[Nd].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}};var Hp=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(BigInt(i??0)),t.pad(4),t.writeInt32(r),t.writeInt64(BigInt(n??0)),t.offset()}};var rs=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}version(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):on.V1}schema(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new Eo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new Hp).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){let r=this.bb.__offset(this.bb_pos,10);return r?(n||new Hp).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){let r=this.bb.__offset(this.bb_pos,12);return r?(n||new Fr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,on.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}};var en=class e{constructor(t=[],n,r,i=on.V5){this.fields=t||[],this.metadata=n||new Map,r||(r=o5(this.fields)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){let n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new e(r,this.metadata)}selectAt(t){let n=t.map(r=>this.fields[r]).filter(Boolean);return new e(n,this.metadata)}assign(...t){let n=t[0]instanceof e?t[0]:Array.isArray(t[0])?new e(t[0]):new e(t),r=[...this.fields],i=sN(sN(new Map,this.metadata),n.metadata),o=n.fields.filter(a=>{let c=r.findIndex(u=>u.name===a.name);return~c?(r[c]=a.clone({metadata:sN(sN(new Map,r[c].metadata),a.metadata)}))&&!1:!0}),s=o5(o,new Map);return new e([...r,...o],i,new Map([...this.dictionaries,...s]))}};en.prototype.fields=null;en.prototype.metadata=null;en.prototype.dictionaries=null;var It=class e{static new(...t){let[n,r,i,o]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),o===void 0&&(o=t[0].metadata)),new e(`${n}`,r,i,o)}constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,o]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,o=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:o=this.metadata}=t[0],e.new(n,r,i,o)}};It.prototype.type=null;It.prototype.name=null;It.prototype.nullable=null;It.prototype.metadata=null;function sN(e,t){return new Map([...e||new Map,...t||new Map])}function o5(e,t=new Map){for(let n=-1,r=e.length;++n<r;){let o=e[n].type;if(be.isDictionary(o)){if(!t.has(o.id))t.set(o.id,o.dictionary);else if(t.get(o.id)!==o.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&o5(o.children,t)}return t}var IMe=Fp,EMe=Jo,zu=class{static decode(t){t=new EMe(qe(t));let n=rs.getRootAsFooter(t),r=en.decode(n.schema(),new Map,n.version());return new s5(r,n)}static encode(t){let n=new IMe,r=en.encode(n,t.schema);rs.startRecordBatchesVector(n,t.numRecordBatches);for(let s of[...t.recordBatches()].slice().reverse())Hu.encode(n,s);let i=n.endVector();rs.startDictionariesVector(n,t.numDictionaries);for(let s of[...t.dictionaryBatches()].slice().reverse())Hu.encode(n,s);let o=n.endVector();return rs.startFooter(n),rs.addSchema(n,r),rs.addVersion(n,on.V5),rs.addRecordBatches(n,i),rs.addDictionaries(n,o),rs.finishFooterBuffer(n,rs.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=on.V5,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}};var s5=class extends zu{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){let n=this._footer.recordBatches(t);if(n)return Hu.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){let n=this._footer.dictionaries(t);if(n)return Hu.decode(n)}return null}},Hu=class e{static decode(t){return new e(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){let{metaDataLength:r}=n,i=BigInt(n.offset),o=BigInt(n.bodyLength);return Hp.createBlock(t,i,r,o)}constructor(t,n,r){this.metaDataLength=t,this.offset=jt(r),this.bodyLength=jt(n)}};var Mn=Object.freeze({done:!0,value:void 0}),sw=class{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}},Gp=class{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}},aN=class extends Gp{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return ge(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){let{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Mn);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return _i.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return _i.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return ge(this,void 0,void 0,function*(){return yield this.abort(t),Mn})}return(t){return ge(this,void 0,void 0,function*(){return yield this.close(),Mn})}read(t){return ge(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return ge(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(Mn)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}};var el=class extends aN{write(t){if((t=qe(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?$x(this.toUint8Array(!0)):this.toUint8Array(!1).then($x)}toUint8Array(t=!1){return t?Ko(this._values)[0]:ge(this,void 0,void 0,function*(){var n,r,i,o;let s=[],a=0;try{for(var c=!0,u=No(this),f;f=yield u.next(),n=f.done,!n;c=!0){o=f.value,c=!1;let h=o;s.push(h),a+=h.byteLength}}catch(h){r={error:h}}finally{try{!c&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}return Ko(s,a)[0]})}},tl=class{constructor(t){t&&(this.source=new a5(_i.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}},Us=class e{constructor(t){t instanceof e?this.source=t.source:t instanceof el?this.source=new Gu(_i.fromAsyncIterable(t)):d2(t)?this.source=new Gu(_i.fromNodeStream(t)):zx(t)?this.source=new Gu(_i.fromDOMStream(t)):u2(t)?this.source=new Gu(_i.fromDOMStream(t.body)):Sa(t)?this.source=new Gu(_i.fromIterable(t)):Da(t)?this.source=new Gu(_i.fromAsyncIterable(t)):Fs(t)&&(this.source=new Gu(_i.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}},a5=class{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,n="read"){return this.source.next({cmd:n,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Mn)}return(t){return Object.create(this.source.return&&this.source.return(t)||Mn)}},Gu=class{constructor(t){this.source=t,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(t){return ge(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return ge(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return ge(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t){return ge(this,arguments,void 0,function*(n,r="read"){return yield this.source.next({cmd:r,size:n})})}throw(t){return ge(this,void 0,void 0,function*(){let n=this.source.throw&&(yield this.source.throw(t))||Mn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(t){return ge(this,void 0,void 0,function*(){let n=this.source.return&&(yield this.source.return(t))||Mn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}};var aw=class extends tl{constructor(t,n){super(),this.position=0,this.buffer=qe(t),this.size=n===void 0?this.buffer.byteLength:n}readInt32(t){let{buffer:n,byteOffset:r}=this.readAt(t,4);return new DataView(n,r).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){let{buffer:n,size:r,position:i}=this;return n&&i<r?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,t)),n.subarray(i,this.position)):null}readAt(t,n){let r=this.buffer,i=Math.min(this.size,t+n);return r?r.subarray(t,i):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}},Pd=class extends Us{constructor(t,n){super(),this.position=0,this._handle=t,typeof n=="number"?this.size=n:this._pending=ge(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending})}readInt32(t){return ge(this,void 0,void 0,function*(){let{buffer:n,byteOffset:r}=yield this.readAt(t,4);return new DataView(n,r).getInt32(0,!0)})}seek(t){return ge(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return ge(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:n,size:r,position:i}=this;if(n&&i<r){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let o=i,s=0,a=0,c=Math.min(r,o+Math.min(r-o,t)),u=new Uint8Array(Math.max(0,(this.position=c)-o));for(;(o+=a)<c&&(s+=a)<u.byteLength;)({bytesRead:a}=yield n.read(u,s,u.byteLength-s,o));return u}return null})}readAt(t,n){return ge(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:r,size:i}=this;if(r&&t+n<i){let o=Math.min(i,t+n),s=new Uint8Array(o-t);return(yield r.read(s,0,n,t)).buffer}return new Uint8Array(n)})}close(){return ge(this,void 0,void 0,function*(){let t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return ge(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return ge(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}};var l5={};tf(l5,{BaseInt64:()=>cw,Int128:()=>lw,Int64:()=>qu,Uint64:()=>Xn});function T0(e){return e<0&&(e=4294967295+e+1),`0x${e.toString(16)}`}var C0=8,c5=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],cw=class{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){let n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]),i=n[3]*r[3];this.buffer[0]=i&65535;let o=i>>>16;return i=n[2]*r[3],o+=i,i=n[3]*r[2]>>>0,o+=i,this.buffer[0]+=o<<16,this.buffer[1]=o>>>0<i?65536:0,this.buffer[1]+=o>>>16,this.buffer[1]+=n[1]*r[3]+n[2]*r[2]+n[3]*r[1],this.buffer[1]+=n[0]*r[3]+n[1]*r[2]+n[2]*r[1]+n[3]*r[0]<<16,this}_plus(t){let n=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${T0(this.buffer[1])} ${T0(this.buffer[0])}`}},Xn=class e extends cw{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,n=new Uint32Array(2)){return e.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return e.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){let r=t.length,i=new e(n);for(let o=0;o<r;){let s=C0<r-o?C0:r-o,a=new e(new Uint32Array([Number.parseInt(t.slice(o,o+s),10),0])),c=new e(new Uint32Array([c5[s],0]));i.times(c),i.plus(a),o+=s}return i}static convertArray(t){let n=new Uint32Array(t.length*2);for(let r=-1,i=t.length;++r<i;)e.from(t[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(t,n){return new e(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new e(new Uint32Array(t.buffer)).plus(n)}},qu=class e extends cw{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){let n=this.buffer[1]<<0,r=t.buffer[1]<<0;return n<r||n===r&&this.buffer[0]<t.buffer[0]}static from(t,n=new Uint32Array(2)){return e.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return e.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){let r=t.startsWith("-"),i=t.length,o=new e(n);for(let s=r?1:0;s<i;){let a=C0<i-s?C0:i-s,c=new e(new Uint32Array([Number.parseInt(t.slice(s,s+a),10),0])),u=new e(new Uint32Array([c5[a],0]));o.times(u),o.plus(c),s+=a}return r?o.negate():o}static convertArray(t){let n=new Uint32Array(t.length*2);for(let r=-1,i=t.length;++r<i;)e.from(t[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(t,n){return new e(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new e(new Uint32Array(t.buffer)).plus(n)}},lw=class e{constructor(t){this.buffer=t}high(){return new qu(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new qu(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){let n=new Xn(new Uint32Array([this.buffer[3],0])),r=new Xn(new Uint32Array([this.buffer[2],0])),i=new Xn(new Uint32Array([this.buffer[1],0])),o=new Xn(new Uint32Array([this.buffer[0],0])),s=new Xn(new Uint32Array([t.buffer[3],0])),a=new Xn(new Uint32Array([t.buffer[2],0])),c=new Xn(new Uint32Array([t.buffer[1],0])),u=new Xn(new Uint32Array([t.buffer[0],0])),f=Xn.multiply(o,u);this.buffer[0]=f.low();let h=new Xn(new Uint32Array([f.high(),0]));return f=Xn.multiply(i,u),h.plus(f),f=Xn.multiply(o,c),h.plus(f),this.buffer[1]=h.low(),this.buffer[3]=h.lessThan(f)?1:0,this.buffer[2]=h.high(),new Xn(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Xn.multiply(r,u)).plus(Xn.multiply(i,c)).plus(Xn.multiply(o,a)),this.buffer[3]+=Xn.multiply(n,u).plus(Xn.multiply(r,c)).plus(Xn.multiply(i,a)).plus(Xn.multiply(o,s)).low(),this}plus(t){let n=new Uint32Array(4);return n[3]=this.buffer[3]+t.buffer[3]>>>0,n[2]=this.buffer[2]+t.buffer[2]>>>0,n[1]=this.buffer[1]+t.buffer[1]>>>0,n[0]=this.buffer[0]+t.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${T0(this.buffer[3])} ${T0(this.buffer[2])} ${T0(this.buffer[1])} ${T0(this.buffer[0])}`}static multiply(t,n){return new e(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new e(new Uint32Array(t.buffer)).plus(n)}static from(t,n=new Uint32Array(4)){return e.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(4)){return e.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(4)){let r=t.startsWith("-"),i=t.length,o=new e(n);for(let s=r?1:0;s<i;){let a=C0<i-s?C0:i-s,c=new e(new Uint32Array([Number.parseInt(t.slice(s,s+a),10),0,0,0])),u=new e(new Uint32Array([c5[a],0,0,0]));o.times(u),o.plus(c),s+=a}return r?o.negate():o}static convertArray(t){let n=new Uint32Array(t.length*4);for(let r=-1,i=t.length;++r<i;)e.from(t[r],new Uint32Array(n.buffer,n.byteOffset+4*4*r,4));return n}};var uw=class extends Fe{constructor(t,n,r,i,o=on.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=n,this.buffers=r,this.dictionaries=i,this.metadataVersion=o}visit(t){return super.visit(t instanceof It?t.type:t)}visitNull(t,{length:n}=this.nextFieldNode()){return ot({type:t,length:n})}visitBool(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitInt(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitFloat(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitUtf8(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeUtf8(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeBinary(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDate(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitTimestamp(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitTime(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDecimal(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitList(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),children:this.visitMany(t.children)})}visitUnion(t,{length:n,nullCount:r}=this.nextFieldNode()){return this.metadataVersion<on.V5&&this.readNullBitmap(t,r),t.mode===Sn.Sparse?this.visitSparseUnion(t,{length:n,nullCount:r}):this.visitDenseUnion(t,{length:n,nullCount:r})}visitDenseUnion(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDuration(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitFixedSizeList(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),child:this.visit(t.children[0])})}visitMap(t,{length:n,nullCount:r}=this.nextFieldNode()){return ot({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,n,r=this.nextBufferRange()){return n>0&&this.readData(t,r)||new Uint8Array(0)}readOffsets(t,n){return this.readData(t,n)}readTypeIds(t,n){return this.readData(t,n)}readData(t,{length:n,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+n)}readDictionary(t){return this.dictionaries.get(t.id)}},cN=class extends uw{constructor(t,n,r,i,o){super(new Uint8Array(0),n,r,i,o),this.sources=t}readNullBitmap(t,n,{offset:r}=this.nextBufferRange()){return n<=0?new Uint8Array(0):$p(this.sources[r])}readOffsets(t,{offset:n}=this.nextBufferRange()){return bt(Uint8Array,bt(t.OffsetArrayType,this.sources[n]))}readTypeIds(t,{offset:n}=this.nextBufferRange()){return bt(Uint8Array,bt(t.ArrayType,this.sources[n]))}readData(t,{offset:n}=this.nextBufferRange()){let{sources:r}=this;return be.isTimestamp(t)?bt(Uint8Array,qu.convertArray(r[n])):(be.isInt(t)||be.isTime(t))&&t.bitWidth===64||be.isDuration(t)?bt(Uint8Array,qu.convertArray(r[n])):be.isDate(t)&&t.unit===cr.MILLISECOND?bt(Uint8Array,qu.convertArray(r[n])):be.isDecimal(t)?bt(Uint8Array,lw.convertArray(r[n])):be.isBinary(t)||be.isLargeBinary(t)||be.isFixedSizeBinary(t)?TMe(r[n]):be.isBool(t)?$p(r[n]):be.isUtf8(t)||be.isLargeUtf8(t)?Wc(r[n].join("")):bt(Uint8Array,bt(t.ArrayType,r[n].map(i=>+i)))}};function TMe(e){let t=e.join(""),n=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)n[r>>1]=Number.parseInt(t.slice(r,r+2),16);return n}var M0=class extends To{constructor(t){super(t),this._values=new Fa(Uint8Array)}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,qe(n))}_flushPending(t,n){let r=this._offsets,i=this._values.reserve(n).buffer,o=0;for(let[s,a]of t)if(a===void 0)r.set(s,0);else{let c=a.length;i.set(a,o),r.set(s,c),o+=c}}};var A0=class extends To{constructor(t){super(t),this._values=new Fa(Uint8Array)}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,qe(n))}_flushPending(t,n){let r=this._offsets,i=this._values.reserve(n).buffer,o=0;for(let[s,a]of t)if(a===void 0)r.set(s,BigInt(0));else{let c=a.length;i.set(a,o),r.set(s,BigInt(c)),o+=c}}};var lN=class extends Ln{constructor(t){super(t),this._values=new I0}setValue(t,n){this._values.set(t,+n)}};var qp=class extends Ir{};qp.prototype._setValue=$8;var fw=class extends qp{};fw.prototype._setValue=L2;var dw=class extends qp{};dw.prototype._setValue=k2;var hw=class extends Ir{};hw.prototype._setValue=G8;var uN=class extends Ln{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new ts(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=Wp({type:this.type.indices,nullValues:n}),this.dictionary=Wp({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){let r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){let r=this._keysToIndices,i=this.valueToKey(n),o=r[i];return o===void 0&&(r[i]=o=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,o)}flush(){let t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}};var pw=class extends Ir{};pw.prototype._setValue=j8;var fN=class extends Ln{setValue(t,n){let[r]=this.children,i=t*this.stride;for(let o=-1,s=n.length;++o<s;)r.set(i+o,n[o])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let r=this.children.push(t);return this.type=new Pa(this.type.listSize,new It(n,t.type,!0)),r}};var Yp=class extends Ir{setValue(t,n){this._values.set(t,n)}},dN=class extends Yp{setValue(t,n){super.setValue(t,tw(n))}},hN=class extends Yp{},pN=class extends Yp{};var Zp=class extends Ir{};Zp.prototype._setValue=q8;var mw=class extends Zp{};mw.prototype._setValue=G2;var gw=class extends Zp{};gw.prototype._setValue=q2;var Wu=class extends Ir{};Wu.prototype._setValue=W8;var yw=class extends Wu{};yw.prototype._setValue=W2;var _w=class extends Wu{};_w.prototype._setValue=Y2;var vw=class extends Wu{};vw.prototype._setValue=Z2;var bw=class extends Wu{};bw.prototype._setValue=X2;var js=class extends Ir{setValue(t,n){this._values.set(t,n)}},mN=class extends js{},gN=class extends js{},yN=class extends js{},_N=class extends js{},vN=class extends js{},bN=class extends js{},xN=class extends js{},wN=class extends js{};var DN=class extends To{constructor(t){super(t),this._offsets=new E0(t.type)}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Na(new It(n,t.type,!0)),this.numChildren-1}_flushPending(t){let n=this._offsets,[r]=this.children;for(let[i,o]of t)if(typeof o>"u")n.set(i,0);else{let s=o,a=s.length,c=n.set(i,a).buffer[i];for(let u=-1;++u<a;)r.set(c+u,s[u])}}};var SN=class extends To{set(t,n){return super.set(t,n)}setValue(t,n){let r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),o=i.get(t);o&&(this._pendingLength-=o.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new La(new It(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){let n=this._offsets,[r]=this.children;for(let[i,o]of t)if(o===void 0)n.set(i,0);else{let{[i]:s,[i+1]:a}=n.set(i,o.size).buffer;for(let c of o.entries())if(r.set(s,c),++s>=a)break}}};var IN=class extends Ln{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}};var EN=class extends Ln{setValue(t,n){let{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((o,s)=>r[s].set(t,n[s]));case Map:return i.children.forEach((o,s)=>r[s].set(t,n.get(o.name)));default:return i.children.forEach((o,s)=>r[s].set(t,n[o.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){let r=this.children.push(t);return this.type=new Cn([...this.type.children,new It(n,t.type,!0)]),r}};var Yu=class extends Ir{};Yu.prototype._setValue=z8;var xw=class extends Yu{};xw.prototype._setValue=F2;var ww=class extends Yu{};ww.prototype._setValue=B2;var Dw=class extends Yu{};Dw.prototype._setValue=V2;var Sw=class extends Yu{};Sw.prototype._setValue=U2;var Zu=class extends Ir{};Zu.prototype._setValue=H8;var Iw=class extends Zu{};Iw.prototype._setValue=j2;var Ew=class extends Zu{};Ew.prototype._setValue=$2;var Tw=class extends Zu{};Tw.prototype._setValue=z2;var Cw=class extends Zu{};Cw.prototype._setValue=H2;var O0=class extends Ln{constructor(t){super(t),this._typeIds=new $u(Int8Array,0,1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);let i=this.type.typeIdToChildIndex[r],o=this.children[i];o?.set(t,n)}addChild(t,n=`${this.children.length}`){let r=this.children.push(t),{type:{children:i,mode:o,typeIds:s}}=this,a=[...i,new It(n,t.type)];return this.type=new Ra(o,[...s,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}},TN=class extends O0{},CN=class extends O0{constructor(t){super(t),this._offsets=new $u(Int32Array)}setValue(t,n,r){let i=this._typeIds.set(t,r).buffer[t],o=this.getChildAt(this.type.typeIdToChildIndex[i]),s=this._offsets.set(t,o.length).buffer[t];o?.set(s,n)}};var Mw=class extends To{constructor(t){super(t),this._values=new Fa(Uint8Array)}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Wc(n))}_flushPending(t,n){}};Mw.prototype._flushPending=M0.prototype._flushPending;var Aw=class extends To{constructor(t){super(t),this._values=new Fa(Uint8Array)}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Wc(n))}_flushPending(t,n){}};Aw.prototype._flushPending=A0.prototype._flushPending;var u5=class extends Fe{visitNull(){return IN}visitBool(){return lN}visitInt(){return js}visitInt8(){return mN}visitInt16(){return gN}visitInt32(){return yN}visitInt64(){return _N}visitUint8(){return vN}visitUint16(){return bN}visitUint32(){return xN}visitUint64(){return wN}visitFloat(){return Yp}visitFloat16(){return dN}visitFloat32(){return hN}visitFloat64(){return pN}visitUtf8(){return Mw}visitLargeUtf8(){return Aw}visitBinary(){return M0}visitLargeBinary(){return A0}visitFixedSizeBinary(){return pw}visitDate(){return qp}visitDateDay(){return fw}visitDateMillisecond(){return dw}visitTimestamp(){return Yu}visitTimestampSecond(){return xw}visitTimestampMillisecond(){return ww}visitTimestampMicrosecond(){return Dw}visitTimestampNanosecond(){return Sw}visitTime(){return Zu}visitTimeSecond(){return Iw}visitTimeMillisecond(){return Ew}visitTimeMicrosecond(){return Tw}visitTimeNanosecond(){return Cw}visitDecimal(){return hw}visitList(){return DN}visitStruct(){return EN}visitUnion(){return O0}visitDenseUnion(){return CN}visitSparseUnion(){return TN}visitDictionary(){return uN}visitInterval(){return Zp}visitIntervalDayTime(){return mw}visitIntervalYearMonth(){return gw}visitDuration(){return Wu}visitDurationSecond(){return yw}visitDurationMillisecond(){return _w}visitDurationMicrosecond(){return vw}visitDurationNanosecond(){return bw}visitFixedSizeList(){return fN}visitMap(){return SN}},_re=new u5;var je=class extends Fe{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}};function co(e,t){return t instanceof e.constructor}function Xp(e,t){return e===t||co(e,t)}function Xu(e,t){return e===t||co(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function MN(e,t){return e===t||co(e,t)&&e.precision===t.precision}function CMe(e,t){return e===t||co(e,t)&&e.byteWidth===t.byteWidth}function f5(e,t){return e===t||co(e,t)&&e.unit===t.unit}function Ow(e,t){return e===t||co(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function Nw(e,t){return e===t||co(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function MMe(e,t){return e===t||co(e,t)&&e.children.length===t.children.length&&nl.compareManyFields(e.children,t.children)}function AMe(e,t){return e===t||co(e,t)&&e.children.length===t.children.length&&nl.compareManyFields(e.children,t.children)}function d5(e,t){return e===t||co(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&nl.compareManyFields(e.children,t.children)}function OMe(e,t){return e===t||co(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&nl.visit(e.indices,t.indices)&&nl.visit(e.dictionary,t.dictionary)}function h5(e,t){return e===t||co(e,t)&&e.unit===t.unit}function Rw(e,t){return e===t||co(e,t)&&e.unit===t.unit}function NMe(e,t){return e===t||co(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&nl.compareManyFields(e.children,t.children)}function RMe(e,t){return e===t||co(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&nl.compareManyFields(e.children,t.children)}je.prototype.visitNull=Xp;je.prototype.visitBool=Xp;je.prototype.visitInt=Xu;je.prototype.visitInt8=Xu;je.prototype.visitInt16=Xu;je.prototype.visitInt32=Xu;je.prototype.visitInt64=Xu;je.prototype.visitUint8=Xu;je.prototype.visitUint16=Xu;je.prototype.visitUint32=Xu;je.prototype.visitUint64=Xu;je.prototype.visitFloat=MN;je.prototype.visitFloat16=MN;je.prototype.visitFloat32=MN;je.prototype.visitFloat64=MN;je.prototype.visitUtf8=Xp;je.prototype.visitLargeUtf8=Xp;je.prototype.visitBinary=Xp;je.prototype.visitLargeBinary=Xp;je.prototype.visitFixedSizeBinary=CMe;je.prototype.visitDate=f5;je.prototype.visitDateDay=f5;je.prototype.visitDateMillisecond=f5;je.prototype.visitTimestamp=Ow;je.prototype.visitTimestampSecond=Ow;je.prototype.visitTimestampMillisecond=Ow;je.prototype.visitTimestampMicrosecond=Ow;je.prototype.visitTimestampNanosecond=Ow;je.prototype.visitTime=Nw;je.prototype.visitTimeSecond=Nw;je.prototype.visitTimeMillisecond=Nw;je.prototype.visitTimeMicrosecond=Nw;je.prototype.visitTimeNanosecond=Nw;je.prototype.visitDecimal=Xp;je.prototype.visitList=MMe;je.prototype.visitStruct=AMe;je.prototype.visitUnion=d5;je.prototype.visitDenseUnion=d5;je.prototype.visitSparseUnion=d5;je.prototype.visitDictionary=OMe;je.prototype.visitInterval=h5;je.prototype.visitIntervalDayTime=h5;je.prototype.visitIntervalYearMonth=h5;je.prototype.visitDuration=Rw;je.prototype.visitDurationSecond=Rw;je.prototype.visitDurationMillisecond=Rw;je.prototype.visitDurationMicrosecond=Rw;je.prototype.visitDurationNanosecond=Rw;je.prototype.visitFixedSizeList=NMe;je.prototype.visitMap=RMe;var nl=new je;function Qp(e,t){return nl.compareSchemas(e,t)}function vre(e,t){return nl.compareFields(e,t)}function bre(e,t){return nl.visit(e,t)}function Wp(e){let t=e.type,n=new(_re.getVisitFn(t)())(e);if(t.children&&t.children.length>0){let r=e.children||[],i={nullValues:e.nullValues},o=Array.isArray(r)?(s,a)=>r[a]||i:({name:s})=>r[s]||i;for(let[s,a]of t.children.entries()){let{type:c}=a,u=o(a,s);n.children.push(Wp(Object.assign(Object.assign({},u),{type:c})))}}return n}function AN(e,t){return PMe(e,t.map(n=>n.data.concat()))}function PMe(e,t){let n=[...e.fields],r=[],i={numBatches:t.reduce((h,p)=>Math.max(h,p.length),0)},o=0,s=0,a=-1,c=t.length,u,f=[];for(;i.numBatches-- >0;){for(s=Number.POSITIVE_INFINITY,a=-1;++a<c;)f[a]=u=t[a].shift(),s=Math.min(s,u?u.length:s);Number.isFinite(s)&&(f=LMe(n,s,f,t,i),s>0&&(r[o++]=ot({type:new Cn(n),length:s,nullCount:0,children:f.slice()})))}return[e=e.assign(n),r.map(h=>new rr(e,h))]}function LMe(e,t,n,r,i){var o;let s=(t+63&-64)>>3;for(let a=-1,c=r.length;++a<c;){let u=n[a],f=u?.length;if(f>=t)f===t?n[a]=u:(n[a]=u.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(u.slice(t,f-t))));else{let h=e[a];e[a]=h.clone({nullable:!0}),n[a]=(o=u?._changeLengthAndBackfillNullBitmap(t))!==null&&o!==void 0?o:ot({type:h.type,length:t,nullCount:t,nullBitmap:new Uint8Array(s)})}}return n}var xre,lo=class e{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new en([]),this._offsets=[0],this;let i,o;t[0]instanceof en&&(i=t.shift()),t.at(-1)instanceof Uint32Array&&(o=t.pop());let s=c=>{if(c){if(c instanceof rr)return[c];if(c instanceof e)return c.batches;if(c instanceof Xt){if(c.type instanceof Cn)return[new rr(new en(c.type.children),c)]}else{if(Array.isArray(c))return c.flatMap(u=>s(u));if(typeof c[Symbol.iterator]=="function")return[...c].flatMap(u=>s(u));if(typeof c=="object"){let u=Object.keys(c),f=u.map(m=>new Rt([c[m]])),h=i??new en(u.map((m,y)=>new It(String(m),f[y].type,f[y].nullable))),[,p]=AN(h,f);return p.length===0?[new rr(c)]:p}}}return[]},a=t.flatMap(c=>s(c));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new en([]),!(i instanceof en))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let c of a){if(!(c instanceof rr))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Qp(i,c.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=o??tN(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=eN(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}at(t){return this.get(Vp(t,this.numRows))}set(t,n){}indexOf(t,n){return-1}[Symbol.iterator](){return this.batches.length>0?S0.visit(new Rt(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){let n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new e(n,r.map(i=>new rr(n,i)))}slice(t,n){let r=this.schema;[t,n]=nw({length:this.numRows},t,n);let i=nN(this.data,this._offsets,t,n);return new e(r,i.map(o=>new rr(r,o)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){let n=this.data.map(r=>r.children[t]);if(n.length===0){let{type:r}=this.schema.fields[t],i=ot({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Rt(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new Rt([ot({type:new ao,length:this.numRows})]));let o=r.fields.slice(),s=o[t].clone({type:n.type}),a=this.schema.fields.map((c,u)=>this.getChildAt(u));[o[t],a[t]]=[s,n],[r,i]=AN(r,a)}return new e(r,i)}select(t){let n=this.schema.fields.reduce((r,i,o)=>r.set(i.name,o),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){let n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new e(n,r)}assign(t){let n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,c,u)=>{let[f,h]=a,p=n.findIndex(m=>m.name===c.name);return~p?h[p]=u:f.push(u),a},[[],[]]),o=this.schema.assign(t.schema),s=[...n.map((a,c)=>[c,i[c]]).map(([a,c])=>c===void 0?this.getChildAt(a):t.getChildAt(c)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new e(...AN(o,s))}};xre=Symbol.toStringTag;lo[xre]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=D0(ow),e.get=D0(Sr.getVisitFn(j.Struct)),e.set=rN(vi.getVisitFn(j.Struct)),e.indexOf=iN(zp.getVisitFn(j.Struct)),"Table"))(lo.prototype);var Dre,rr=class e{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof en))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=ot({nullCount:0,type:new Cn(this.schema.fields),children:this.schema.fields.map(n=>ot({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Xt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=wre(this.schema,this.data.children);break}case 1:{let[n]=t,{fields:r,children:i,length:o}=Object.keys(n).reduce((c,u,f)=>(c.children[f]=n[u],c.length=Math.max(c.length,n[u].length),c.fields[f]=It.new({name:u,type:n[u].type,nullable:!0}),c),{length:0,fields:new Array,children:new Array}),s=new en(r),a=ot({type:new Cn(r),length:o,children:i,nullCount:0});[this.schema,this.data]=wre(s,a.children,o);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Sre(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Sr.visit(this.data,t)}at(t){return this.get(Vp(t,this.numRows))}set(t,n){return vi.visit(this.data,t,n)}indexOf(t,n){return zp.visit(this.data,t,n)}[Symbol.iterator](){return S0.visit(new Rt([this.data]))}toArray(){return[...this]}concat(...t){return new lo(this.schema,[this,...t])}slice(t,n){let[r]=new Rt([this.data]).slice(t,n).data;return new e(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Rt([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new Rt([ot({type:new ao,length:this.numRows})]));let o=r.fields.slice(),s=i.children.slice(),a=o[t].clone({type:n.type});[o[t],s[t]]=[a,n.data[0]],r=new en(o,new Map(this.schema.metadata)),i=ot({type:new Cn(o),children:s})}return new e(r,i)}select(t){let n=this.schema.select(t),r=new Cn(n.fields),i=[];for(let o of t){let s=this.schema.fields.findIndex(a=>a.name===o);~s&&(i[s]=this.data.children[s])}return new e(n,ot({type:r,length:this.numRows,children:i}))}selectAt(t){let n=this.schema.selectAt(t),r=t.map(o=>this.data.children[o]).filter(Boolean),i=ot({type:new Cn(n.fields),length:this.numRows,children:r});return new e(n,i)}};Dre=Symbol.toStringTag;rr[Dre]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(rr.prototype);function wre(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;let i=[...e.fields],o=[...t],s=(n+63&-64)>>3;for(let[a,c]of e.fields.entries()){let u=t[a];(!u||u.length!==n)&&(i[a]=c.clone({nullable:!0}),o[a]=(r=u?._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:ot({type:c.type,length:n,nullCount:n,nullBitmap:new Uint8Array(s)}))}return[e.assign(i),ot({type:new Cn(i),length:n,children:o})]}function Sre(e,t,n=new Map){var r,i;if(((r=e?.length)!==null&&r!==void 0?r:0)>0&&e?.length===t?.length)for(let o=-1,s=e.length;++o<s;){let{type:a}=e[o],c=t[o];for(let u of[c,...((i=c?.dictionary)===null||i===void 0?void 0:i.data)||[]])Sre(a.children,u?.children,n);if(be.isDictionary(a)){let{id:u}=a;if(!n.has(u))c?.dictionary&&n.set(u,c.dictionary);else if(n.get(u)!==c.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}var Kp=class extends rr{constructor(t){let n=t.fields.map(i=>ot({type:i.type})),r=ot({type:new Cn(t.fields),nullCount:0,children:n});super(t,r)}};var Ba=class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}version(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):on.V1}headerType(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Nt.NONE}header(t){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){let r=this.bb.__offset(this.bb_pos,12);return r?(n||new Fr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,on.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,Nt.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,o,s){return e.startMessage(t),e.addVersion(t,n),e.addHeaderType(t,r),e.addHeader(t,i),e.addBodyLength(t,o),e.addCustomMetadata(t,s),e.endMessage(t)}};var p5=class extends Fe{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return Xx.startNull(n),Xx.endNull(n)}visitInt(t,n){return Ta.startInt(n),Ta.addBitWidth(n,t.bitWidth),Ta.addIsSigned(n,t.isSigned),Ta.endInt(n)}visitFloat(t,n){return Td.startFloatingPoint(n),Td.addPrecision(n,t.precision),Td.endFloatingPoint(n)}visitBinary(t,n){return Gx.startBinary(n),Gx.endBinary(n)}visitLargeBinary(t,n){return Wx.startLargeBinary(n),Wx.endLargeBinary(n)}visitBool(t,n){return qx.startBool(n),qx.endBool(n)}visitUtf8(t,n){return Kx.startUtf8(n),Kx.endUtf8(n)}visitLargeUtf8(t,n){return Yx.startLargeUtf8(n),Yx.endLargeUtf8(n)}visitDecimal(t,n){return Qc.startDecimal(n),Qc.addScale(n,t.scale),Qc.addPrecision(n,t.precision),Qc.addBitWidth(n,t.bitWidth),Qc.endDecimal(n)}visitDate(t,n){return Dd.startDate(n),Dd.addUnit(n,t.unit),Dd.endDate(n)}visitTime(t,n){return Tu.startTime(n),Tu.addUnit(n,t.unit),Tu.addBitWidth(n,t.bitWidth),Tu.endTime(n)}visitTimestamp(t,n){let r=t.timezone&&n.createString(t.timezone)||void 0;return Cu.startTimestamp(n),Cu.addUnit(n,t.unit),r!==void 0&&Cu.addTimezone(n,r),Cu.endTimestamp(n)}visitInterval(t,n){return Cd.startInterval(n),Cd.addUnit(n,t.unit),Cd.endInterval(n)}visitDuration(t,n){return Sd.startDuration(n),Sd.addUnit(n,t.unit),Sd.endDuration(n)}visitList(t,n){return Zx.startList(n),Zx.endList(n)}visitStruct(t,n){return Qx.startStruct_(n),Qx.endStruct_(n)}visitUnion(t,n){Ca.startTypeIdsVector(n,t.typeIds.length);let r=Ca.createTypeIdsVector(n,t.typeIds);return Ca.startUnion(n),Ca.addMode(n,t.mode),Ca.addTypeIds(n,r),Ca.endUnion(n)}visitDictionary(t,n){let r=this.visit(t.indices,n);return Xc.startDictionaryEncoding(n),Xc.addId(n,BigInt(t.id)),Xc.addIsOrdered(n,t.isOrdered),r!==void 0&&Xc.addIndexType(n,r),Xc.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return Id.startFixedSizeBinary(n),Id.addByteWidth(n,t.byteWidth),Id.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return Ed.startFixedSizeList(n),Ed.addListSize(n,t.listSize),Ed.endFixedSizeList(n)}visitMap(t,n){return Md.startMap(n),Md.addKeysSorted(n,t.keysSorted),Md.endMap(n)}},ON=new p5;function Cre(e,t=new Map){return new en(FMe(e,t),NN(e.metadata),t)}function m5(e){return new bi(e.count,Are(e.columns),Ore(e.columns))}function Mre(e){return new Mo(m5(e.data),e.id,e.isDelta)}function FMe(e,t){return(e.fields||[]).filter(Boolean).map(n=>It.fromJSON(n,t))}function Ire(e,t){return(e.children||[]).filter(Boolean).map(n=>It.fromJSON(n,t))}function Are(e){return(e||[]).reduce((t,n)=>[...t,new $s(n.count,BMe(n.VALIDITY)),...Are(n.children)],[])}function Ore(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){let i=e[n];i.VALIDITY&&t.push(new Co(t.length,i.VALIDITY.length)),i.TYPE_ID&&t.push(new Co(t.length,i.TYPE_ID.length)),i.OFFSET&&t.push(new Co(t.length,i.OFFSET.length)),i.DATA&&t.push(new Co(t.length,i.DATA.length)),t=Ore(i.children,t)}return t}function BMe(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function Nre(e,t){let n,r,i,o,s,a;return!t||!(o=e.dictionary)?(s=Tre(e,Ire(e,t)),i=new It(e.name,s,e.nullable,NN(e.metadata))):t.has(n=o.id)?(r=(r=o.indexType)?Ere(r):new Kc,a=new ts(t.get(n),r,n,o.isOrdered),i=new It(e.name,a,e.nullable,NN(e.metadata))):(r=(r=o.indexType)?Ere(r):new Kc,t.set(n,s=Tre(e,Ire(e,t))),a=new ts(s,r,n,o.isOrdered),i=new It(e.name,a,e.nullable,NN(e.metadata))),i||null}function NN(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function Ere(e){return new Br(e.isSigned,e.bitWidth)}function Tre(e,t){let n=e.type.name;switch(n){case"NONE":return new ao;case"null":return new ao;case"binary":return new Mu;case"largebinary":return new Au;case"utf8":return new Ou;case"largeutf8":return new Nu;case"bool":return new Ru;case"list":return new Na((t||[])[0]);case"struct":return new Cn(t||[]);case"struct_":return new Cn(t||[])}switch(n){case"int":{let r=e.type;return new Br(r.isSigned,r.bitWidth)}case"floatingpoint":{let r=e.type;return new Vs(_n[r.precision])}case"decimal":{let r=e.type;return new Pu(r.scale,r.precision,r.bitWidth)}case"date":{let r=e.type;return new Lu(cr[r.unit])}case"time":{let r=e.type;return new ku(Te[r.unit],r.bitWidth)}case"timestamp":{let r=e.type;return new Fu(Te[r.unit],r.timezone)}case"interval":{let r=e.type;return new Bu(ni[r.unit])}case"duration":{let r=e.type;return new Vu(Te[r.unit])}case"union":{let r=e.type,[i,...o]=(r.mode+"").toLowerCase(),s=i.toUpperCase()+o.join("");return new Ra(Sn[s],r.typeIds||[],t||[])}case"fixedsizebinary":{let r=e.type;return new Uu(r.byteWidth)}case"fixedsizelist":{let r=e.type;return new Pa(r.listSize,(t||[])[0])}case"map":{let r=e.type;return new La((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var VMe=Fp,UMe=Jo,Ao=class e{static fromJSON(t,n){let r=new e(0,on.V5,n);return r._createHeader=jMe(t,n),r}static decode(t){t=new UMe(qe(t));let n=Ba.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),o=n.headerType(),s=new e(r,i,o);return s._createHeader=$Me(n,o),s}static encode(t){let n=new VMe,r=-1;return t.isSchema()?r=en.encode(n,t.header()):t.isRecordBatch()?r=bi.encode(n,t.header()):t.isDictionaryBatch()&&(r=Mo.encode(n,t.header())),Ba.startMessage(n),Ba.addVersion(n,on.V5),Ba.addHeader(n,r),Ba.addHeaderType(n,t.headerType),Ba.addBodyLength(n,BigInt(t.bodyLength)),Ba.finishMessageBuffer(n,Ba.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof en)return new e(0,on.V5,Nt.Schema,t);if(t instanceof bi)return new e(n,on.V5,Nt.RecordBatch,t);if(t instanceof Mo)return new e(n,on.V5,Nt.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Nt.Schema}isRecordBatch(){return this.headerType===Nt.RecordBatch}isDictionaryBatch(){return this.headerType===Nt.DictionaryBatch}constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=jt(t)}},bi=class{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=jt(t)}},Mo=class{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=jt(n)}},Co=class{constructor(t,n){this.offset=jt(t),this.length=jt(n)}},$s=class{constructor(t,n){this.length=jt(t),this.nullCount=jt(n)}};function jMe(e,t){return()=>{switch(t){case Nt.Schema:return en.fromJSON(e);case Nt.RecordBatch:return bi.fromJSON(e);case Nt.DictionaryBatch:return Mo.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${Nt[t]}, type: ${t} }`)}}function $Me(e,t){return()=>{switch(t){case Nt.Schema:return en.decode(e.header(new Eo),new Map,e.version());case Nt.RecordBatch:return bi.decode(e.header(new es),e.version());case Nt.DictionaryBatch:return Mo.decode(e.header(new Eu),e.version())}throw new Error(`Unrecognized Message type: { name: ${Nt[t]}, type: ${t} }`)}}It.encode=JMe;It.decode=QMe;It.fromJSON=Nre;en.encode=KMe;en.decode=zMe;en.fromJSON=Cre;bi.encode=eAe;bi.decode=HMe;bi.fromJSON=m5;Mo.encode=tAe;Mo.decode=GMe;Mo.fromJSON=Mre;$s.encode=nAe;$s.decode=WMe;Co.encode=rAe;Co.decode=qMe;function zMe(e,t=new Map,n=on.V5){let r=XMe(e,t);return new en(r,RN(e),t,n)}function HMe(e,t=on.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new bi(e.length(),YMe(e),ZMe(e,t))}function GMe(e,t=on.V5){return new Mo(bi.decode(e.data(),t),e.id(),e.isDelta())}function qMe(e){return new Co(e.offset(),e.length())}function WMe(e){return new $s(e.length(),e.nullCount())}function YMe(e){let t=[];for(let n,r=-1,i=-1,o=e.nodesLength();++r<o;)(n=e.nodes(r))&&(t[++i]=$s.decode(n));return t}function ZMe(e,t){let n=[];for(let r,i=-1,o=-1,s=e.buffersLength();++i<s;)(r=e.buffers(i))&&(t<on.V4&&(r.bb_pos+=8*(i+1)),n[++o]=Co.decode(r));return n}function XMe(e,t){let n=[];for(let r,i=-1,o=-1,s=e.fieldsLength();++i<s;)(r=e.fields(i))&&(n[++o]=It.decode(r,t));return n}function Rre(e,t){let n=[];for(let r,i=-1,o=-1,s=e.childrenLength();++i<s;)(r=e.children(i))&&(n[++o]=It.decode(r,t));return n}function QMe(e,t){let n,r,i,o,s,a;return!t||!(a=e.dictionary())?(i=Lre(e,Rre(e,t)),r=new It(e.name(),i,e.nullable(),RN(e))):t.has(n=jt(a.id()))?(o=(o=a.indexType())?Pre(o):new Kc,s=new ts(t.get(n),o,n,a.isOrdered()),r=new It(e.name(),s,e.nullable(),RN(e))):(o=(o=a.indexType())?Pre(o):new Kc,t.set(n,i=Lre(e,Rre(e,t))),s=new ts(i,o,n,a.isOrdered()),r=new It(e.name(),s,e.nullable(),RN(e))),r||null}function RN(e){let t=new Map;if(e)for(let n,r,i=-1,o=Math.trunc(e.customMetadataLength());++i<o;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function Pre(e){return new Br(e.isSigned(),e.bitWidth())}function Lre(e,t){let n=e.typeType();switch(n){case In.NONE:return new ao;case In.Null:return new ao;case In.Binary:return new Mu;case In.LargeBinary:return new Au;case In.Utf8:return new Ou;case In.LargeUtf8:return new Nu;case In.Bool:return new Ru;case In.List:return new Na((t||[])[0]);case In.Struct_:return new Cn(t||[])}switch(n){case In.Int:{let r=e.type(new Ta);return new Br(r.isSigned(),r.bitWidth())}case In.FloatingPoint:{let r=e.type(new Td);return new Vs(r.precision())}case In.Decimal:{let r=e.type(new Qc);return new Pu(r.scale(),r.precision(),r.bitWidth())}case In.Date:{let r=e.type(new Dd);return new Lu(r.unit())}case In.Time:{let r=e.type(new Tu);return new ku(r.unit(),r.bitWidth())}case In.Timestamp:{let r=e.type(new Cu);return new Fu(r.unit(),r.timezone())}case In.Interval:{let r=e.type(new Cd);return new Bu(r.unit())}case In.Duration:{let r=e.type(new Sd);return new Vu(r.unit())}case In.Union:{let r=e.type(new Ca);return new Ra(r.mode(),r.typeIdsArray()||[],t||[])}case In.FixedSizeBinary:{let r=e.type(new Id);return new Uu(r.byteWidth())}case In.FixedSizeList:{let r=e.type(new Ed);return new Pa(r.listSize(),(t||[])[0])}case In.Map:{let r=e.type(new Md);return new La((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${In[n]}" (${n})`)}function KMe(e,t){let n=t.fields.map(o=>It.encode(e,o));Eo.startFieldsVector(e,n.length);let r=Eo.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?Eo.createCustomMetadataVector(e,[...t.metadata].map(([o,s])=>{let a=e.createString(`${o}`),c=e.createString(`${s}`);return Fr.startKeyValue(e),Fr.addKey(e,a),Fr.addValue(e,c),Fr.endKeyValue(e)})):-1;return Eo.startSchema(e),Eo.addFields(e,r),Eo.addEndianness(e,iAe?Bp.Little:Bp.Big),i!==-1&&Eo.addCustomMetadata(e,i),Eo.endSchema(e)}function JMe(e,t){let n=-1,r=-1,i=-1,o=t.type,s=t.typeId;be.isDictionary(o)?(s=o.dictionary.typeId,i=ON.visit(o,e),r=ON.visit(o.dictionary,e)):r=ON.visit(o,e);let a=(o.children||[]).map(f=>It.encode(e,f)),c=Fi.createChildrenVector(e,a),u=t.metadata&&t.metadata.size>0?Fi.createCustomMetadataVector(e,[...t.metadata].map(([f,h])=>{let p=e.createString(`${f}`),m=e.createString(`${h}`);return Fr.startKeyValue(e),Fr.addKey(e,p),Fr.addValue(e,m),Fr.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Fi.startField(e),Fi.addType(e,r),Fi.addTypeType(e,s),Fi.addChildren(e,c),Fi.addNullable(e,!!t.nullable),n!==-1&&Fi.addName(e,n),i!==-1&&Fi.addDictionary(e,i),u!==-1&&Fi.addCustomMetadata(e,u),Fi.endField(e)}function eAe(e,t){let n=t.nodes||[],r=t.buffers||[];es.startNodesVector(e,n.length);for(let s of n.slice().reverse())$s.encode(e,s);let i=e.endVector();es.startBuffersVector(e,r.length);for(let s of r.slice().reverse())Co.encode(e,s);let o=e.endVector();return es.startRecordBatch(e),es.addLength(e,BigInt(t.length)),es.addNodes(e,i),es.addBuffers(e,o),es.endRecordBatch(e)}function tAe(e,t){let n=bi.encode(e,t.data);return Eu.startDictionaryBatch(e),Eu.addId(e,BigInt(t.id)),Eu.addIsDelta(e,t.isDelta),Eu.addData(e,n),Eu.endDictionaryBatch(e)}function nAe(e,t){return p0.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function rAe(e,t){return h0.createBuffer(e,BigInt(t.offset),BigInt(t.length))}var iAe=(()=>{let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})();var y5=e=>`Expected ${Nt[e]} Message in stream, but was null or length 0.`,_5=e=>`Header pointer of flatbuffer-encoded ${Nt[e]} Message is null or length 0.`,kre=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,Fre=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`,N0=class{constructor(t){this.source=t instanceof tl?t:new tl(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done?Mn:t.value===-1&&(t=this.readMetadataLength()).done?Mn:(t=this.readMetadata(t.value)).done?Mn:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(y5(t));return n.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);let n=qe(this.source.read(t));if(n.byteLength<t)throw new Error(Fre(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(t=!1){let n=Nt.Schema,r=this.readMessage(n),i=r?.header();if(t&&!i)throw new Error(_5(n));return i}readMetadataLength(){let t=this.source.read(PN),n=t&&new Jo(t),r=n?.readInt32(0)||0;return{done:r===0,value:r}}readMetadata(t){let n=this.source.read(t);if(!n)return Mn;if(n.byteLength<t)throw new Error(kre(t,n.byteLength));return{done:!1,value:Ao.decode(n)}}},Pw=class{constructor(t,n){this.source=t instanceof Us?t:l2(t)?new Pd(t,n):new Us(t)}[Symbol.asyncIterator](){return this}next(){return ge(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done?Mn:t.value===-1&&(t=yield this.readMetadataLength()).done?Mn:(t=yield this.readMetadata(t.value)).done?Mn:t})}throw(t){return ge(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return ge(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return ge(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(y5(t));return n.value})}readMessageBody(t){return ge(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);let n=qe(yield this.source.read(t));if(n.byteLength<t)throw new Error(Fre(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(){return ge(this,arguments,void 0,function*(t=!1){let n=Nt.Schema,r=yield this.readMessage(n),i=r?.header();if(t&&!i)throw new Error(_5(n));return i})}readMetadataLength(){return ge(this,void 0,void 0,function*(){let t=yield this.source.read(PN),n=t&&new Jo(t),r=n?.readInt32(0)||0;return{done:r===0,value:r}})}readMetadata(t){return ge(this,void 0,void 0,function*(){let n=yield this.source.read(t);if(!n)return Mn;if(n.byteLength<t)throw new Error(kre(t,n.byteLength));return{done:!1,value:Ao.decode(n)}})}},Lw=class extends N0{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof sw?t:new sw(t)}next(){let{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:Ao.fromJSON(t.schema,Nt.Schema)};if(this._dictionaryIndex<t.dictionaries.length){let n=t.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:Ao.fromJSON(n,Nt.DictionaryBatch)}}if(this._batchIndex<t.batches.length){let n=t.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:Ao.fromJSON(n,Nt.RecordBatch)}}return this._body=[],Mn}readMessageBody(t){return n(this._body);function n(r){return(r||[]).reduce((i,o)=>[...i,...o.VALIDITY&&[o.VALIDITY]||[],...o.TYPE_ID&&[o.TYPE_ID]||[],...o.OFFSET&&[o.OFFSET]||[],...o.DATA&&[o.DATA]||[],...n(o.children)],[])}}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(y5(t));return n.value}readSchema(){let t=Nt.Schema,n=this.readMessage(t),r=n?.header();if(!n||!r)throw new Error(_5(t));return r}},PN=4,g5="ARROW1",R0=new Uint8Array(g5.length);for(let e=0;e<g5.length;e+=1)R0[e]=g5.codePointAt(e);function LN(e,t=0){for(let n=-1,r=R0.length;++n<r;)if(R0[n]!==e[t+n])return!1;return!0}var P0=R0.length,v5=P0+PN,Bre=P0*2+PN;var xi=class e extends Gp{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){let n=this._impl.open(t);return Da(n)?n.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return _i.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return _i.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof e?t:a2(t)?sAe(t):l2(t)?lAe(t):Da(t)?ge(this,void 0,void 0,function*(){return yield e.from(yield t)}):u2(t)||zx(t)||d2(t)||Fs(t)?cAe(new Us(t)):aAe(new tl(t))}static readAll(t){return t instanceof e?t.isSync()?Vre(t):Ure(t):a2(t)||ArrayBuffer.isView(t)||Sa(t)||c2(t)?Vre(t):Ure(t)}},rl=class extends xi{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Ui(this,arguments,function*(){yield et(yield*fl(Sm(No(this[Symbol.iterator]()))))})}},Ld=class extends xi{constructor(t){super(t),this._impl=t}readAll(){return ge(this,void 0,void 0,function*(){var t,n,r,i;let o=new Array;try{for(var s=!0,a=No(this),c;c=yield a.next(),t=c.done,!t;s=!0){i=c.value,s=!1;let u=i;o.push(u)}}catch(u){n={error:u}}finally{try{!s&&!t&&(r=a.return)&&(yield r.call(a))}finally{if(n)throw n.error}}return o})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}},kd=class extends rl{constructor(t){super(t),this._impl=t}},kw=class extends Ld{constructor(t){super(t),this._impl=t}},kN=class{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,n){let r=this._loadVectors(t,n,this.schema.fields),i=ot({type:new Cn(this.schema.fields),length:t.length,children:r});return new rr(this.schema,i)}_loadDictionaryBatch(t,n){let{id:r,isDelta:i}=t,{dictionaries:o,schema:s}=this,a=o.get(r),c=s.dictionaries.get(r),u=this._loadVectors(t.data,n,[c]);return(a&&i?a.concat(new Rt(u)):new Rt(u)).memoize()}_loadVectors(t,n,r){return new uw(n,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}},L0=class extends kN{constructor(t,n){super(n),this._reader=a2(t)?new Lw(this._handle=t):new N0(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=jre(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Mn}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Mn}next(){if(this.closed)return Mn;let t,{_reader:n}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;let r=t.header(),i=n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;let r=t.header(),i=n.readMessageBody(t.bodyLength),o=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,o)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Kp(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}},k0=class extends kN{constructor(t,n){super(n),this._reader=new Pw(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return ge(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return ge(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=jre(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return ge(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Mn})}return(t){return ge(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Mn})}next(){return ge(this,void 0,void 0,function*(){if(this.closed)return Mn;let t,{_reader:n}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;let r=t.header(),i=yield n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;let r=t.header(),i=yield n.readMessageBody(t.bodyLength),o=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,o)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Kp(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return ge(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}},FN=class extends L0{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,n){super(t instanceof aw?t:new aw(t),n)}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var n;if(this.closed)return null;this._footer||this.open();let r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(r&&this._handle.seek(r.offset)){let i=this._reader.readMessage(Nt.RecordBatch);if(i?.isRecordBatch()){let o=i.header(),s=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(o,s)}}return null}_readDictionaryBatch(t){var n;let r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(r&&this._handle.seek(r.offset)){let i=this._reader.readMessage(Nt.DictionaryBatch);if(i?.isDictionaryBatch()){let o=i.header(),s=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(o,s);this.dictionaries.set(o.id,a)}}}_readFooter(){let{_handle:t}=this,n=t.size-v5,r=t.readInt32(n),i=t.readAt(n-r,r);return zu.decode(i)}_readNextMessageAndValidate(t){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(t)}return null}},b5=class extends k0{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,...n){let r=typeof n[0]!="number"?n.shift():void 0,i=n[0]instanceof Map?n.shift():void 0;super(t instanceof Pd?t:new Pd(t,r),i)}isFile(){return!0}isAsync(){return!0}open(t){let n=Object.create(null,{open:{get:()=>super.open}});return ge(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,t)})}readRecordBatch(t){return ge(this,void 0,void 0,function*(){var n;if(this.closed)return null;this._footer||(yield this.open());let r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(r&&(yield this._handle.seek(r.offset))){let i=yield this._reader.readMessage(Nt.RecordBatch);if(i?.isRecordBatch()){let o=i.header(),s=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(o,s)}}return null})}_readDictionaryBatch(t){return ge(this,void 0,void 0,function*(){var n;let r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(r&&(yield this._handle.seek(r.offset))){let i=yield this._reader.readMessage(Nt.DictionaryBatch);if(i?.isDictionaryBatch()){let o=i.header(),s=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(o,s);this.dictionaries.set(o.id,a)}}})}_readFooter(){return ge(this,void 0,void 0,function*(){let{_handle:t}=this;t._pending&&(yield t._pending);let n=t.size-v5,r=yield t.readInt32(n),i=yield t.readAt(n-r,r);return zu.decode(i)})}_readNextMessageAndValidate(t){return ge(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(t)}return null})}},x5=class extends L0{constructor(t,n){super(t,n)}_loadVectors(t,n,r){return new cN(n,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}};function jre(e,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:e.autoDestroy}function*Vre(e){let t=xi.from(e);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function Ure(e){return Ui(this,arguments,function*(){let n=yield et(xi.from(e));try{if(!(yield et(n.open({autoDestroy:!1}))).closed)do yield yield et(n);while(!(yield et(n.reset().open())).closed)}finally{yield et(n.cancel())}})}function sAe(e){return new rl(new x5(e))}function aAe(e){let t=e.peek(P0+7&-8);return t&&t.byteLength>=4?LN(t)?new kd(new FN(e.read())):new rl(new L0(e)):new rl(new L0(function*(){}()))}function cAe(e){return ge(this,void 0,void 0,function*(){let t=yield e.peek(P0+7&-8);return t&&t.byteLength>=4?LN(t)?new kd(new FN(yield e.read())):new Ld(new k0(e)):new Ld(new k0(function(){return Ui(this,arguments,function*(){})}()))})}function lAe(e){return ge(this,void 0,void 0,function*(){let{size:t}=yield e.stat(),n=new Pd(e,t);return t>=Bre&&LN(yield n.readAt(0,P0+7&-8))?new kw(new b5(n)):new Ld(new k0(n))})}var Un=class e extends Fe{static assemble(...t){let n=i=>i.flatMap(o=>Array.isArray(o)?n(o):o instanceof rr?o.data.children:o.data),r=new e;return r.visitMany(n(t)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof Rt)return this.visitMany(t.data),this;let{type:n}=t;if(!be.isDictionary(n)){let{length:r}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(be.isUnion(n))this.nodes.push(new $s(r,0));else{let{nullCount:i}=t;be.isNull(n)||Va.call(this,i<=0?new Uint8Array(0):jp(t.offset,r,t.nullBitmap)),this.nodes.push(new $s(r,i))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};function Va(e){let t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new Co(this._byteLength,t)),this._byteLength+=t,this}function uAe(e){var t;let{type:n,length:r,typeIds:i,valueOffsets:o}=e;if(Va.call(this,i),n.mode===Sn.Sparse)return w5.call(this,e);if(n.mode===Sn.Dense){if(e.offset<=0)return Va.call(this,o),w5.call(this,e);{let s=new Int32Array(r),a=Object.create(null),c=Object.create(null);for(let u,f,h=-1;++h<r;)(u=i[h])!==void 0&&((f=a[u])===void 0&&(f=a[u]=o[h]),s[h]=o[h]-f,c[u]=((t=c[u])!==null&&t!==void 0?t:0)+1);Va.call(this,s),this.visitMany(e.children.map((u,f)=>{let h=n.typeIds[f],p=a[h],m=c[h];return u.slice(p,Math.min(r,m))}))}}return this}function fAe(e){let t;return e.nullCount>=e.length?Va.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Va.call(this,jp(e.offset,e.length,t)):Va.call(this,$p(e.values))}function Qu(e){return Va.call(this,e.values.subarray(0,e.length*e.stride))}function BN(e){let{length:t,values:n,valueOffsets:r}=e,i=jt(r[0]),o=jt(r[t]),s=Math.min(o-i,n.byteLength-i);return Va.call(this,p2(-i,t+1,r)),Va.call(this,n.subarray(i,i+s)),this}function D5(e){let{length:t,valueOffsets:n}=e;if(n){let{[0]:r,[t]:i}=n;return Va.call(this,p2(-r,t+1,n)),this.visit(e.children[0].slice(r,i-r))}return this.visit(e.children[0])}function w5(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Un.prototype.visitBool=fAe;Un.prototype.visitInt=Qu;Un.prototype.visitFloat=Qu;Un.prototype.visitUtf8=BN;Un.prototype.visitLargeUtf8=BN;Un.prototype.visitBinary=BN;Un.prototype.visitLargeBinary=BN;Un.prototype.visitFixedSizeBinary=Qu;Un.prototype.visitDate=Qu;Un.prototype.visitTimestamp=Qu;Un.prototype.visitTime=Qu;Un.prototype.visitDecimal=Qu;Un.prototype.visitList=D5;Un.prototype.visitStruct=w5;Un.prototype.visitUnion=uAe;Un.prototype.visitInterval=Qu;Un.prototype.visitDuration=Qu;Un.prototype.visitFixedSizeList=D5;Un.prototype.visitMap=D5;var Jp=class extends Gp{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new el,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,so(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return Da(t)?t.then(n=>this.writeAll(n)):Fs(t)?I5(this,t):S5(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof el?this._sink=t:(this._sink=new el,t&&rne(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&ine(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(!n||!Qp(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof lo&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof rr&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!Qp(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof rr?t instanceof Kp||this._writeRecordBatch(t):t instanceof lo?this.writeAll(t.batches):Sa(t)&&this.writeAll(t)}_writeMessage(t,n=8){let r=n-1,i=Ao.encode(t),o=i.byteLength,s=this._writeLegacyIpcFormat?4:8,a=o+s+r&~r,c=a-o-s;return t.headerType===Nt.RecordBatch?this._recordBatchBlocks.push(new Hu(a,t.bodyLength,this._position)):t.headerType===Nt.DictionaryBatch&&this._dictionaryBlocks.push(new Hu(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-s)),o>0&&this._write(i),this._writePadding(c)}_write(t){if(this._started){let n=qe(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(Ao.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(R0)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){let{byteLength:n,nodes:r,bufferRegions:i,buffers:o}=Un.assemble(t),s=new bi(t.numRows,r,i),a=Ao.from(s,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(o)}_writeDictionaryBatch(t,n,r=!1){let{byteLength:i,nodes:o,bufferRegions:s,buffers:a}=Un.assemble(new Rt([t])),c=new bi(t.length,o,s),u=new Mo(c,n,r),f=Ao.from(u,i);return this._writeMessage(f)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let o=-1,s=t.length;++o<s;)(n=t[o])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){var n,r;for(let[i,o]of t.dictionaries){let s=(n=o?.data)!==null&&n!==void 0?n:[],a=this._seenDictionaries.get(i),c=(r=this._dictionaryDeltaOffsets.get(i))!==null&&r!==void 0?r:0;if(!a||a.data[0]!==s[0])for(let[u,f]of s.entries())this._writeDictionaryBatch(f,i,u>0);else if(c<s.length)for(let u of s.slice(c))this._writeDictionaryBatch(u,i,!0);this._seenDictionaries.set(i,o),this._dictionaryDeltaOffsets.set(i,s.length)}return this}},em=class e extends Jp{static writeAll(t,n){let r=new e(n);return Da(t)?t.then(i=>r.writeAll(i)):Fs(t)?I5(r,t):S5(r,t)}},tm=class e extends Jp{static writeAll(t){let n=new e;return Da(t)?t.then(r=>n.writeAll(r)):Fs(t)?I5(n,t):S5(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(t,n,r=!1){if(!r&&this._seenDictionaries.has(n))throw new Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(t,n,r)}_writeFooter(t){let n=zu.encode(new zu(t,on.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}};function S5(e,t){let n=t;t instanceof lo&&(n=t.batches,e.reset(void 0,t.schema));for(let r of n)e.write(r);return e.finish()}function I5(e,t){return ge(this,void 0,void 0,function*(){var n,r,i,o,s,a,c;try{for(n=!0,r=No(t);i=yield r.next(),o=i.done,!o;n=!0){c=i.value,n=!1;let u=c;e.write(u)}}catch(u){s={error:u}}finally{try{!n&&!o&&(a=r.return)&&(yield a.call(r))}finally{if(s)throw s.error}}return e.finish()})}function $re(e,t){if(Fs(e))return hAe(e,t);if(Sa(e))return dAe(e,t);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}function dAe(e,t){let n=null,r=t?.type==="bytes"||!1,i=t?.highWaterMark||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},t),{start(s){o(s,n||(n=e[Symbol.iterator]()))},pull(s){n?o(s,n):s.close()},cancel(){(n?.return&&n.return()||!0)&&(n=null)}}),Object.assign({highWaterMark:r?i:void 0},t));function o(s,a){let c,u=null,f=s.desiredSize||null;for(;!(u=a.next(r?f:null)).done;)if(ArrayBuffer.isView(u.value)&&(c=qe(u.value))&&(f!=null&&r&&(f=f-c.byteLength+1),u.value=c),s.enqueue(u.value),f!=null&&--f<=0)return;s.close()}}function hAe(e,t){let n=null,r=t?.type==="bytes"||!1,i=t?.highWaterMark||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},t),{start(s){return ge(this,void 0,void 0,function*(){yield o(s,n||(n=e[Symbol.asyncIterator]()))})},pull(s){return ge(this,void 0,void 0,function*(){n?yield o(s,n):s.close()})},cancel(){return ge(this,void 0,void 0,function*(){(n?.return&&(yield n.return())||!0)&&(n=null)})}}),Object.assign({highWaterMark:r?i:void 0},t));function o(s,a){return ge(this,void 0,void 0,function*(){let c,u=null,f=s.desiredSize||null;for(;!(u=yield a.next(r?f:null)).done;)if(ArrayBuffer.isView(u.value)&&(c=qe(u.value))&&(f!=null&&r&&(f=f-c.byteLength+1),u.value=c),s.enqueue(u.value),f!=null&&--f<=0)return;s.close()})}}function Gre(e){return new E5(e)}var E5=class{constructor(t){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:n,["writableStrategy"]:r,["queueingStrategy"]:i="count"}=t,o=Aj(t,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=Wp(o),this._getSize=i!=="bytes"?zre:Hre;let{["highWaterMark"]:s=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},n),{["highWaterMark"]:a=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},r);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:c=>{this._maybeFlush(this._builder,this._controller=c)},start:c=>{this._maybeFlush(this._builder,this._controller=c)}},{highWaterMark:s,size:i!=="bytes"?zre:Hre}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:a,size:c=>this._writeValueAndReturnChunkSize(c)})}_writeValueAndReturnChunkSize(t){let n=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(t)),this._bufferedSize-n}_maybeFlush(t,n){n!=null&&(this._bufferedSize>=n.desiredSize&&++this._numChunks&&this._enqueue(n,t.toVector()),t.finished&&((t.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(n,t.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(n,null)))}_enqueue(t,n){this._bufferedSize=0,this._controller=null,n==null?t.close():t.enqueue(n)}},zre=e=>{var t;return(t=e?.length)!==null&&t!==void 0?t:0},Hre=e=>{var t;return(t=e?.byteLength)!==null&&t!==void 0?t:0};function VN(e,t){let n=new el,r=null,i=new ReadableStream({cancel(){return ge(this,void 0,void 0,function*(){yield n.close()})},start(a){return ge(this,void 0,void 0,function*(){yield s(a,r||(r=yield o()))})},pull(a){return ge(this,void 0,void 0,function*(){r?yield s(a,r):a.close()})}});return{writable:new WritableStream(n,Object.assign({highWaterMark:Math.pow(2,14)},e)),readable:i};function o(){return ge(this,void 0,void 0,function*(){return yield(yield xi.from(n)).open(t)})}function s(a,c){return ge(this,void 0,void 0,function*(){let u=a.desiredSize,f=null;for(;!(f=yield c.next()).done;)if(a.enqueue(f.value),u!=null&&--u<=0)return;a.close()})}}function UN(e,t){let n=new this(e),r=new Us(n),i=new ReadableStream({cancel(){return ge(this,void 0,void 0,function*(){yield r.cancel()})},pull(s){return ge(this,void 0,void 0,function*(){yield o(s)})},start(s){return ge(this,void 0,void 0,function*(){yield o(s)})}},Object.assign({highWaterMark:Math.pow(2,14)},t));return{writable:new WritableStream(n,e),readable:i};function o(s){return ge(this,void 0,void 0,function*(){let a=null,c=s.desiredSize;for(;a=yield r.read(c||null);)if(s.enqueue(a),c!=null&&(c-=a.byteLength)<=0)return;s.close()})}}function jN(e,t="stream"){return(t==="stream"?em:tm).writeAll(e).toUint8Array(!0)}var yAe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},B8),l5),e5),V8),O8),J8),P8),{compareSchemas:Qp,compareFields:vre,compareTypes:bre});_i.toDOMStream=$re;Ln.throughDOM=Gre;xi.throughDOM=VN;kd.throughDOM=VN;rl.throughDOM=VN;Jp.throughDOM=UN;tm.throughDOM=UN;em.throughDOM=UN;var _Ae=Object.create,Wre=Object.defineProperty,vAe=Object.getOwnPropertyDescriptor,bAe=Object.getOwnPropertyNames,xAe=Object.getPrototypeOf,wAe=Object.prototype.hasOwnProperty,DAe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),SAe=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of bAe(t))!wAe.call(e,i)&&i!==n&&Wre(e,i,{get:()=>t[i],enumerable:!(r=vAe(t,i))||r.enumerable});return e},IAe=(e,t,n)=>(n=e!=null?_Ae(xAe(e)):{},SAe(t||!e||!e.__esModule?Wre(n,"default",{value:e,enumerable:!0}):n,e)),EAe=DAe((e,t)=>{t.exports=Worker}),TAe=(e=>(e[e.UNDEFINED=0]="UNDEFINED",e[e.AUTOMATIC=1]="AUTOMATIC",e[e.READ_ONLY=2]="READ_ONLY",e[e.READ_WRITE=3]="READ_WRITE",e))(TAe||{}),CAe=(e=>(e[e.IDENTIFIER=0]="IDENTIFIER",e[e.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",e[e.STRING_CONSTANT=2]="STRING_CONSTANT",e[e.OPERATOR=3]="OPERATOR",e[e.KEYWORD=4]="KEYWORD",e[e.COMMENT=5]="COMMENT",e))(CAe||{}),MAe=(e=>(e[e.NONE=0]="NONE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR",e))(MAe||{}),AAe=(e=>(e[e.NONE=0]="NONE",e[e.CONNECT=1]="CONNECT",e[e.DISCONNECT=2]="DISCONNECT",e[e.OPEN=3]="OPEN",e[e.QUERY=4]="QUERY",e[e.INSTANTIATE=5]="INSTANTIATE",e))(AAe||{}),OAe=(e=>(e[e.NONE=0]="NONE",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR",e[e.START=3]="START",e[e.RUN=4]="RUN",e[e.CAPTURE=5]="CAPTURE",e))(OAe||{}),NAe=(e=>(e[e.NONE=0]="NONE",e[e.WEB_WORKER=1]="WEB_WORKER",e[e.NODE_WORKER=2]="NODE_WORKER",e[e.BINDINGS=3]="BINDINGS",e[e.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",e))(NAe||{}),Yre=class{log(e){}},Zre=class{constructor(e=2){this.level=e}log(e){e.level>=this.level&&console.log(e)}};var RAe=(e=>(e[e.SUCCESS=0]="SUCCESS",e))(RAe||{}),PAe=class{constructor(e,t){this._bindings=e,this._conn=t}get bindings(){return this._bindings}close(){return ce(this,null,function*(){return this._bindings.disconnect(this._conn)})}useUnsafe(e){return e(this._bindings,this._conn)}query(e){return ce(this,null,function*(){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=yield this._bindings.runQuery(this._conn,e),n=xi.from(t);return console.assert(n.isSync(),"Reader is not sync"),console.assert(n.isFile(),"Reader is not file"),new lo(n)})}send(e){return ce(this,null,function*(){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=yield this._bindings.startPendingQuery(this._conn,e);for(;t==null;)t=yield this._bindings.pollPendingQuery(this._conn);let n=new Xre(this._bindings,this._conn,t),r=yield xi.from(n);return console.assert(r.isAsync()),console.assert(r.isStream()),r})}cancelSent(){return ce(this,null,function*(){return yield this._bindings.cancelPendingQuery(this._conn)})}getTableNames(e){return ce(this,null,function*(){return yield this._bindings.getTableNames(this._conn,e)})}prepare(e){return ce(this,null,function*(){let t=yield this._bindings.createPrepared(this._conn,e);return new LAe(this._bindings,this._conn,t)})}insertArrowTable(e,t){return ce(this,null,function*(){let n=jN(e,"stream");yield this.insertArrowFromIPCStream(n,t)})}insertArrowFromIPCStream(e,t){return ce(this,null,function*(){yield this._bindings.insertArrowFromIPCStream(this._conn,e,t)})}insertCSVFromPath(e,t){return ce(this,null,function*(){yield this._bindings.insertCSVFromPath(this._conn,e,t)})}insertJSONFromPath(e,t){return ce(this,null,function*(){yield this._bindings.insertJSONFromPath(this._conn,e,t)})}},Xre=class{constructor(e,t,n){this.db=e,this.conn=t,this.header=n,this._first=!0,this._depleted=!1,this._inFlight=null}next(){return ce(this,null,function*(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e;return this._inFlight!=null?(e=yield this._inFlight,this._inFlight=null):e=yield this.db.fetchQueryResults(this.conn),this._depleted=e.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}})}[Symbol.asyncIterator](){return this}},LAe=class{constructor(e,t,n){this.bindings=e,this.connectionId=t,this.statementId=n}close(){return ce(this,null,function*(){yield this.bindings.closePrepared(this.connectionId,this.statementId)})}query(...e){return ce(this,null,function*(){let t=yield this.bindings.runPrepared(this.connectionId,this.statementId,e),n=xi.from(t);return console.assert(n.isSync()),console.assert(n.isFile()),new lo(n)})}send(...e){return ce(this,null,function*(){let t=yield this.bindings.sendPrepared(this.connectionId,this.statementId,e),n=new Xre(this.bindings,this.connectionId,t),r=yield xi.from(n);return console.assert(r.isAsync()),console.assert(r.isStream()),r})}},kAe=(e=>(e.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",e.CLOSE_PREPARED="CLOSE_PREPARED",e.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",e.CONNECT="CONNECT",e.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",e.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",e.CREATE_PREPARED="CREATE_PREPARED",e.DISCONNECT="DISCONNECT",e.DROP_FILE="DROP_FILE",e.DROP_FILES="DROP_FILES",e.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",e.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",e.FLUSH_FILES="FLUSH_FILES",e.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",e.GET_TABLE_NAMES="GET_TABLE_NAMES",e.GET_VERSION="GET_VERSION",e.GLOB_FILE_INFOS="GLOB_FILE_INFOS",e.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",e.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",e.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",e.INSTANTIATE="INSTANTIATE",e.OPEN="OPEN",e.PING="PING",e.POLL_PENDING_QUERY="POLL_PENDING_QUERY",e.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",e.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",e.REGISTER_FILE_URL="REGISTER_FILE_URL",e.RESET="RESET",e.RUN_PREPARED="RUN_PREPARED",e.RUN_QUERY="RUN_QUERY",e.SEND_PREPARED="SEND_PREPARED",e.START_PENDING_QUERY="START_PENDING_QUERY",e.TOKENIZE="TOKENIZE",e))(kAe||{}),FAe=(e=>(e.CONNECTION_INFO="CONNECTION_INFO",e.ERROR="ERROR",e.FEATURE_FLAGS="FEATURE_FLAGS",e.FILE_BUFFER="FILE_BUFFER",e.FILE_INFOS="FILE_INFOS",e.FILE_SIZE="FILE_SIZE",e.FILE_STATISTICS="FILE_STATISTICS",e.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",e.LOG="LOG",e.OK="OK",e.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",e.QUERY_PLAN="QUERY_PLAN",e.QUERY_RESULT="QUERY_RESULT",e.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",e.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",e.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",e.REGISTERED_FILE="REGISTERED_FILE",e.SCRIPT_TOKENS="SCRIPT_TOKENS",e.SUCCESS="SUCCESS",e.TABLE_NAMES="TABLE_NAMES",e.VERSION_STRING="VERSION_STRING",e))(FAe||{}),zt=class{constructor(e,t){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=e,this.data=t,this.promise=new Promise((n,r)=>{this.promiseResolver=n,this.promiseRejecter=r})}};function $N(e){switch(e.typeId){case j.Binary:return{sqlType:"binary"};case j.Bool:return{sqlType:"bool"};case j.Date:return{sqlType:"date"};case j.DateDay:return{sqlType:"date32[d]"};case j.DateMillisecond:return{sqlType:"date64[ms]"};case j.Decimal:{let t=e;return{sqlType:"decimal",precision:t.precision,scale:t.scale}}case j.Float:return{sqlType:"float"};case j.Float16:return{sqlType:"float16"};case j.Float32:return{sqlType:"float32"};case j.Float64:return{sqlType:"float64"};case j.Int:return{sqlType:"int32"};case j.Int16:return{sqlType:"int16"};case j.Int32:return{sqlType:"int32"};case j.Int64:return{sqlType:"int64"};case j.Uint16:return{sqlType:"uint16"};case j.Uint32:return{sqlType:"uint32"};case j.Uint64:return{sqlType:"uint64"};case j.Uint8:return{sqlType:"uint8"};case j.IntervalDayTime:return{sqlType:"interval[dt]"};case j.IntervalYearMonth:return{sqlType:"interval[m]"};case j.List:return{sqlType:"list",valueType:$N(e.valueType)};case j.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:e.byteWidth};case j.Null:return{sqlType:"null"};case j.Utf8:return{sqlType:"utf8"};case j.Struct:return{sqlType:"struct",fields:e.children.map(t=>N5(t.name,t.type))};case j.Map:{let t=e;return{sqlType:"map",keyType:$N(t.keyType),valueType:$N(t.valueType)}}case j.Time:return{sqlType:"time[s]"};case j.TimeMicrosecond:return{sqlType:"time[us]"};case j.TimeMillisecond:return{sqlType:"time[ms]"};case j.TimeNanosecond:return{sqlType:"time[ns]"};case j.TimeSecond:return{sqlType:"time[s]"};case j.Timestamp:return{sqlType:"timestamp",timezone:e.timezone||void 0};case j.TimestampSecond:return{sqlType:"timestamp[s]",timezone:e.timezone||void 0};case j.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:e.timezone||void 0};case j.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:e.timezone||void 0};case j.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:e.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(e.toString()))}function N5(e,t){let n=$N(t);return n.name=e,n}var BAe=new TextEncoder,Qre=class{constructor(e,t=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),t!=null&&this.attach(t)}get logger(){return this._logger}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((t,n)=>{this._workerShutdownResolver=t})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}terminate(){return ce(this,null,function*(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})})}postTask(n){return ce(this,arguments,function*(e,t=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let r=this._nextMessageId++;return this._pendingRequests.set(r,e),this._worker.postMessage({messageId:r,type:e.type,data:e.data},t),yield e.promise})}onMessage(e){var t;let n=e.data;switch(n.type){case"LOG":{this._logger.log(n.data);return}case"INSTANTIATE_PROGRESS":{for(let i of this._onInstantiationProgress)i(n.data);return}}let r=this._pendingRequests.get(n.requestId);if(!r){console.warn("unassociated response: [".concat(n.requestId,", ").concat(n.type.toString(),"]"));return}if(this._pendingRequests.delete(n.requestId),n.type=="ERROR"){let i=new Error(n.data.message);i.name=n.data.name,(t=Object.getOwnPropertyDescriptor(i,"stack"))!=null&&t.writable&&(i.stack=n.data.stack),r.promiseRejecter(i);return}switch(r.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(n.type=="OK"){r.promiseResolver(n.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],n.type=="OK"){r.promiseResolver(n.data);return}break;case"GLOB_FILE_INFOS":if(n.type=="FILE_INFOS"){r.promiseResolver(n.data);return}break;case"GET_VERSION":if(n.type=="VERSION_STRING"){r.promiseResolver(n.data);return}break;case"GET_FEATURE_FLAGS":if(n.type=="FEATURE_FLAGS"){r.promiseResolver(n.data);return}break;case"GET_TABLE_NAMES":if(n.type=="TABLE_NAMES"){r.promiseResolver(n.data);return}break;case"TOKENIZE":if(n.type=="SCRIPT_TOKENS"){r.promiseResolver(n.data);return}break;case"COPY_FILE_TO_BUFFER":if(n.type=="FILE_BUFFER"){r.promiseResolver(n.data);return}break;case"EXPORT_FILE_STATISTICS":if(n.type=="FILE_STATISTICS"){r.promiseResolver(n.data);return}break;case"CONNECT":if(n.type=="CONNECTION_INFO"){r.promiseResolver(n.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(n.type=="QUERY_RESULT"){r.promiseResolver(n.data);return}break;case"SEND_PREPARED":if(n.type=="QUERY_RESULT_HEADER"){r.promiseResolver(n.data);return}break;case"START_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){r.promiseResolver(n.data);return}break;case"POLL_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){r.promiseResolver(n.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],n.type=="SUCCESS"){r.promiseResolver(n.data);return}break;case"FETCH_QUERY_RESULTS":if(n.type=="QUERY_RESULT_CHUNK"){r.promiseResolver(n.data);return}break;case"CREATE_PREPARED":if(n.type=="PREPARED_STATEMENT_ID"){r.promiseResolver(n.data);return}break}r.promiseRejecter(new Error("unexpected response type: ".concat(n.type.toString())))}onError(e){console.error(e),console.error("error in duckdb worker: ".concat(e.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}reset(){return ce(this,null,function*(){let e=new zt("RESET",null);return yield this.postTask(e)})}ping(){return ce(this,null,function*(){let e=new zt("PING",null);yield this.postTask(e)})}dropFile(e){return ce(this,null,function*(){let t=new zt("DROP_FILE",e);return yield this.postTask(t)})}dropFiles(){return ce(this,null,function*(){let e=new zt("DROP_FILES",null);return yield this.postTask(e)})}flushFiles(){return ce(this,null,function*(){let e=new zt("FLUSH_FILES",null);return yield this.postTask(e)})}instantiate(e,t=null,n=r=>{}){return ce(this,null,function*(){this._onInstantiationProgress.push(n);let r=new zt("INSTANTIATE",[e,t]);return yield this.postTask(r)})}getVersion(){return ce(this,null,function*(){let e=new zt("GET_VERSION",null);return yield this.postTask(e)})}getFeatureFlags(){return ce(this,null,function*(){let e=new zt("GET_FEATURE_FLAGS",null);return yield this.postTask(e)})}open(e){return ce(this,null,function*(){let t=new zt("OPEN",e);yield this.postTask(t)})}tokenize(e){return ce(this,null,function*(){let t=new zt("TOKENIZE",e);return yield this.postTask(t)})}connectInternal(){return ce(this,null,function*(){let e=new zt("CONNECT",null);return yield this.postTask(e)})}connect(){return ce(this,null,function*(){let e=yield this.connectInternal();return new PAe(this,e)})}disconnect(e){return ce(this,null,function*(){let t=new zt("DISCONNECT",e);yield this.postTask(t)})}runQuery(e,t){return ce(this,null,function*(){let n=new zt("RUN_QUERY",[e,t]);return yield this.postTask(n)})}startPendingQuery(e,t){return ce(this,null,function*(){let n=new zt("START_PENDING_QUERY",[e,t]);return yield this.postTask(n)})}pollPendingQuery(e){return ce(this,null,function*(){let t=new zt("POLL_PENDING_QUERY",e);return yield this.postTask(t)})}cancelPendingQuery(e){return ce(this,null,function*(){let t=new zt("CANCEL_PENDING_QUERY",e);return yield this.postTask(t)})}fetchQueryResults(e){return ce(this,null,function*(){let t=new zt("FETCH_QUERY_RESULTS",e);return yield this.postTask(t)})}getTableNames(e,t){return ce(this,null,function*(){let n=new zt("GET_TABLE_NAMES",[e,t]);return yield this.postTask(n)})}createPrepared(e,t){return ce(this,null,function*(){let n=new zt("CREATE_PREPARED",[e,t]);return yield this.postTask(n)})}closePrepared(e,t){return ce(this,null,function*(){let n=new zt("CLOSE_PREPARED",[e,t]);yield this.postTask(n)})}runPrepared(e,t,n){return ce(this,null,function*(){let r=new zt("RUN_PREPARED",[e,t,n]);return yield this.postTask(r)})}sendPrepared(e,t,n){return ce(this,null,function*(){let r=new zt("SEND_PREPARED",[e,t,n]);return yield this.postTask(r)})}globFiles(e){return ce(this,null,function*(){let t=new zt("GLOB_FILE_INFOS",e);return yield this.postTask(t)})}registerFileText(e,t){return ce(this,null,function*(){let n=BAe.encode(t);yield this.registerFileBuffer(e,n)})}registerFileURL(e,t,n,r){return ce(this,null,function*(){t===void 0&&(t=e);let i=new zt("REGISTER_FILE_URL",[e,t,n,r]);yield this.postTask(i)})}registerEmptyFileBuffer(e){return ce(this,null,function*(){})}registerFileBuffer(e,t){return ce(this,null,function*(){let n=new zt("REGISTER_FILE_BUFFER",[e,t]);yield this.postTask(n,[t.buffer])})}registerFileHandle(e,t,n,r){return ce(this,null,function*(){let i=new zt("REGISTER_FILE_HANDLE",[e,t,n,r]);yield this.postTask(i,[])})}collectFileStatistics(e,t){return ce(this,null,function*(){let n=new zt("COLLECT_FILE_STATISTICS",[e,t]);yield this.postTask(n,[])})}exportFileStatistics(e){return ce(this,null,function*(){let t=new zt("EXPORT_FILE_STATISTICS",e);return yield this.postTask(t,[])})}copyFileToBuffer(e){return ce(this,null,function*(){let t=new zt("COPY_FILE_TO_BUFFER",e);return yield this.postTask(t)})}copyFileToPath(e,t){return ce(this,null,function*(){let n=new zt("COPY_FILE_TO_PATH",[e,t]);yield this.postTask(n)})}insertArrowFromIPCStream(e,t,n){return ce(this,null,function*(){if(t.length==0)return;let r=new zt("INSERT_ARROW_FROM_IPC_STREAM",[e,t,n]);yield this.postTask(r,[t.buffer])})}insertCSVFromPath(e,t,n){return ce(this,null,function*(){if(n.columns!==void 0){let i=[];for(let o in n.columns){let s=n.columns[o];i.push(N5(o,s))}n.columnsFlat=i,delete n.columns}let r=new zt("IMPORT_CSV_FROM_PATH",[e,t,n]);yield this.postTask(r)})}insertJSONFromPath(e,t,n){return ce(this,null,function*(){if(n.columns!==void 0){let i=[];for(let o in n.columns){let s=n.columns[o];i.push(N5(o,s))}n.columnsFlat=i,delete n.columns}let r=new zt("IMPORT_JSON_FROM_PATH",[e,t,n]);yield this.postTask(r)})}};var VAe=()=>ce(void 0,null,function*(){return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11]))}),UAe=()=>ce(void 0,null,function*(){return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11]))}),jAe=()=>ce(void 0,null,function*(){return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))}),$Ae=()=>(e=>ce(void 0,null,function*(){try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch{return!1}}))(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),R5={name:"@duckdb/duckdb-wasm",version:"1.29.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^17.0.0"},devDependencies:{"@types/emscripten":"^1.39.10","@types/jasmine":"^5.1.4","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0",esbuild:"^0.20.2",eslint:"^8.57.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.34.0","fast-glob":"^3.3.2",jasmine:"^5.1.0","jasmine-core":"^5.1.2","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.11.0",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-firefox-launcher":"^2.1.3","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^4.0.0",nyc:"^15.1.0",prettier:"^3.2.5",puppeteer:"^22.8.0",rimraf:"^5.0.5",s3rver:"^3.7.1",typedoc:"^0.25.13",typescript:"^5.3.3","wasm-feature-detect":"^1.6.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/tests-*","!dist/duckdb-browser-mvp.worker.js.map","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-node-blocking.d.ts",import:"./dist/duckdb-node-blocking.mjs",require:"./dist/duckdb-node-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},zAe=R5.name,HAe=R5.version,P5=R5.version.split("."),b4t=P5[0],x4t=P5[1],w4t=P5[2],GAe=()=>typeof navigator>"u";function Kre(){let e="https://cdn.jsdelivr.net/npm/".concat(zAe,"@").concat(HAe,"/dist/");return{mvp:{mainModule:"".concat(e,"duckdb-mvp.wasm"),mainWorker:"".concat(e,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(e,"duckdb-eh.wasm"),mainWorker:"".concat(e,"duckdb-browser-eh.worker.js")}}}var T5=null,C5=null,M5=null,A5=null,O5=null;function qAe(){return ce(this,null,function*(){return T5==null&&(T5=typeof BigInt64Array<"u"),C5==null&&(C5=yield UAe()),M5==null&&(M5=yield $Ae()),A5==null&&(A5=yield jAe()),O5==null&&(O5=yield VAe()),{bigInt64Array:T5,crossOriginIsolated:GAe()||globalThis.crossOriginIsolated||!1,wasmExceptions:C5,wasmSIMD:A5,wasmThreads:M5,wasmBulkMemory:O5}})}function Jre(e){return ce(this,null,function*(){let t=yield qAe();if(t.wasmExceptions){if(t.wasmSIMD&&t.wasmThreads&&t.crossOriginIsolated&&e.coi)return{mainModule:e.coi.mainModule,mainWorker:e.coi.mainWorker,pthreadWorker:e.coi.pthreadWorker};if(e.eh)return{mainModule:e.eh.mainModule,mainWorker:e.eh.mainWorker,pthreadWorker:null}}return{mainModule:e.mvp.mainModule,mainWorker:e.mvp.mainWorker,pthreadWorker:null}})}var D4t=IAe(EAe());function WAe(){let e=new TextDecoder;return t=>(typeof SharedArrayBuffer<"u"&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),e.decode(t))}var S4t=WAe(),YAe=(e=>(e[e.BUFFER=0]="BUFFER",e[e.NODE_FS=1]="NODE_FS",e[e.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",e[e.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",e[e.HTTP=4]="HTTP",e[e.S3=5]="S3",e))(YAe||{});function XAe(e,t){return new Promise((n,r)=>{e.useUnsafe((i,o)=>ce(this,null,function*(){try{let s=yield i.runQuery(o,t);n(s)}catch(s){r(s)}}))})}function F0(e={}){let f=e,{duckdb:t,connection:n}=f,r=Y(f,["duckdb","connection"]),i=t,o=n,s;function a(){return s||(s=(i?Promise.resolve(i):QAe(r).then(h=>i=h)).then(h=>h.connect()).then(h=>o=h)),s}function c(){return ce(this,null,function*(){return i||(yield a()),i})}function u(){return ce(this,null,function*(){return o||(yield a()),o})}return{getDuckDB:c,getConnection:u,query:h=>ce(this,null,function*(){let{type:p,sql:m}=h,y=yield u(),v=yield XAe(y,m);return p==="exec"?void 0:p==="arrow"?xp(v):xp(v).toArray()})}}function QAe(){return ce(this,arguments,function*({log:e=!1}={}){let t=Kre(),n=yield Jre(t),r=URL.createObjectURL(new Blob([`importScripts("${n.mainWorker}");`],{type:"text/javascript"})),i=new Worker(r),o=e?new Zre:new Yre,s=new Qre(o,i);return yield s.instantiate(n.mainModule,n.pthreadWorker),URL.revokeObjectURL(r),s})}function Fw(e,t,{source:n,clients:r=n?new Set([n]):void 0}){let i=t!==void 0?HO(e,[Li(t)]):null;return{meta:{type:"point"},source:n,clients:r,value:t,predicate:i}}function nm(e,t,{source:n,clients:r=n?new Set([n]):void 0}){let i=null;if(t){let o=t.length&&e.length===1?[HO(e[0],t.map(s=>Li(s[0])))]:t.map(s=>ks(s.map((a,c)=>zO(e[c],Li(a)))));i=t.length===0?Li(!1):o.length>1?Np(o):o[0]}return{meta:{type:"point"},source:n,clients:r,value:t,predicate:i}}function Bw(e,t,{source:n,clients:r=n?new Set([n]):void 0,bin:i,scale:o,pixelSize:s=1}){let a=t!=null?zc(e,t):null;return{meta:{type:"interval",scales:o&&[o],bin:i,pixelSize:s},source:n,clients:r,value:t,predicate:a}}function L5(e){return typeof e?.getChild=="function"}function k5(){let e=new Set,t,n=new Promise(r=>t=r);return{pending(r){e.add(r)},ready(r){return e.delete(r),e.size===0},resolve(){n=new Promise(r=>{t(),t=r})},get promise(){return n}}}function Ku(e){return L5(e)?KAe(e):JAe(e)}function KAe(e){let{numRows:t}=e;return{numRows:t,columns:e.toColumns()}}function JAe(e){let t=e.length;if(typeof e[0]=="object"){let n=t?Object.keys(e[0]):[],r={};return n.length>0&&n.forEach(i=>{r[i]=e.map(o=>o[i])}),{numRows:t,columns:r}}else return{numRows:t,values:e}}var B0=Symbol("Fixed"),V0=Symbol("Transient"),zN=Symbol("Transform");var rOe=new Map([["style","style"],["width","width"],["height","height"],["margin","margin"],["marginLeft","marginLeft"],["marginRight","marginRight"],["marginTop","marginTop"],["marginBottom","marginBottom"],["align","align"],["aspectRatio","aspectRatio"],["axis","axis"],["inset","inset"],["grid","grid"],["label","label"],["padding","padding"],["xScale","x.type"],["xDomain","x.domain"],["xRange","x.range"],["xNice","x.nice"],["xInset","x.inset"],["xInsetLeft","x.insetLeft"],["xInsetRight","x.insetRight"],["xClamp","x.clamp"],["xRound","x.round"],["xAlign","x.align"],["xPadding","x.padding"],["xPaddingInner","x.paddingInner"],["xPaddingOuter","x.paddingOuter"],["xAxis","x.axis"],["xTicks","x.ticks"],["xTickSize","x.tickSize"],["xTickSpacing","x.tickSpacing"],["xTickPadding","x.tickPadding"],["xTickFormat","x.tickFormat"],["xTickRotate","x.tickRotate"],["xGrid","x.grid"],["xLine","x.line"],["xLabel","x.label"],["xLabelAnchor","x.labelAnchor"],["xLabelArrow","x.labelArrow"],["xLabelOffset","x.labelOffset"],["xFontVariant","x.fontVariant"],["xAriaLabel","x.ariaLabel"],["xAriaDescription","x.ariaDescription"],["xPercent","x.percent"],["xReverse","x.reverse"],["xZero","x.zero"],["xBase","x.base"],["xExponent","x.exponent"],["xConstant","x.constant"],["yScale","y.type"],["yDomain","y.domain"],["yRange","y.range"],["yNice","y.nice"],["yInset","y.inset"],["yInsetTop","y.insetTop"],["yInsetBottom","y.insetBottom"],["yClamp","y.clamp"],["yRound","y.round"],["yAlign","y.align"],["yPadding","y.padding"],["yPaddingInner","y.paddingInner"],["yPaddingOuter","y.paddingOuter"],["yAxis","y.axis"],["yTicks","y.ticks"],["yTickSize","y.tickSize"],["yTickSpacing","y.tickSpacing"],["yTickPadding","y.tickPadding"],["yTickFormat","y.tickFormat"],["yTickRotate","y.tickRotate"],["yGrid","y.grid"],["yLine","y.line"],["yLabel","y.label"],["yLabelAnchor","y.labelAnchor"],["yLabelArrow","y.labelArrow"],["yLabelOffset","y.labelOffset"],["yFontVariant","y.fontVariant"],["yAriaLabel","y.ariaLabel"],["yAriaDescription","y.ariaDescription"],["yPercent","y.percent"],["yReverse","y.reverse"],["yZero","y.zero"],["yBase","y.base"],["yExponent","y.exponent"],["yConstant","y.constant"],["facetMargin","facet.margin"],["facetMarginTop","facet.marginTop"],["facetMarginBottom","facet.marginBottom"],["facetMarginLeft","facet.marginLeft"],["facetMarginRight","facet.marginRight"],["facetGrid","facet.grid"],["facetLabel","facet.label"],["fxDomain","fx.domain"],["fxRange","fx.range"],["fxInset","fx.inset"],["fxInsetLeft","fx.insetLeft"],["fxInsetRight","fx.insetRight"],["fxRound","fx.round"],["fxAlign","fx.align"],["fxPadding","fx.padding"],["fxPaddingInner","fx.paddingInner"],["fxPaddingOuter","fx.paddingOuter"],["fxAxis","fx.axis"],["fxTicks","fx.ticks"],["fxTickSize","fx.tickSize"],["fxTickSpacing","fx.tickSpacing"],["fxTickPadding","fx.tickPadding"],["fxTickFormat","fx.tickFormat"],["fxTickRotate","fx.tickRotate"],["fxGrid","fx.grid"],["fxLine","fx.line"],["fxLabel","fx.label"],["fxLabelAnchor","fx.labelAnchor"],["fxLabelOffset","fx.labelOffset"],["fxFontVariant","fx.fontVariant"],["fxAriaLabel","fx.ariaLabel"],["fxAriaDescription","fx.ariaDescription"],["fxReverse","fx.reverse"],["fyDomain","fy.domain"],["fyRange","fy.range"],["fyInset","fy,inset"],["fyInsetTop","fy.insetTop"],["fyInsetBottom","fy.insetBottom"],["fyRound","fy.round"],["fyAlign","fy.align"],["fyPadding","fy.padding"],["fyPaddingInner","fy.paddingInner"],["fyPaddingOuter","fy.paddingOuter"],["fyAxis","fy.axis"],["fyTicks","fy.ticks"],["fyTickSize","fy.tickSize"],["fyTickSpacing","fy.tickSpacing"],["fyTickPadding","fy.tickPadding"],["fyTickFormat","fy.tickFormat"],["fyTickRotate","fy.tickRotate"],["fyGrid","fy.grid"],["fyLine","fy.line"],["fyLabel","fy.label"],["fyLabelAnchor","fy.labelAnchor"],["fyLabelOffset","fy.labelOffset"],["fyFontVariant","fy.fontVariant"],["fyAriaLabel","fy.ariaLabel"],["fyAriaDescription","fy.ariaDescription"],["fyReverse","fy.reverse"],["colorScale","color.type"],["colorDomain","color.domain"],["colorRange","color.range"],["colorClamp","color.clamp"],["colorN","color.n"],["colorNice","color.nice"],["colorScheme","color.scheme"],["colorInterpolate","color.interpolate"],["colorPivot","color.pivot"],["colorSymmetric","color.symmetric"],["colorLabel","color.label"],["colorPercent","color.percent"],["colorReverse","color.reverse"],["colorZero","color.zero"],["colorTickFormat","color.tickFormat"],["colorBase","color.base"],["colorExponent","color.exponent"],["colorConstant","color.constant"],["opacityScale","opacity.type"],["opacityDomain","opacity.domain"],["opacityRange","opacity.range"],["opacityClamp","opacity.clamp"],["opacityNice","opacity.nice"],["opacityLabel","opacity.label"],["opacityPercent","opacity.percent"],["opacityReverse","opacity.reverse"],["opacityZero","opacity.zero"],["opacityTickFormat","opacity.tickFormat"],["opacityBase","opacity.base"],["opacityExponent","opacity.exponent"],["opacityConstant","opacity.constant"],["symbolScale","symbol.type"],["symbolDomain","symbol.domain"],["symbolRange","symbol.range"],["rScale","r.type"],["rDomain","r.domain"],["rRange","r.range"],["rClamp","r.clamp"],["rNice","r.nice"],["rLabel","r.label"],["rPercent","r.percent"],["rZero","r.zero"],["rBase","r.base"],["rExponent","r.exponent"],["rConstant","r.constant"],["lengthScale","length.type"],["lengthDomain","length.domain"],["lengthRange","length.range"],["lengthClamp","length.clamp"],["lengthNice","length.nice"],["lengthPercent","length.percent"],["lengthZero","length.zero"],["lengthBase","length.base"],["lengthExponent","length.exponent"],["lengthConstant","length.constant"],["projectionType","projection.type"],["projectionParallels","projection.parallels"],["projectionPrecision","projection.precision"],["projectionRotate","projection.rotate"],["projectionDomain","projection.domain"],["projectionInset","projection.inset"],["projectionInsetLeft","projection.insetLeft"],["projectionInsetRight","projection.insetRight"],["projectionInsetTop","projection.insetTop"],["projectionInsetBottom","projection.insetBottom"],["projectionClip","projection.clip"]]);function iOe(e,t,n){for(let r=0;r<t.length;++r){let i=t[r];r===t.length-1?e[i]=n:e=e[i]||(e[i]={})}}function eie(e,t,n){for(let r in e){let i=rOe.get(r);if(i==null)throw new Error(`Unrecognized plot attribute: ${r}`);let o=e[r];typeof o=="symbol"?n.push(r):o!==void 0&&iOe(t,i.split("."),o)}}var oOe=new Set(["frame","hexgrid","sphere","graticule"]),sOe=new Map([["first",Z1],["last",X1],["maxX",bA],["maxY",xA],["minX",_A],["minY",vA],["nearest",Rc],["nearestX",Or],["nearestXY",hu]]);function tie(e){return ce(this,null,function*(){let t={marks:[]},n=[],{attributes:r,marks:i}=e;eie(r,t,n);let o=[];for(let c of i)for(let{type:u,data:f,options:h}of c.plotSpecs()){let a=h,{select:p}=a,m=Y(a,["select"]),y=sOe.get(p)?.(m)??m,v=oOe.has(u)?[y]:[f,y];t.marks.push(hd[u](...v)),o.push(c.index)}cOe(t,e);let s=Pr(t);uOe(s,o),aOe(e,s,r,n);for(let c of e.interactors)yield c.init(s);return s})}function aOe(e,t,n,r){r.forEach(i=>{let o=n[i];if(o===B0){if(!i.endsWith("Domain"))throw new Error(`Unsupported fixed attribute: ${i}`);let s=i.slice(0,-6),a=t.scale(s);a?.domain&&e.setAttribute(i,n[`${s}Reverse`]?a.domain.slice().reverse():a.domain)}else throw new Error(`Unrecognized symbol: ${o}`)})}function cOe(e,t){let{marks:n}=t;HN("x",e,n),HN("y",e,n),HN("fx",e,n),HN("fy",e,n)}function HN(e,t,n){let r=t[e]||{};if(r.axis===null||r.label!==void 0)return;let i=n.map(s=>s.channelField(e)?.field);if(i.every(s=>s==null))return;let o;for(let s=0;s<i.length;++s){let a=nie(i[s]);a!==void 0&&(o===void 0?o=a:o!==a&&(o=void 0))}o!==void 0&&(t[e]=V(E({},r),{label:o}))}function nie(e){if(e){switch(e.type){case"COLUMN_REF":return e.column;case"CAST":return nie(e.expr);case"FUNCTION":if(e.name==="make_date")return"date";break}return lOe(e)}}function lOe(e){let t=`${e}`.replaceAll('"',"").replaceAll("(*)","()");return t.endsWith("()")?t.slice(0,-2):t}function uOe(e,t){let n=-1;for(let r of e.children){let i=r.getAttribute("aria-label")||"";r.nodeName==="style"||i.includes("-axis")||i.includes("-grid")||r.setAttribute("data-index",t[++n])}}var fOe={width:640,marginLeft:40,marginRight:20,marginTop:20,marginBottom:30},Vw=class{constructor(t){this.attributes=E({},fOe),this.listeners=null,this.interactors=[],this.legends=[],this.marks=[],this.markset=null,this.element=t||document.createElement("div"),this.element.setAttribute("class","plot"),this.element.style.display="flex",this.element.value=this,this.params=new Map,this.synch=k5()}margins(){return{left:this.getAttribute("marginLeft"),top:this.getAttribute("marginTop"),bottom:this.getAttribute("marginBottom"),right:this.getAttribute("marginRight")}}innerWidth(){let{left:t,right:n}=this.margins();return this.getAttribute("width")-t-n}innerHeight(t=400){let{top:n,bottom:r}=this.margins(),i=this.getAttribute("height");return i==null&&(i=dOe(this,n,r)||t,this.setAttribute("height",i,{silent:!0})),i-n-r}pending(t){this.synch.pending(t)}update(t){return this.synch.ready(t)&&!this.pendingRender&&(this.pendingRender=!0,requestAnimationFrame(()=>this.render())),this.synch.promise}render(){return ce(this,null,function*(){this.pendingRender=!1;let t=yield tie(this),n=this.legends.flatMap(({legend:r,include:i})=>{let o=r.init(t);return i?o:[]});this.element.replaceChildren(t,...n),this.synch.resolve()})}getAttribute(t){return this.attributes[t]}setAttribute(t,n,r){return jx(this.attributes[t],n)?(n===void 0?delete this.attributes[t]:this.attributes[t]=n,r?.silent||this.listeners?.get(t)?.forEach(i=>i(t,n)),!0):!1}addAttributeListener(t,n){let r=this.listeners||(this.listeners=new Map);return r.has(t)||r.set(t,new Set),r.get(t).add(n),this}removeAttributeListener(t,n){return this.listeners?.get(t)?.delete(n)}addParams(t,n){let{params:r}=this;for(let i of n)r.has(i)?r.get(i).push(t):(r.set(i,[t]),i.addEventListener("value",()=>Promise.allSettled(r.get(i).map(o=>o.initialize()))))}addMark(t){return t.setPlot(this,this.marks.length),this.marks.push(t),this.markset=null,this}get markSet(){return this.markset||(this.markset=new Set(this.marks))}addInteractor(t){return this.interactors.push(t),this}addLegend(t,n=!0){t.setPlot(this),this.legends.push({legend:t,include:n})}};function dOe(e,t,n){let r=e.getAttribute("aspectRatio");if(r==null)return;let i=e.getAttribute("xDomain"),o=e.getAttribute("yDomain");if(!i||!o)return;let s=Math.abs(i[1]-i[0]);return Math.abs(o[1]-o[0])*e.innerWidth()/(r*s)+t+n}function F5(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),e==="none"||e==="currentcolor"||e.startsWith("url(")&&e.endsWith(")")||e.startsWith("var(")&&e.endsWith(")")||Vo(e)!==null)}var hOe=new Set(["offset","order","reverse","sort","label","anchor","curve","tension","marker","markerStart","markerMid","markerEnd","textAnchor","lineAnchor","lineHeight","textOverflow","monospace","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","frameAnchor","strokeLinejoin","strokeLinecap","strokeMiterlimit","strokeDasharray","strokeDashoffset","mixBlendMode","shapeRendering","imageRendering","preserveAspectRatio","interpolate","crossOrigin","paintOrder","pointerEvents","target","select"]);function rie(e){return hOe.has(e)}var pOe=new Set(["asterisk","circle","cross","diamond","diamond2","hexagon","plus","square","square2","star","times","triangle","triangle2","wye"]);function iie(e){return pOe.has(`${e}`.toLowerCase())}var oie=e=>e==="stroke"||e==="fill",mOe=e=>/opacity$/i.test(e),gOe=e=>e==="symbol",yOe=(e,t)=>e!=="sort"&&e!=="tip"&&t!=null&&!Array.isArray(t),B5=(e,t)=>({channel:e,field:t,as:vd(t)&&!l8(t)?t.column:e}),V5=(e,t)=>({channel:e,value:t}),U5=e=>Array.isArray(e),is=class extends Bc{constructor(t,n,r,i={}){super(n?.options?.filterBy),this.type=t,this.reqs=i,this.source=n;let o=this.channels=[],s=this.detail=new Set,a=this.params=new Set;U5(n)?this.data=Ku(n):Io(n?.table)&&a.add(n.table);let c=(u,f)=>{let h=typeof f;if(u==="channels")for(let p in f)s.add(p),c(p,f[p]);else if(h==="function"&&f[zN]){let p=f(this,u);for(let m in p)c(m,p[m])}else if(h==="string")rie(u)||oie(u)&&F5(f)||gOe(u)&&iie(f)?o.push(V5(u,f)):o.push(B5(u,a0(f)));else if(va(f)){let p=V5(u,f.value);o.push(p),f.addEventListener("value",m=>(p.value=m,this.update()))}else ti(f)?(y8(f).forEach(p=>a.add(p)),o.push(B5(u,f))):h==="object"&&yOe(u,f)?o.push(B5(u,f)):f!==void 0&&o.push(V5(u,f))};for(let u in r)c(u,r[u])}setPlot(t,n){this.plot=t,this.index=n,t.addParams(this,this.params),this.source?.table&&this.queryPending()}sourceTable(){let t=this.source?.table;return t?Io(t)?t.value:t:null}hasOwnData(){return this.source==null||U5(this.source)}hasFieldInfo(){return!!this._fieldInfo}channel(t){return this.channels.find(n=>n.channel===t)}channelField(t,{exact:n=!1}={}){let r=n?this.channel(t):this.channels.find(i=>i.channel.startsWith(t));return r?.field?r:null}fields(){if(this.hasOwnData())return null;let{channels:t,reqs:n}=this,r=new Map;for(let{channel:o,field:s}of t){if(!s)continue;let a=s.stats?.stats||[],c=s.stats?.column??s,u=r.get(c)??r.set(c,new Set).get(c);a.forEach(f=>u.add(f)),n[o]?.forEach(f=>u.add(f))}let i=this.sourceTable();return Array.from(r,([o,s])=>({table:i,column:o,stats:Array.from(s)}))}fieldInfo(t){let n=Object.fromEntries(t.map(r=>[r.column,r]));for(let r of this.channels){let{field:i}=r;i&&Object.assign(r,n[i.stats?.column??i])}return this._fieldInfo=!0,this}query(t=[]){return this.hasOwnData()?null:j5(this.channels,this.sourceTable()).where(t)}queryPending(){return this.plot.pending(this),this}queryResult(t){return this.data=Ku(t),this}update(){return this.plot.update(this)}plotSpecs(){let{type:t,data:n,detail:r,channels:i}=this;return sie(t,r,i,n)}};function Uw(e,t){let n=t?.[e.as]??e.as;return Object.hasOwn(e,"value")?e.value:oie(e.channel)?{value:n,scale:"color"}:mOe(e.channel)?{value:n,scale:"opacity"}:n}function j5(e,t,n=[]){let r=rn.from({source:t}),i=new Set,o=!1;for(let s of e){let{channel:a,field:c,as:u}=s;if(!n.includes(a)){if(a==="orderby")r.orderby(s.value);else if(c){if(Qo(c))o=!0;else{if(i.has(u))continue;i.add(u)}r.select({[u]:c})}}}return o&&r.groupby(Array.from(i)),r}function sie(e,t,n,r,i={}){let{numRows:o,values:s,columns:a}=r??{},c={};for(let h of n){let p=t.has(h.channel)?c:i;p[h.channel]=Uw(h,a)}return t.size&&(i.channels=c),[{type:e,data:s??(r?{length:o}:null),options:i}]}function GN(e,t){let{plot:n}=e,r=n.getAttribute(`${t}Scale`);if(!r){let{type:o}=e.channelField(t);r=o==="date"?"time":"linear"}let i={type:r};switch(r){case"log":i.base=n.getAttribute(`${t}Base`)??10;break;case"pow":i.exponent=n.getAttribute(`${t}Exponent`)??1;break;case"symlog":i.constant=n.getAttribute(`${t}Constant`)??1;break}return Bx(i)}function U0(e,t,n,r,i=1,o){let{field:s}=e.channelField(t);o=o??s;let{type:a,apply:c,sqlApply:u}=GN(e,t),f=!!e.plot.getAttribute(`${t}Reverse`),[h,p]=r.map(v=>c(v)),m=u(o),y=a==="time"||a==="utc"?m:o;return[_8(m,h,p,n-i,f),y]}var aie={x:["min","max"]},cie={y:["min","max"]},lie=E(E({},aie),cie);function uie(e,t){if(!e)return;let n,r;return[e].flat().forEach(i=>Gc(i,o=>{if(o instanceof Tp&&`${o.expr}`===t){let s=(o.extent??[]).map(a=>a?.value??a);(n==null||s[0]<n)&&(n=s[0]),(r==null||s[1]>r)&&(r=s[1])}})),n!=null&&r!=null&&n!==r?[n,r]:void 0}var jw=class extends is{constructor(t,n,r){let i=t.endsWith("X")?"y":t.endsWith("Y")?"x":null,o=i?{[i]:["count","min","max"]}:void 0;super(t,n,r,o),this.dim=i}query(t=[]){let{plot:n,dim:r,source:i}=this,o=i.options?.optimize,s=super.query(t);if(!r)return s;let a=r==="x"?"y":"x",c=this.channelField(a,{exact:!0})?.as,{field:u,as:f,type:h,count:p,min:m,max:y}=this.channelField(r),v=h==="date"||h==="number",b=r==="x"?n.innerWidth():n.innerHeight();if(o??=p/b>10,o&&v&&c){let[x,w]=uie(t,u)||[m,y],[D]=U0(this,r,b,[x,w],1,f),I=s._select.map(A=>A.alias).filter(A=>A!==f&&A!==c);return b8(s,D,f,c,I)}else return s.orderby(u)}};function $w(e){e.tagName==="a"&&(e=e.children[0]);let t=e.__data__;return Array.isArray(t)?t[0]:t}function die(e){let t=e.toLowerCase(),n=e.length,r="";for(let i=0;i<n;++i)r+=(e[i]!==t[i]?"-":"")+t[i];return r}function $0(e){let t={};for(let n in e)t[die(n)]=e[n];return t}function DOe(e){let{channels:t}=e,n=new Set,r=!1,i=!1;for(let o of t){let{channel:s,field:a,as:c}=o;if(s==="orderby")r=!0;else if(a)if(Qo(a))i=!0;else{if(n.has(c))continue;n.add(c)}}return!r&&i&&n.size&&e.channels.push({channel:"orderby",value:Array.from(n)}),e}var zw=class{constructor(t,{selection:n,channels:r={}}){this.mark=DOe(t),this.selection=n;let i=Object.entries($0(r));this.channels=i.length?i:[["opacity",.2]],this.selection.addEventListener("value",K1(()=>this.update()))}init(t){this.svg=t;let n=this.values=[],i=`g[data-index="${this.mark.index}"]`,o=`${i} > *:not(g), ${i} > g > *`,s=this.nodes=t.querySelectorAll(o),{channels:a}=this;for(let c=0;c<s.length;++c){let u=s[c];n.push(a.map(f=>u.getAttribute(f[0])))}return this.update()}update(){return ce(this,null,function*(){let{svg:t,nodes:n,channels:r,values:i,mark:o,selection:s}=this;if(!t)return;let a=yield SOe(o,s);for(let c=0;c<n.length;++c){let u=n[c],f=i[c],h=a($w(u));for(let p=0;p<r.length;++p){let[m,y]=r[p];u.setAttribute(m,h?f[p]:y)}}})}};function SOe(e,t){return ce(this,null,function*(){let n=t?.predicate(e);if(!n||n.length===0)return()=>!0;let r=e.filterBy?.predicate(e,!0),i={__:ks(n)},o=e.query(r);(o.queries||[o]).forEach(c=>{c._groupby.length?c.select(i):c.setSelect(i)});let s=yield e.coordinator.query(o),a=s.getChild?.("__");return s.numRows||s.length?a?c=>a.at(c):c=>s[c].__:()=>!1})}function $5(){let e=this,t=e.getScreenCTM,n;e.getScreenCTM=()=>e.isConnected?n=t.call(e):n}function hie(e){let t=e.on,n=!0;function r(i){n=!1,i(),n=!0}return e.reset=(...i)=>{r(()=>e.clear(...i))},e.moveSilent=(...i)=>{r(()=>e.move(...i))},e.on=(...i)=>{if(i.length>1&&i[1]){let o=i[1];i[1]=(...s)=>n&&o(...s)}return t(...i)},e}function pie(){return hie(dB())}function mie(){return hie(hB())}function z5(e,t,n,r,i){let o=ln(t??e).append("g").attr("class",i),s=e.scale("fx"),a=e.scale("fy");if(s||a){let c=s?.domain.map(f=>s.apply(f)-n),u=a?.domain.map(f=>a.apply(f)-r);if(c&&u)for(let f=0;f<c.length;++f)for(let h=0;h<u.length;++h)o.append("g").attr("transform",`translate(${c[f]}, ${u[h]})`);else if(c)for(let f=0;f<c.length;++f)o.append("g").attr("transform",`translate(${c[f]}, 0})`);else if(u)for(let f=0;f<u.length;++f)o.append("g").attr("transform",`translate(0, ${u[f]})`);o=o.selectAll("g")}return o.each($5)}function H5(e,t){return e===t||e&&t&&Math.abs(e[0]-t[0])<1e-12&&Math.abs(e[1]-t[1])<1e-12||!1}function IOe(e){if(ti(e)){if(e.type==="COLUMN_REF")return e.column;if(e.type==="AGGREGATE")return e.args[0]??e}return e}function z0(e,t){return IOe(e.channelField(t)?.field)}function G5(e,t,n=1){return t.invert(n*Math.floor(e/n))}var rm=class{constructor(t,{channel:n,selection:r,field:i=void 0,pixelSize:o=1,peers:s=!0,brush:a}){this.mark=t,this.channel=n,this.pixelSize=o||1,this.selection=r,this.peers=s,this.field=i||z0(t,n),this.style=a&&$0(a),this.brush=n==="y"?mie():pie(),this.brush.on("brush end",({selection:c})=>this.publish(c))}reset(){this.value=void 0,this.g&&this.brush.reset(this.g)}activate(){this.selection.activate(this.clause(this.value||[0,1]))}publish(t){let n;t&&(n=t.map(r=>G5(r,this.scale,this.pixelSize)).sort((r,i)=>r-i)),H5(n,this.value)||(this.value=n,this.g.call(this.brush.moveSilent,t),this.selection.update(this.clause(n)))}clause(t){let{mark:n,pixelSize:r,field:i,scale:o}=this;return Bw(i,t,{source:this,clients:this.peers?n.plot.markSet:new Set().add(n),scale:o,pixelSize:r})}init(t,n){let{brush:r,channel:i,style:o}=this;this.scale=t.scale(i);let s=this.value?.map(this.scale.apply).sort(_t),a=t.scale("x").range,c=t.scale("y").range;if(r.extent([[$t(a),$t(c)],[Ft(a),Ft(c)]]),this.g=z5(t,n,$t(a),$t(c),`interval-${i}`).call(r).call(r.moveSilent,s),o){let u=this.g.selectAll("rect.selection");for(let f in o)u.attr(f,o[f])}t.addEventListener("pointerenter",u=>{u.buttons||this.activate()})}};var Hw=class{constructor(t,{selection:n,pointer:r,channels:i,fields:o,maxRadius:s=40}){this.mark=t,this.selection=n,this.clients=new Set().add(t),this.pointer=r,this.channels=i||(r==="x"?["x"]:r==="y"?["y"]:["x","y"]),this.fields=o||this.channels.map(a=>z0(t,[a])),this.maxRadius=s,this.valueIndex=-1}clause(t){let{clients:n,fields:r}=this,i={source:this,clients:n};return r.length>1?nm(r,t&&[t],i):Fw(r[0],t?.[0],i)}init(t){let n=this,{mark:r,channels:i,selection:o,maxRadius:s}=this,{data:{columns:a}}=r,c=i.map(v=>r.channelField(v).as),u=!f0(o),[f,h]=TOe(t,r),p=this.pointer==="y"?.01:1,m=this.pointer==="x"?.01:1,y=ln(t);y.on("pointerenter pointerdown pointermove",function(v){let[b,x]=Cf(v,this),w=COe(f,h,b,x,p,m,s);if(w!==this.valueIndex){this.valueIndex=w;let D=w<0?void 0:c.map(I=>a[I][w]);o.update(u?!D||D.length>1?D:D[0]:n.clause(D))}}),!u&&(y.on("pointerleave",()=>{o.update(n.clause(void 0))}),t.addEventListener("pointerenter",v=>{if(!v.buttons){let b=this.channels.map(()=>0);o.activate(this.clause(b))}}))}};function TOe(e,t){let{data:{columns:n}}=t,r=h=>n[t.channelField(h)?.as],i=h=>e.scale(h),o=e.scale("x"),s=e.scale("y"),a=i("fx")?.apply,c=i("fy")?.apply,u=Array.from(r("x"),o.apply),f=Array.from(r("y"),s.apply);if(a){let h=$t(o.range),p=r("fx");for(let m=0;m<p.length;++m)u[m]+=a(p[m])-h}if(c){let h=$t(s.range),p=r("fy");for(let m=0;m<p.length;++m)f[m]+=c(p[m])-h}return[u,f]}function COe(e,t,n,r,i,o,s){let a=s*s,c=-1;for(let u=0;u<e.length;++u){let f=i*(e[u]-n),h=o*(t[u]-r),p=f*f+h*h;p<=a&&(a=p,c=u)}return c}function q5(e,t){return e==null||t==null?e!=null||t!=null:e.length!==t.length||e.some((n,r)=>ZN(n,t[r]))}function ZN(e,t){let n=e.length;if(t.length!==n)return!0;for(let r=0;r<n;++r)if(e[r]!==t[r])return!0;return!1}var H0=class{constructor(t,{selection:n,channels:r,peers:i=!0}){this.value=null,this.mark=t,this.selection=n,this.peers=i;let o=this.fields=[],s=this.as=[];r.forEach(a=>{let c=a==="color"?["color","fill","stroke"]:a==="x"?["x","x1","x2"]:a==="y"?["y","y1","y2"]:[a];for(let u=0;u<c.length;++u){let f=t.channelField(c[u],{exact:!0});if(f){o.push(f.field?.basis||f.field),s.push(f.as);return}}throw new Error(`Missing channel: ${a}`)})}clause(t){let{fields:n,mark:r}=this;return nm(n,t,{source:this,clients:this.peers?r.plot.markSet:new Set().add(r)})}init(t,n,r){let{mark:i,as:o,selection:s}=this,{data:{columns:a={}}={}}=i;r??=u=>o.map(f=>a[f][$w(u)]),n??=`[data-index="${i.index}"]`;let c=Array.from(t.querySelectorAll(n));t.addEventListener("pointerdown",u=>{let f=s.single?s.value:this.value,h=u.target,p=null;if(MOe(c,h)){let m=r(h);(u.shiftKey||u.metaKey)&&f?.length?(p=f.filter(y=>ZN(y,m)),p.length===f.length&&p.push(m)):f?.length===1&&!ZN(f[0],m)?p=null:p=[m]}this.value=p,q5(f,p)&&s.update(this.clause(p))}),t.addEventListener("pointerenter",u=>{u.buttons||this.selection.activate(this.clause([this.fields.map(()=>0)]))})}};function MOe(e,t){return e.some(n=>n.contains(t))}var yie=":scope > div, :scope > span",XN="swatch",gie="ramp",G0=class{constructor(t,n){let s=n,{as:r,field:i}=s,o=Y(s,["as","field"]);this.channel=t,this.options=o,this.type=null,this.handler=null,this.selection=r,this.field=i,this.legend=null,this.element=document.createElement("div"),this.element.setAttribute("class","legend"),Object.defineProperty(this.element,"value",{value:this})}setPlot(t){this.plot=t}init(t){let n=AOe(this,t);return this.element.replaceChildren(n),this.element}update(){if(!this.legend)return;let{selection:t,handler:n}=this,{single:r,value:i}=t,o=r?i:t.valueFor(n),s=o&&o.length?new Set(o.map(c=>c[0])):null,a=this.legend.querySelectorAll(yie);for(let c of a){let u=s?s.has(c.__data__):!0;c.style.opacity=u?1:.2}}};function AOe(e,t){let{channel:n,plot:r,selection:i}=e,o=t.scale(n),s=o.type==="ordinal"?XN:gie,a=E({label:r.getAttribute(`${n}Label`)??null},e.options),c=s===XN?a:a.label?E({tickSize:2},a):E({tickSize:2,marginTop:1,height:29},a),u=t.legend(n,c);e.legend=u;let f=!!i;if(f&&s===gie){let h=c.width??240,p=POe(o,h);p?u.scale=function(m){return m==="x"?{range:[0,h]}:m==="y"?{range:[-10,0]}:m===n?p:void 0}:f=!1}if(f){let h=OOe(e,s);s===XN?(h.init(u,yie,p=>[p.__data__]),e.update()):h.init(u,u.querySelector("g:last-of-type"))}return u}function OOe(e,t){let{channel:n,handler:r,selection:i}=e;if(r)return r;let o=NOe(e);return t===XN?(e.handler=new H0(o,{selection:i,channels:[n],peers:!1}),i.addEventListener("value",()=>e.update())):e.handler=new rm(o,{selection:i,channel:n,brush:{fill:"none",stroke:"currentColor"},peers:!1}),e.handler}function NOe(e){let{channel:t,plot:n}=e,r=e.field??ROe(n.marks,t)??"value";if(r){let i={field:r};return{plot:n,channelField:o=>t===o?i:void 0}}}function ROe(e,t){let n=t==="color"?["fill","stroke"]:t==="opacity"?["opacity","fillOpacity","strokeOpacity"]:null;if(n==null)return null;for(let r=e.length-1;r>-1;--r)for(let i of n){let o=e[r].channelField(i,{exact:!0});if(o)return o.field}return null}function POe(e,t){let c=e,{apply:n,invert:r,interpolate:i}=c,o=Y(c,["apply","invert","interpolate"]),s=e.type;s.startsWith("diverging-")&&(s=s.slice(11));let a;switch(s){case"log":case"pow":case"sqrt":case"symlog":a=s;break;case"threshold":case"quantize":case"quantile":return console.warn(`Legends do not yet support ${s} scales.`),null;default:a="linear"}return u1({x:V(E({},o),{type:a,range:[0,t]})})}var LOe="year",_ie="month",vie="day",QN="hour",KN="minute",JN="second";var Gw=1e3,qw=Gw*60,Ww=qw*60,eR=Ww*24,kOe=eR*7,bie=eR*30,FOe=eR*365,pUt=[[JN,1,Gw],[JN,5,5*Gw],[JN,15,15*Gw],[JN,30,30*Gw],[KN,1,qw],[KN,5,5*qw],[KN,15,15*qw],[KN,30,30*qw],[QN,1,Ww],[QN,3,3*Ww],[QN,6,6*Ww],[QN,12,12*Ww],[vie,1,eR],[vie,7,kOe],[_ie,1,bie],[_ie,3,3*bie],[LOe,1,FOe]];var xie=Die(e=>{let t=Y5(e);return n=>n==null?"":typeof n=="number"?t(n):n instanceof Date?wie(n):`${n}`}),Y5=Die(e=>t=>t===0?"0":t.toLocaleString(e)),pjt=xie(),mjt=Y5();function wie(e){return Jg(e,"Invalid Date")}function Die(e){let t=null,n;return(r="en")=>r===t?n:n=e(t=r)}function tR(e,...t){let n=e?.context?.coordinator??oo();for(let r of t)n.connect(r)}function n2e({direction:e="vertical",wrap:t=!1},n){let r=document.createElement("div");return r.style.display="flex",r.style.flexDirection=e==="vertical"?"column":"row",r.style.flexWrap=t?t===!0?"wrap":t:"nowrap",r.style.justifyContent="flex-start",r.style.alignItems="flex-start",n.forEach(i=>r.appendChild(i)),Object.assign(r,{value:{element:r}}),r}function Z5(...e){return n2e({direction:"vertical"},e.flat())}var nR=class extends Map{request(t,n){if(this.has(t))n(this.get(t));else{let r=this.waiting||(this.waiting=new Map),i=r.get(t)||[];r.set(t,i.concat(n))}}set(t,n){this.has(t)&&console.warn(`Overwriting named plot "${t}".`);let{waiting:r}=this;return r?.has(t)&&(r.get(t).forEach(i=>i(n)),r.delete(t)),super.set(t,n)}clear(){return this.waiting?.clear(),super.clear()}},X5=new nR;function Q5(e,t,n){(e?.context?.namedPlots??X5).request(t,n)}function Sie(e,t,n){(e?.context?.namedPlots??X5).set(t,n)}function rR(e){return t=>Sie(this,e,t)}function r2e(e,t,n){Io(n)?(n.addEventListener("value",r=>{e.setAttribute(t,r),e.update()}),n.value!==void 0&&e.setAttribute(t,n.value)):e.setAttribute(t,n)}function i2e(e,t){return n=>{r2e(n,e,t)}}var z=e=>t=>i2e(e,t),o2e=z("style"),s2e=z("width"),iR=z("height"),a2e=z("marginLeft"),c2e=z("marginRight"),l2e=z("marginTop"),u2e=z("marginBottom"),f2e=z("align"),d2e=z("aspectRatio"),h2e=z("axis"),p2e=z("inset"),m2e=z("grid"),g2e=z("clip"),y2e=z("padding"),_2e=z("ariaLabel"),v2e=z("ariaDescription"),b2e=z("xScale"),x2e=z("xDomain"),w2e=z("xRange"),D2e=z("xNice"),S2e=z("xInset"),I2e=z("xInsetLeft"),E2e=z("xInsetRight"),T2e=z("xClamp"),C2e=z("xRound"),M2e=z("xAlign"),A2e=z("xPadding"),O2e=z("xPaddingInner"),N2e=z("xPaddingOuter"),R2e=z("xAxis"),P2e=z("xTicks"),L2e=z("xTickSize"),k2e=z("xTickSpacing"),F2e=z("xTickPadding"),B2e=z("xTickFormat"),V2e=z("xTickRotate"),U2e=z("xGrid"),j2e=z("xLine"),oR=z("xLabel"),$2e=z("xLabelAnchor"),z2e=z("xLabelArrow"),H2e=z("xLabelOffset"),G2e=z("xFontVariant"),q2e=z("xAriaLabel"),W2e=z("xAriaDescription"),Y2e=z("xPercent"),Z2e=z("xReverse"),X2e=z("xZero"),Q2e=z("xBase"),K2e=z("xExponent"),J2e=z("xConstant"),eNe=z("yScale"),tNe=z("yDomain"),nNe=z("yRange"),rNe=z("yNice"),iNe=z("yInset"),oNe=z("yInsetTop"),sNe=z("yInsetBottom"),aNe=z("yClamp"),cNe=z("yRound"),lNe=z("yAlign"),uNe=z("yPadding"),fNe=z("yPaddingInner"),dNe=z("yPaddingOuter"),hNe=z("yAxis"),pNe=z("yTicks"),mNe=z("yTickSize"),gNe=z("yTickSpacing"),yNe=z("yTickPadding"),_Ne=z("yTickFormat"),vNe=z("yTickRotate"),bNe=z("yGrid"),xNe=z("yLine"),sR=z("yLabel"),wNe=z("yLabelAnchor"),DNe=z("yLabelArrow"),SNe=z("yLabelOffset"),INe=z("yFontVariant"),ENe=z("yAriaLabel"),TNe=z("yAriaDescription"),CNe=z("yPercent"),MNe=z("yReverse"),ANe=z("yZero"),ONe=z("yBase"),NNe=z("yExponent"),RNe=z("yConstant"),PNe=z("facetMargin"),LNe=z("facetMarginTop"),kNe=z("facetMarginBottom"),FNe=z("facetMarginLeft"),BNe=z("facetMarginRight"),VNe=z("facetGrid"),UNe=z("facetLabel"),jNe=z("fxDomain"),$Ne=z("fxRange"),zNe=z("fxInset"),HNe=z("fxInsetLeft"),GNe=z("fxInsetRight"),qNe=z("fxRound"),WNe=z("fxAlign"),YNe=z("fxPadding"),ZNe=z("fxPaddingInner"),XNe=z("fxPaddingOuter"),QNe=z("fxAxis"),KNe=z("fxTicks"),JNe=z("fxTickSize"),eRe=z("fxTickSpacing"),tRe=z("fxTickPadding"),nRe=z("fxTickFormat"),rRe=z("fxTickRotate"),iRe=z("fxGrid"),oRe=z("fxLine"),sRe=z("fxLabel"),aRe=z("fxLabelAnchor"),cRe=z("fxLabelOffset"),lRe=z("fxFontVariant"),uRe=z("fxAriaLabel"),fRe=z("fxAriaDescription"),dRe=z("fxReverse"),hRe=z("fyDomain"),pRe=z("fyRange"),mRe=z("fyInset"),gRe=z("fyInsetTop"),yRe=z("fyInsetBottom"),_Re=z("fyRound"),vRe=z("fyAlign"),bRe=z("fyPadding"),xRe=z("fyPaddingInner"),wRe=z("fyPaddingOuter"),DRe=z("fyAxis"),SRe=z("fyTicks"),IRe=z("fyTickSize"),ERe=z("fyTickSpacing"),TRe=z("fyTickPadding"),CRe=z("fyTickFormat"),MRe=z("fyTickRotate"),ARe=z("fyGrid"),ORe=z("fyLine"),NRe=z("fyLabel"),RRe=z("fyLabelAnchor"),PRe=z("fyLabelOffset"),LRe=z("fyFontVariant"),kRe=z("fyAriaLabel"),FRe=z("fyAriaDescription"),BRe=z("fyReverse"),VRe=z("colorScale"),URe=z("colorDomain"),jRe=z("colorRange"),$Re=z("colorClamp"),zRe=z("colorN"),HRe=z("colorNice"),GRe=z("colorScheme"),qRe=z("colorInterpolate"),WRe=z("colorPivot"),YRe=z("colorSymmetric"),ZRe=z("colorLabel"),XRe=z("colorPercent"),QRe=z("colorReverse"),KRe=z("colorZero"),JRe=z("colorTickFormat"),ePe=z("colorBase"),tPe=z("colorExponent"),nPe=z("colorConstant"),rPe=z("opacityScale"),iPe=z("opacityDomain"),oPe=z("opacityRange"),sPe=z("opacityClamp"),aPe=z("opacityNice"),cPe=z("opacityLabel"),lPe=z("opacityPercent"),uPe=z("opacityReverse"),fPe=z("opacityZero"),dPe=z("opacityTickFormat"),hPe=z("opacityBase"),pPe=z("opacityExponent"),mPe=z("opacityConstant"),gPe=z("symbolScale"),yPe=z("symbolDomain"),_Pe=z("symbolRange"),vPe=z("rScale"),bPe=z("rDomain"),xPe=z("rRange"),wPe=z("rClamp"),DPe=z("rNice"),SPe=z("rLabel"),IPe=z("rPercent"),EPe=z("rZero"),TPe=z("rBase"),CPe=z("rExponent"),MPe=z("rConstant"),APe=z("lengthScale"),OPe=z("lengthDomain"),NPe=z("lengthRange"),RPe=z("lengthClamp"),PPe=z("lengthNice"),LPe=z("lengthPercent"),kPe=z("lengthZero"),FPe=z("lengthBase"),BPe=z("lengthExponent"),VPe=z("lengthConstant"),UPe=z("projectionType"),jPe=z("projectionParallels"),$Pe=z("projectionPrecision"),zPe=z("projectionRotate"),HPe=z("projectionDomain"),GPe=z("projectionInset"),qPe=z("projectionInsetLeft"),WPe=z("projectionInsetRight"),YPe=z("projectionInsetTop"),ZPe=z("projectionInsetBottom"),XPe=z("projectionClip");function q0(e,t){return{table:e,options:t}}var KPe=new Set(["frame","axisX","axisY","axisFx","axisFy","gridX","gridY","gridFx","gridFy","hexgrid","graticule","sphere"]);function aR(e,t,n={}){arguments.length===2&&!Array.isArray(t)&&(n=t,t=KPe.has(e)?null:[{}]);let r=e.startsWith("area")||e.startsWith("line")?jw:is;return JPe(r,e,t,n)}function JPe(e,t,n,r){return i=>{i.addMark(new e(t,n,r))}}var K5=(...e)=>aR("lineY",...e);var cR=(...e)=>aR("dot",...e);var J5=(...e)=>aR("gridX",...e),eU=(...e)=>aR("gridY",...e);function tU(e,t){return n=>{let r=n.marks[n.marks.length-1];n.addInteractor(new e(r,t))}}function nU(n){var r=n,{by:e}=r,t=Y(r,["by"]);return tU(zw,{selection:e,channels:t})}function rU(n){var r=n,{as:e}=r,t=Y(r,["as"]);return tU(rm,V(E({},t),{selection:e,channel:"x"}))}function iU(n){var r=n,{as:e}=r,t=Y(r,["as"]);return tU(Hw,V(E({},t),{selection:e,pointer:"x"}))}function nLe(e,t={}){if(t.for){let n=t,{for:r}=n,i=Y(n,["for"]),o=new G0(e,i),s=typeof r,a=c=>c.addLegend(o,!1);return s==="string"?Q5(this,r,a):r.value&&a(r.value),o.element}else return r=>r.addLegend(new G0(e,t))}function oU(e){return nLe.call(this,"color",e)}function W0(...e){let t=new Vw;return e.flat().forEach(n=>n(t)),tR(this,...t.marks),t.update(),t.element}oo().databaseConnector(F0());function aU(e,t){let r=["Pace","StrideLength","Cadence","Power","Elevation","HeartRate","Distance"].filter(f=>f in t),i=sU("X-Axis",r,"Distance",u),o=sU("Y-Axis",r,"StrideLength",u),s=sU("Color",r,"Cadence",u);e.innerHTML="";let a=document.createElement("div");a.style.display="flex",a.style.gap="10px",a.style.alignItems="center",a.style.justifyContent="center",a.style.backgroundColor="#3b4c5a",a.style.borderTopLeftRadius="15px",a.style.borderTopRightRadius="15px",a.style.padding="20px",a.style.marginBottom="0",a.appendChild(i),a.appendChild(o),a.appendChild(s),e.appendChild(a);let c=document.createElement("div");c.style.marginTop="15px",e.appendChild(c),u();function u(){c.innerHTML="";let f=i.value,h=o.value,p=s.value;c.innerHTML="";let m=wa.intersect(),y=q0("scatterData",{cache:!1}),v=Z5(W0(cR(y,{x:f,y:h,fill:p,r:3,tip:{format:{x:f==="Pace"?b=>Y0(b):b=>b.toFixed(0),y:h==="Pace"?b=>Y0(b):b=>b.toFixed(0),fill:p==="Pace"?b=>Y0(b):b=>b.toFixed(0)},fill:"#465a6a",stroke:"#ffffff"}}),rR("scatter"),rU({as:m,brush:{fill:"none",stroke:"#888"}}),oR(f),sR(h),iR(300)),oU({for:"scatter",label:p,style:"margin-left: 100%"}),W0(cR(q0("scatterData",{filterBy:m}),{x:f,y:h,fill:p,r:3,tip:{format:{x:f==="Pace"?b=>Y0(b):b=>b.toFixed(0),y:h==="Pace"?b=>Y0(b):b=>b.toFixed(0),fill:p==="Pace"?b=>Y0(b):b=>b.toFixed(0)},fill:"#465a6a",stroke:"#ffffff"}}),rR("scatter_filtered"),oR(f),sR(h),J5,eU,iR(300)));c.style.display="flex",c.style.display="flex-column",c.style.alignItems="center",c.style.backgroundColor="#3b4c5a",c.style.borderBottomRightRadius="15px",c.style.borderBottomLeftRadius="15px",c.style.padding="20px",c.style.color="#ffffff",c.style.marginTop="0",c.appendChild(v)}}function Eie(e){return ce(this,null,function*(){function t(f){let h=f.filter(v=>!isNaN(v)).sort((v,b)=>v-b),p=h[Math.floor(h.length*.05)],m=h[Math.floor(h.length*.95)],y=m-p;return{min:p-1.5*y,max:m+1.5*y}}let n={Pace:t(e.Pace),StrideLength:t(e.StrideLength),Cadence:t(e.Cadence),Power:t(e.Power),Elevation:t(e.Elevation),HeartRate:t(e.HeartRate),Distance:t(e.Distance)},r=e.Cadence.filter(f=>!isNaN(f)),i=r.reduce((f,h)=>f+h,0)/r.length,o=i*.8,s=i*1.2;yield oo().exec(`
    DROP TABLE IF EXISTS scatterData;
    CREATE TABLE scatterData
    (
      Pace DOUBLE,
      StrideLength DOUBLE,
      Cadence DOUBLE,
      Power DOUBLE,
      Elevation DOUBLE,
      HeartRate DOUBLE,
      Distance DOUBLE
    );
  `);let c=e.Pace.map((f,h)=>({Pace:e.Pace[h],StrideLength:e.StrideLength[h],Cadence:e.Cadence[h],Power:e.Power[h],Elevation:e.Elevation[h],HeartRate:e.HeartRate[h],Distance:e.Distance[h]})).filter(f=>f.Cadence>=o&&f.Cadence<=s&&f.Pace>=n.Pace.min&&f.Pace<=n.Pace.max&&f.StrideLength>=n.StrideLength.min&&f.StrideLength<=n.StrideLength.max&&f.Cadence>=n.Cadence.min&&f.Cadence<=n.Cadence.max&&f.Power>=n.Power.min&&f.Power<=n.Power.max&&f.Elevation>=n.Elevation.min&&f.Elevation<=n.Elevation.max&&f.HeartRate>=n.HeartRate.min&&f.HeartRate<=n.HeartRate.max&&f.Distance>=n.Distance.min&&f.Distance<=n.Distance.max).map(f=>`(${f.Pace}, ${f.StrideLength}, ${f.Cadence}, ${f.Power}, ${f.Elevation}, ${f.HeartRate}, ${f.Distance})`).join(",");if(!c){console.warn("No valid data left after filtering outliers.");return}let u=`INSERT INTO scatterData
                       VALUES ${c};`;yield oo().exec(u)})}function sU(e,t,n,r){let i=document.createElement("div");i.style.display="flex",i.style.alignItems="center";let o=document.createElement("label");o.textContent=`${e}: `,o.style.marginRight="5px";let s=document.createElement("select");return t.forEach(a=>{let c=document.createElement("option");c.value=a,c.textContent=a,a===n&&(c.selected=!0),s.appendChild(c)}),r&&s.addEventListener("change",r),i.appendChild(o),i.appendChild(s),i.children[1]}function Y0(e){if(e==null)return"";let t=Math.floor(e),n=Math.round((e-t)*60);return n===60&&(t+=1,n=0),`${t}:${n.toString().padStart(2,"0")}`}function Tie(e,t){function n(p){let m=p.filter(x=>!isNaN(x)).sort((x,w)=>x-w),y=m[Math.floor(m.length*.05)],v=m[Math.floor(m.length*.95)],b=v-y;return{min:y-1.5*b,max:v+1.5*b}}let r=n(t.Cadence),i=n(t.StrideLength),o=t.Distance.map((p,m)=>({distance:p,cadence:t.Cadence[m],strideLength:t.StrideLength[m]})).filter(p=>p.cadence>=r.min&&p.cadence<=r.max&&p.strideLength>=i.min&&p.strideLength<=i.max),s=o.map(p=>({distance:p.distance+1,cadence:p.cadence})),a=o.map(p=>({distance:p.distance+1,strideLength:p.strideLength})),c=Pr({marginLeft:60,y:{grid:!0,label:"\u2191 Cadence",domain:[Math.min(...s.map(p=>p.cadence)),Math.max(...s.map(p=>p.cadence))]},fx:{label:"Distance (km) \u2192",interval:1,labelAnchor:"right",tickFormat:p=>p.toFixed(0)},marks:[Rr([0]),R1(s,{fx:"distance",y:"cadence",tip:!0})]}),u=Pr({marginLeft:60,y:{grid:!0,label:"\u2191 Stride Length",domain:[Math.min(...a.map(p=>p.strideLength)),Math.max(...a.map(p=>p.strideLength))]},fx:{label:"Distance (km) \u2192",interval:1,labelAnchor:"right",tickFormat:p=>p.toFixed(0)},marks:[Rr([0]),R1(a,{fx:"distance",y:"strideLength",tip:!0})]});e.innerHTML="";let f=document.createElement("div"),h=document.createElement("div");f.style.marginBottom="20px",f.appendChild(c),h.appendChild(u),e.appendChild(f),e.appendChild(h)}oo().databaseConnector(F0());function Cie(e,t){let n=[];for(let r=0;r<e.length;r++){let i=Math.max(0,r-Math.floor(t/2)),o=Math.min(e.length,r+Math.floor(t/2)+1),s=e.slice(i,o),a=s.reduce((c,u)=>c+u,0)/s.length;n.push(a)}return n}function Aie(e,t){if(!e){console.error("Error: Provided element is null.");return}if(!t||t.length===0){console.error("Error: No run data provided.");return}let r=["Pace","StrideLength","Cadence","Power","Elevation","HeartRate","Distance"].filter(C=>C in t[0].data),i=oLe("Y-Axis",r,"Cadence",()=>{U()}),s=t.flatMap(C=>C.data.Cadence||[]).filter(C=>typeof C=="number"&&!isNaN(C)),a=s.reduce((C,F)=>C+F,0)/s.length,u=t.flatMap(C=>C.data.Pace||[]).filter(C=>typeof C=="number"&&!isNaN(C)),f=u.reduce((C,F)=>C+F,0)/u.length,h=t.flatMap(C=>{if(!C.data.Cadence||!C.data.Distance||!C.data.Elevation||!C.data.Pace)return[];let F=C.data.Cadence.map((q,K)=>({cadence:q,distance:C.data.Distance[K],elevation:C.data.Elevation[K],heartRate:C.data.HeartRate[K],power:C.data.Power[K],pace:C.data.Pace[K],strideLength:C.data.StrideLength[K]})).filter(q=>q.cadence>=a-20&&q.cadence<=a+20&&q.pace>=f-10&&q.pace<=f+10),W=Cie(F.map(q=>q.cadence),20),G=Cie(F.map(q=>q.pace),20);return W.map((q,K)=>({run:C.filename,distance:F[K]?.distance||0,cadence:q||0,elevation:F[K]?.elevation||0,pace:G[K]||0,heartRate:F[K]?.heartRate||0,power:F[K]?.power||0,strideLength:F[K]?.strideLength||0}))});if(h.length===0){console.warn("Warning: No cadence data available for plotting after filtering.");return}let p=h.map(C=>`(${C.distance}, ${C.power}, ${C.heartRate}, ${C.strideLength}, ${C.cadence}, ${C.elevation}, ${C.pace}, '${C.run.replace(/'/g,"''")}')`).join(", "),m=`
    CREATE TABLE IF NOT EXISTS filteredData
    (
      distance
      DOUBLE,
      power
      DOUBLE,
      heartRate
      DOUBLE,
      strideLength
      DOUBLE,
      cadence
      DOUBLE,
      elevation
      DOUBLE,
      pace
      DOUBLE,
      run
      STRING
    );
  `,y=`
    INSERT INTO filteredData
    VALUES ${p};
  `,v=wa.intersect(),b=oo();function x(C,F){let W={};return C.forEach(G=>{let K=[...F.flatMap(te=>te.data[G])].sort((te,le)=>te-le),X=K.slice(Math.floor(K.length*.05),Math.ceil(K.length*.95)),J=Math.min(...X),re=Math.max(...X);W[G]={min:J,max:re}}),W}function w(C,F,W){let{min:G,max:q}=W[F];return(C-G)/(q-G)}function D(C){let F=[...C].sort((q,K)=>q-K),W=F.slice(Math.floor(F.length*.05),Math.ceil(F.length*.95));return W.reduce((q,K)=>q+K,0)/W.length}let I=["Cadence","Pace","StrideLength","HeartRate","Power","Elevation","Distance"],A={Cadence:"(SPM)",Pace:"(min/km)",StrideLength:"(mm)",HeartRate:"(BPM)",Power:"(W)",Elevation:"gained(m)",Distance:"(km)"},T=x(I,t),N=t.map(C=>{let F=Math.min(...C.data.Elevation),W=C.data.Elevation.map(q=>q-F),G=Math.max(...W);return{name:"Run from "+new Date(Math.min(...C.data.Timestamp.map(q=>new Date(q).getTime()))).toLocaleDateString("de-DE"),rawAverages:{Cadence:D(C.data.Cadence),Pace:D(C.data.Pace),StrideLength:D(C.data.StrideLength),HeartRate:D(C.data.HeartRate),Power:D(C.data.Power),Elevation:D(W),Distance:D(C.data.Distance)},values:{Cadence:w(D(C.data.Cadence),"Cadence",T),Pace:w(D(C.data.Pace),"Pace",T),StrideLength:w(D(C.data.StrideLength),"StrideLength",T),HeartRate:w(D(C.data.HeartRate),"HeartRate",T),Power:w(D(C.data.Power),"Power",T),Elevation:G>0?D(W)/G:0,Distance:w(D(C.data.Distance),"Distance",T)}}}),B=N.flatMap(C=>I.map(F=>({key:F,value:C.values[F],name:C.name}))),R=Hl().domain(I).range(I.map((C,F)=>F/I.length*2*Math.PI)),P=C=>yc().domain(C==="Pace"||C==="HeartRate"?[1,0]:[0,1]).range([0,90]),O=[.2,.4,.6,.8,1],k=I.flatMap(C=>O.flatMap(F=>Jn(0,2*Math.PI,Math.PI/1e3).map(W=>({key:C,x:Math.cos(W)*P(C)(F),y:Math.sin(W)*P(C)(F),r:F})))),H=Pr({width:500,height:500,margin:50,color:{legend:!0,label:"Run Date",domain:N.map(C=>C.name).filter(C=>C!=="No Date")},x:{axis:null},y:{axis:null},marks:[Yo(k,{x:"x",y:"y",stroke:"gray",strokeOpacity:.4,strokeWidth:1,strokeDasharray:"2,2",facet:null}),Ay(I,{x1:C=>Math.cos(R(C))*90,y1:C=>Math.sin(R(C))*90,x2:0,y2:0,stroke:"gray",strokeOpacity:.4,strokeWidth:1}),Ri(I,{x:C=>Math.cos(R(C))*115,y:C=>Math.sin(R(C))*115,text:C=>`${C} ${A[C]||""}`,textAnchor:"middle",fontSize:12}),up(B,{x1:({key:C,value:F})=>Math.cos(R(C))*P(C)(F),y1:({key:C,value:F})=>Math.sin(R(C))*P(C)(F),x2:0,y2:0,fill:"name",stroke:"name",strokeWidth:2,fillOpacity:.3,curve:"cardinal-closed",facet:null}),nn(B,{x:({key:C,value:F})=>Math.cos(R(C))*P(C)(F),y:({key:C,value:F})=>Math.sin(R(C))*P(C)(F),fill:"name",stroke:"white",fillOpacity:.5,r:5}),Ri(B,Rc({x:({key:C,value:F})=>Math.cos(R(C))*P(C)(F),y:({key:C,value:F})=>Math.sin(R(C))*P(C)(F),text:({key:C,name:F})=>{let W=N.find(q=>q.name===F);if(!W||!(C in W.rawAverages))return"";let G=W.rawAverages[C];if(C==="Distance"){let q=t.find(K=>`Run from ${new Date(Math.min(...K.data.Timestamp.map(X=>new Date(X).getTime()))).toLocaleDateString("de-DE")}`===F);return q&&(G=Math.max(...q.data.Distance)),G.toFixed(1)}if(C==="Elevation"){let q=t.find(K=>`Run from ${new Date(Math.min(...K.data.Timestamp.map(X=>new Date(X).getTime()))).toLocaleDateString("de-DE")}`===F);return q&&(G=q.data.Elevation.reduce((K,X,J,re)=>(J>0&&X>re[J-1]&&(K+=X-re[J-1]),K),0)),G.toFixed(0)}return C==="Pace"?Mie(G):G.toFixed(0)},textAnchor:"middle",dx:18}))]});function U(){let C=document.getElementById("plot-container");C||(C=document.createElement("div"),C.id="plot-container",e.appendChild(C)),C.innerHTML="";let F=W0(K5(q0("filteredData"),{x:"distance",y:i.value.toLowerCase(),z:"run",interpolate:"monotone",stroke:"run",tip:{format:{x:W=>W.toFixed(2),y:i.value==="Pace"?W=>Mie(W):W=>W.toFixed(0),z:null,stroke:null},fill:"#465a6a",stroke:"#ffffff"}}),iU({channels:["z"],as:v}),nU({by:v}));C.appendChild(F)}b.exec(m).then(()=>b.exec(y)).then(()=>{e.appendChild(H),e.appendChild(i),U()}).catch(C=>{console.error("Error executing SQL:",C)}),e.style.backgroundColor="#3b4c5a",e.style.color="white",e.style.borderRadius="15px",e.style.display="flex",e.style.flexDirection="column",e.style.alignItems="center",e.style.padding="20px"}function Mie(e){if(e==null)return"";let t=Math.floor(e),n=Math.round((e-t)*60);return n===60&&(t+=1,n=0),`${t}:${n.toString().padStart(2,"0")}`}function oLe(e,t,n,r){let i=document.createElement("div");i.style.display="flex",i.style.alignItems="center";let o=document.createElement("label");o.textContent=`${e}: `,o.style.marginRight="5px";let s=document.createElement("select");return t.forEach(a=>{let c=document.createElement("option");c.value=a,c.textContent=a,a===n&&(c.selected=!0),s.appendChild(c)}),r&&s.addEventListener("change",r),i.appendChild(o),i.appendChild(s),i.children[1]}function Oie(e,t){if(!Array.isArray(t)||t.length<2){console.error("Error: runs is not a valid array with two elements",t);return}t.sort((G,q)=>{let K=G.data.Cadence.length?G.data.Cadence.reduce((J,re)=>J+re,0)/G.data.Cadence.length:0,X=q.data.Cadence.length?q.data.Cadence.reduce((J,re)=>J+re,0)/q.data.Cadence.length:0;return console.log("runs sorted by average Cadence"),K-X});let n=t[0],r=t[1],i="distance",o=n.data.Timestamp.map((G,q)=>q/60),s=n.data.Cadence.filter(G=>G>20),a=s.length?s.reduce((G,q)=>G+q,0)/s.length:0,c=r.data.Cadence.filter(G=>G>20),u=c.length?c.reduce((G,q)=>G+q,0)/c.length:0,f=a*1.05,h=f*1.05,p=75,m=25,y=p/100,v=m/100,b=.15,x=a*(1-b),w=a*(1+b),D=n.data.Distance.map((G,q)=>({distance:n.data.Distance[q],time:o[q],cadence:n.data.Cadence[q]})).filter(G=>G.cadence>=x&&G.cadence<=w),I=r.data.Distance.map((G,q)=>({distance:r.data.Distance[q],time:o[q],cadence:r.data.Cadence[q]})).filter(G=>G.cadence>=x&&G.cadence<=w);function A(G,q=5){return G.map((K,X,J)=>{let re=Math.max(0,X-Math.floor(q/2)),te=Math.min(J.length,X+Math.floor(q/2)+1),le=J.slice(re,te),he=le.reduce((me,at)=>me+at.cadence,0)/le.length;return V(E({},K),{cadence:he})})}let T=A(D,10),N=A(I,10);function B(G){let q=G.length,K=G.reduce((he,me)=>he+me.cadence,0),X=G.reduce((he,me)=>he+me.strideLength,0),J=G.reduce((he,me)=>he+me.cadence*me.strideLength,0),re=G.reduce((he,me)=>he+me.cadence**2,0),te=(q*J-K*X)/(q*re-K**2),le=(X-te*K)/q;return{slope:te,intercept:le}}function R(){let G=Math.max(...n.data.Distance),q=Math.max(...r.data.Distance),K=[{distance:0,minCadence:f,maxCadence:h},{distance:G,minCadence:f,maxCadence:h}],X=[{distance:0,minCadence:f,maxCadence:h},{distance:q,minCadence:f,maxCadence:h}],J=(f/a-1)*100,re=(h/a-1)*100,te=Pr({width:600,height:300,x:{label:i==="time"?"Time (minutes)":"Distance",grid:!0},y:{axis:"left",grid:!0,nice:!0,label:"Cadence (SPM)"},marks:[Cs(K,{x:i,y1:"minCadence",y2:"maxCadence",fillOpacity:.3,stroke:"green",fill:"green"}),Lr(T,{x:i,y:"cadence",stroke:"#EFB118FF",strokeWidth:2,tip:{fill:"#465a6a",stroke:"#ffffff"}}),Rr([a],{stroke:"white",strokeWidth:2,strokeDasharray:"4 4"})],color:{legend:!0,domain:[`Run from ${new Date(Math.min(...n.data.Timestamp.map(Lt=>new Date(Lt).getTime()))).toLocaleDateString("de-DE")}:`,"Cadence",`Target increase range (${J.toFixed(0)}% - ${re.toFixed(0)}%)`,"Average Cadence"],range:["rgba(62, 62, 62, 0)","#EFB118FF","green","white"]}}),le=Pr({width:600,height:300,x:{label:i==="time"?"Time (minutes)":"Distance",grid:!0},y:{axis:"left",grid:!0,nice:!0,label:"Cadence (SPM)"},marks:[Cs(X,{x:i,y1:"minCadence",y2:"maxCadence",fillOpacity:.3,stroke:"green",fill:"green"}),Lr(N,{x:i,y:"cadence",stroke:"#EFB118FF",strokeWidth:2,tip:{fill:"#465a6a",stroke:"#ffffff"}}),Rr([u],{stroke:"white",strokeWidth:2,strokeDasharray:"4 4"})],color:{legend:!0,domain:[`Run from ${new Date(Math.min(...r.data.Timestamp.map(Lt=>new Date(Lt).getTime()))).toLocaleDateString("de-DE")}:`,"Cadence",`Target increase range (${J.toFixed(0)}% - ${re.toFixed(0)}%)`,"Average Cadence"],range:["rgba(62, 62, 62, 0)","#EFB118FF","green","white",null]}}),he=a*.9,me=a*1.1,at=r.data.StrideLength.map(Lt=>Lt/1e3).filter(Lt=>Lt>.3&&Lt<2.5),ee=at.length?at.reduce((Lt,ri)=>Lt+ri,0)/at.length:1,ue=ee*.8,fe=ee*1.2,ne=r.data.Cadence.map((Lt,ri)=>({cadence:Lt,strideLength:r.data.StrideLength[ri]/1e3,pace:r.data.Pace[ri]})).filter(Lt=>Lt.cadence>=he&&Lt.cadence<=me&&Lt.strideLength>=ue&&Lt.strideLength<=fe),Je=(()=>{let Lt=new Map;return ne.forEach(({cadence:ri,strideLength:X0})=>{Lt.has(ri)||Lt.set(ri,[]),Lt.get(ri).push(X0)}),ne.filter(({cadence:ri})=>(Lt.get(ri)?.length||0)>=50)})(),{slope:De,intercept:xt}=B(Je),dt=Je.map(Lt=>V(E({},Lt),{expectedStrideLength:De*Lt.cadence+xt})),{upperQuantilePoints:ye,lowerQuantilePoints:ht}=sLe(Je,y,v),Ht=Pr({width:600,height:300,x:{label:"Cadence (SPM)",grid:!0},y:{label:"Stride Length (m)",grid:!0,nice:!0},marks:[nn(Je,{x:"cadence",y:"strideLength",fill:"#EFB118FF",opacity:.7,r:3,tip:{fill:"#465a6a",stroke:"#ffffff"}}),Yo(dt.sort((Lt,ri)=>Lt.cadence-ri.cadence),{x:"cadence",y:"expectedStrideLength",stroke:"white",strokeWidth:2}),Yo(ye,{x:"cadence",y:"strideLength",stroke:"red",strokeWidth:2,strokeDasharray:"4 4"}),Yo(ht,{x:"cadence",y:"strideLength",stroke:"#00ffe1",strokeWidth:2,strokeDasharray:"4 4"})],color:{legend:!0,domain:["Stride Length","Linear Regression Line",`Lower Quantile (${(v*100).toFixed(0)}%)`,`Upper Quantile (${(y*100).toFixed(0)}%)`],range:["#EFB118FF","white","red","#00ffe1"]}}),An=document.createElement("style");An.innerHTML=`
.custom-range::-webkit-slider-thumb {
  background: #4d6275;
}

.custom-range::-moz-range-thumb {
  background: #4d6275;
}

.custom-range::-ms-thumb {
  background: #4d6275;
}
`,document.head.appendChild(An),e.innerHTML="",e.style.backgroundColor="#3b4c5a",e.style.padding="25px",e.style.display="flex",e.style.flexDirection="column",e.style.alignItems="center",e.style.color="#ffffff",k.classList.add("form-range","custom-range"),k.style.width="30%",e.appendChild(O),e.appendChild(k);let uo=document.createElement("div");uo.style.display="flex",uo.style.gap="20px",uo.style.justifyContent="center",uo.style.width="100%",uo.appendChild(te),uo.appendChild(le),e.appendChild(uo);let Fd=(N.filter(Lt=>Lt.cadence>=f&&Lt.cadence<=h).length/N.length*100).toFixed(1),Oo=document.createElement("div");Oo.style.display="flex",Oo.style.alignItems="flex-start",Oo.style.gap="20px",Oo.style.width="100%";let os=document.createElement("div");os.style.paddingTop="100px",os.style.color="#ffffff",os.style.fontSize="28px",os.style.textAlign="center",os.style.width="50%",os.innerHTML=`
    <strong>Cadence Progress:</strong><br>
    Steps in target Range <strong>${Fd}%</strong> <br><br>`;let Ua=document.createElement("div");Ua.style.display="flex",Ua.style.flexDirection="column",Ua.appendChild(W),Ua.appendChild(Ht),Oo.appendChild(os),Oo.appendChild(Ua),e.appendChild(Oo)}let P=(f/a-1)*100,O=document.createElement("label");O.innerHTML=`Desired cadence increase: +<span id="slider-value">${P.toFixed(0)}%</span>`;let k=document.createElement("input");k.type="range",k.min="0",k.max="20",k.value=P.toFixed(1),k.style.marginBottom="10px",k.oninput=()=>{let G=parseFloat(k.value);f=a*(1+G/100),h=f*1.05,document.getElementById("slider-value").innerText=`${G.toFixed(0)}%`,R()};let H=document.createElement("label"),U=document.createElement("label");H.innerHTML=`Values above: <span id="sliderHigh-value">${p.toFixed(0)}%</span>`,U.innerHTML=`Values below: <span id="sliderLow-value">${m.toFixed(0)}%</span>`;let C=document.createElement("input");C.type="range",C.min="50",C.max="100",C.value=p.toFixed(1),C.style.marginBottom="10px";let F=document.createElement("input");F.type="range",F.min="0",F.max="50",F.value=m.toFixed(1),F.style.marginBottom="10px",C.oninput=()=>{y=parseFloat(C.value)/100,document.getElementById("sliderHigh-value").innerText=`${Math.round(y*100)}%`,R()},F.oninput=()=>{v=parseFloat(F.value)/100,document.getElementById("sliderLow-value").innerText=`${Math.round(v*100)}%`,R()};let W=document.createElement("div");W.style.display="flex",W.style.gap="10px",C.classList.add("form-range","custom-range"),F.classList.add("form-range","custom-range"),C.style.width="22%",F.style.width="22%",W.appendChild(U),W.appendChild(F),W.appendChild(H),W.appendChild(C),R()}function sLe(e,t,n){let r=new Map;e.forEach(({cadence:a,strideLength:c})=>{r.has(a)||r.set(a,[]),r.get(a).push(c)});let i=Array.from(r.entries()).filter(([a,c])=>c.length>=50),o=i.map(([a,c])=>{c.sort((f,h)=>f-h);let u=Math.floor(t*(c.length-1));return{cadence:a,strideLength:c[u]}}),s=i.map(([a,c])=>{c.sort((f,h)=>f-h);let u=Math.floor(n*(c.length-1));return{cadence:a,strideLength:c[u]}});return o.sort((a,c)=>a.cadence-c.cadence),s.sort((a,c)=>a.cadence-c.cadence),{upperQuantilePoints:o,lowerQuantilePoints:s}}var Nie=(()=>{class e{transform(n){return!n||n.length===0?0:n.reduce((r,i)=>r+i,0)/n.length}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275pipe=zm({name:"average",type:e,pure:!0,standalone:!0})}}return e})();var Rie=(()=>{class e{transform(n){if(!n)return"";let r=Math.floor(n),i=Math.round((n-r)*60);return`${r}:${i.toString().padStart(2,"0")}`}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275pipe=zm({name:"paceFormat",type:e,pure:!0,standalone:!0})}}return e})();function cU(e,t,n,r=null,i){if(!e)return;let o=(v,b=1)=>t.Distance.map((x,w)=>({distance:t.Distance[w],[v]:t[v][w]*b,highlight:w===r,index:w})),s=o("StrideLength"),a=o("Cadence"),c=o("Power"),u=o("Pace"),f=o("HeartRate"),h={strideLength:Yw(s,"StrideLength",n),cadence:Yw(a,"Cadence",n),power:Yw(c,"Power",n),pace:Yw(u,"Pace",n),heartRate:Yw(f,"HeartRate",n)};function p(v,b,x,w){return Pr({height:150,x:{label:"Distance (km)",grid:!0},y:{label:x,grid:!0,nice:!0},marks:[Lr(v,{x:"distance",y:b,stroke:w,strokeWidth:2,tip:{format:{x:D=>D.toFixed(2),y:b==="Pace"?D=>aLe(D):D=>D.toFixed(0)},fill:"#465a6a",stroke:"#ffffff"}}),Nr(v.filter(D=>D.highlight),{x:"distance",stroke:"black"}),nn(v.filter(D=>D.highlight),{x:"distance",y:b,fill:"red",r:4}),Nr(v,Or({x:"distance",py:b,stroke:"black"})),nn(v,Or({x:"distance",y:b,stroke:"red"}))]})}let m=[{data:h.cadence,field:"Cadence",label:"Cadence (SPM)",color:"#FF6600"},{data:h.strideLength,field:"StrideLength",label:"Stride Length (mm)",color:"#007BFF"},{data:h.power,field:"Power",label:"Power (W)",color:"#28A745"},{data:h.pace,field:"Pace",label:"Pace (min/km)",color:"#A900FF"},{data:h.heartRate,field:"HeartRate",label:"Heart Rate (BPM)",color:"#DC3545"}];e.innerHTML="";let y=document.createElement("div");y.style.display="grid",y.style.gridTemplateColumns="repeat(2, 1fr)",y.style.columnGap="30px",y.style.rowGap="20px",y.style.justifyContent="center",y.style.alignItems="center",y.style.marginBottom="100px",m.forEach(({data:v,field:b,label:x,color:w},D)=>{let I=p(v,b,x,w),A=document.createElement("div");A.style.display="flex",A.style.justifyContent="center",A.style.alignItems="center",D===m.length-1&&(A.style.gridColumn="1 / span 2",A.style.margin="0 auto",A.style.width="50%"),A.appendChild(I),A.style.backgroundColor="#3b4c5a",A.style.borderRadius="15px",A.style.padding="10px",A.style.color="#ffffff",y.appendChild(A)}),e.appendChild(y),setTimeout(()=>{e.querySelectorAll("svg").forEach(b=>{b.addEventListener("mousemove",x=>{let w=b.getBoundingClientRect(),D=x.clientX-w.left,I=null,A=1/0;Object.values(h).forEach(T=>{T.forEach((N,B)=>{let R=Math.abs(N.distance-(t.Distance[0]+D/w.width*(t.Distance[t.Distance.length-1]-t.Distance[0])));R<A&&(A=R,I=B)})}),I!==null&&i&&i(I)}),b.addEventListener("mouseleave",()=>{i&&i(null)})})},100)}function Yw(e,t,n){return e.map((r,i,o)=>{let s=Math.max(0,i-Math.floor(n/2)),a=Math.min(o.length,i+Math.floor(n/2)+1),c=o.slice(s,a),u=c.reduce((f,h)=>f+(h[t]??0),0)/c.length;return V(E({},r),{[t]:u})})}function aLe(e){if(e==null)return"";let t=Math.floor(e),n=Math.round((e-t)*60);return n===60&&(t+=1,n=0),`${t}:${n.toString().padStart(2,"0")}`}var cLe=["*"];var lLe=["dialog"];var Pie={animation:!0,transitionTimerDelayMs:5},uLe=(()=>{class e{constructor(){this.animation=Pie.animation}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function fLe(e){let{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e),r=parseFloat(t),i=parseFloat(n);return(r+i)*1e3}function Lie(e){return typeof e=="string"}function lU(e){return e!=null}function dLe(e){return e&&e.then}function kie(e){return(e||document.body).getBoundingClientRect()}function hLe(e){return t=>new pt(n=>{let r=s=>e.run(()=>n.next(s)),i=s=>e.run(()=>n.error(s)),o=()=>e.run(()=>n.complete());return t.subscribe({next:r,error:i,complete:o})})}var pLe=()=>{},{transitionTimerDelayMs:mLe}=Pie,lR=new Map,im=(e,t,n,r)=>{let i=r.context||{},o=lR.get(t);if(o)switch(r.runningTransition){case"continue":return oi;case"stop":e.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),lR.delete(t)}let s=n(t,r.animation,i)||pLe;if(!r.animation||window.getComputedStyle(t).transitionProperty==="none")return e.run(()=>s()),Re(void 0).pipe(hLe(e));let a=new On,c=new On,u=a.pipe(cP(!0));lR.set(t,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});let f=fLe(t);return e.runOutsideAngular(()=>{let h=fs(t,"transitionend").pipe(Di(u),Er(({target:m})=>m===t)),p=oP(f+mLe).pipe(Di(u));sP(p,h,c).pipe(Di(u)).subscribe(()=>{lR.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var Fie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();var Bie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();var Vie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})(),Uie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();var dU=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(dU||{});var nHt=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||t()):!1})();var gLe=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function jie(e){let t=Array.from(e.querySelectorAll(gLe)).filter(n=>n.tabIndex!==-1);return[t[0],t[t.length-1]]}var yLe=(e,t,n,r=!1)=>{e.runOutsideAngular(()=>{let i=fs(t,"focusin").pipe(Di(n),ct(o=>o.target));fs(t,"keydown").pipe(Di(n),Er(o=>o.which===dU.Tab),GD(i)).subscribe(([o,s])=>{let[a,c]=jie(t);(s===a||s===t)&&o.shiftKey&&(c.focus(),o.preventDefault()),s===c&&!o.shiftKey&&(a.focus(),o.preventDefault())}),r&&fs(t,"click").pipe(Di(n),GD(i),ct(o=>o[1])).subscribe(o=>o.focus())})};var rHt=new Date(1882,10,12),iHt=new Date(2174,10,25);var oHt=1e3*60*60*24;var hU=1080,_Le=24*hU,vLe=12*hU+793,sHt=29*_Le+vLe,aHt=11*hU+204;var $ie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();var zie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})(),bLe=(()=>{class e{constructor(){this._ngbConfig=ae(uLe),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Z0=class{constructor(t,n,r){this.nodes=t,this.viewRef=n,this.componentRef=r}};var xLe=(()=>{class e{constructor(){this._document=ae(hr)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:s}=i;if(n>0){let a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+n}px`}return i.overflow="hidden",()=>{n>0&&(i.paddingRight=s),i.overflow=o}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),wLe=(()=>{class e{constructor(){this._nativeElement=ae(li).nativeElement,this._zone=ae(dn)}ngOnInit(){this._zone.onStable.asObservable().pipe(po(1)).subscribe(()=>{im(this._zone,this._nativeElement,(n,r)=>{r&&kie(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return im(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=vl({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){r&2&&(VS("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),ea("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Il],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return e})(),uR=class{update(t){}close(t){}dismiss(t){}},DLe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],SLe=["animation","backdropClass"],uU=class{_applyWindowOptions(t,n){DLe.forEach(r=>{lU(n[r])&&(t[r]=n[r])})}_applyBackdropOptions(t,n){SLe.forEach(r=>{lU(n[r])&&(t[r]=n[r])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Di(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Di(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,n,r,i){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new On,this._dismissed=new On,this._hidden=new On,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let n=this._beforeDismiss();dLe(n)?n.then(r=>{r!==!1&&this._dismiss(t)},()=>{}):n!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Re(void 0);t.subscribe(()=>{let{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),u_(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},fU=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(fU||{}),ILe=(()=>{class e{constructor(){this._document=ae(hr),this._elRef=ae(li),this._zone=ae(dn),this._closed$=new On,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new dr,this.shown=new On,this.hidden=new On}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Lie(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(po(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,r={animation:this.animation,runningTransition:"stop"},i=im(this._zone,n,()=>n.classList.remove("show"),r),o=im(this._zone,this._dialogEl.nativeElement,()=>{},r),s=u_(i,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let n={animation:this.animation,runningTransition:"continue"},r=im(this._zone,this._elRef.nativeElement,(o,s)=>{s&&kie(o),o.classList.add("show")},n),i=im(this._zone,this._dialogEl.nativeElement,()=>{},n);u_(r,i).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{fs(n,"keydown").pipe(Di(this._closed$),Er(i=>i.which===dU.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(fU.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;fs(this._dialogEl.nativeElement,"mousedown").pipe(Di(this._closed$),fr(()=>r=!1),wi(()=>fs(n,"mouseup").pipe(Di(this._closed$),po(1))),Er(({target:i})=>n===i)).subscribe(()=>{r=!0}),fs(n,"click").pipe(Di(this._closed$)).subscribe(({target:i})=>{n===i&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(fU.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let r=n.querySelector("[ngbAutofocus]"),i=jie(n)[0];(r||i||n).focus()}}_restoreFocus(){let n=this._document.body,r=this._elWithFocus,i;r&&r.focus&&n.contains(r)?i=r:i=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&im(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=vl({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(r&1&&V7(lLe,7),r&2){let o;lk(o=uk())&&(i._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){r&2&&(M_("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),VS("modal d-block"+(i.windowClass?" "+i.windowClass:"")),ea("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Il],ngContentSelectors:cLe,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,i){r&1&&(F7(),Ie(0,"div",1,0)(2,"div",2),B7(3),Me()()),r&2&&VS("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),ELe=(()=>{class e{constructor(){this._applicationRef=ae(yf),this._injector=ae(ko),this._environmentInjector=ae(Tr),this._document=ae(hr),this._scrollBar=ae(xLe),this._activeWindowCmptHasChanged=new On,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new dr;let n=ae(dn);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];yLe(n,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,r,i){let o=i.container instanceof HTMLElement?i.container:lU(i.container)?this._document.querySelector(i.container):this._document.body;if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new uR;n=i.injector||n;let a=n.get(Tr,null)||this._environmentInjector,c=this._getContentRef(n,a,r,s,i),u=i.backdrop!==!1?this._attachBackdrop(o):void 0,f=this._attachWindowComponent(o,c.nodes),h=new uU(f,c,u,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(f),h.hidden.pipe(po(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=p=>{h.close(p)},s.dismiss=p=>{h.dismiss(p)},s.update=p=>{h.update(p)},h.update(i),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),f.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(r=>r.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let r=GS(wLe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_attachWindowComponent(n,r){let i=GS(ILe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_getContentRef(n,r,i,o,s){return i?i instanceof yl?this._createFromTemplateRef(i,o):Lie(i)?this._createFromString(i):this._createFromComponent(n,r,i,o,s):new Z0([])}_createFromTemplateRef(n,r){let i={$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}},o=n.createEmbeddedView(i);return this._applicationRef.attachView(o),new Z0([o.rootNodes],o)}_createFromString(n){let r=this._document.createTextNode(`${n}`);return new Z0([[r]])}_createFromComponent(n,r,i,o,s){let a=ko.create({providers:[{provide:uR,useValue:o}],parent:n}),c=GS(i,{environmentInjector:r,elementInjector:a}),u=c.location.nativeElement;return s.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Z0([[u]],c.hostView,c)}_setAriaHidden(n){let r=n.parentElement;r&&n!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==n&&i.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let r=()=>{let i=this._modalRefs.indexOf(n);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(r,r)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let r=this._windowCmpts.indexOf(n);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),TLe=(()=>{class e{constructor(){this._injector=ae(ko),this._modalStack=ae(ELe),this._config=ae(bLe)}open(n,r={}){let i=E(V(E({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,n,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Hie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({providers:[TLe]})}}return e})();var Gie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();var qie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();var Wie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();var Yie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();var Zie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();var Xie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();var Qie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();var Kie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();var Jie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();var cHt=new Le("live announcer delay",{providedIn:"root",factory:()=>100});var eoe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})();var toe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({})}}return e})(),CLe=[Fie,Bie,Vie,Uie,$ie,zie,Hie,Gie,toe,qie,Wie,Yie,Zie,Xie,Qie,Kie,Jie,eoe],noe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=cn({type:e})}static{this.\u0275inj=an({imports:[CLe,Fie,Bie,Vie,Uie,$ie,zie,Hie,Gie,toe,qie,Wie,Yie,Zie,Xie,Qie,Kie,Jie,eoe]})}}return e})();var roe=(()=>{class e{constructor(n){this.http=n,this.baseUrl="http://127.0.0.1:5000/api"}uploadFile(n){return this.http.post(`${this.baseUrl}/upload`,n)}uploadFiles(n){return this.http.post(`${this.baseUrl}/uploads`,n)}static{this.\u0275fac=function(r){return new(r||e)($e(B_))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ALe=e=>({opacity:e}),OLe=(e,t)=>({"d-flex":!0,"flex-column align-items-center":e,"justify-content-center":t}),NLe=(e,t)=>({opacity:e,width:t}),RLe=e=>({"pb-4":e}),PLe=(e,t)=>({opacity:e,"pointer-events":t});function LLe(e,t){e&1&&(Ie(0,"h3",23),St(1," Please select the .fit file that should be visualized. "),Me())}function kLe(e,t){e&1&&(Ie(0,"h3",23),St(1," Please select the two .fit files that should be visualized. "),Me())}function FLe(e,t){e&1&&(Ie(0,"h3",23),St(1," Please select two .fit files, to look at your cadence improvement. "),Me())}function BLe(e,t){if(e&1&&(Ie(0,"h3",23),St(1),Me()),e&2){let n=Tn();lt(),na(" ",n.getTitle(n.currentVisualization)," ")}}function VLe(e,t){e&1&&(Ie(0,"div",28),ms(1,"input",29),Me())}function ULe(e,t){if(e&1){let n=lh();Ie(0,"div",30),Kn("change",function(i){ai(n);let o=Tn(2);return ci(o.onFilesSelected(i))}),ms(1,"input",31),Me()}}function jLe(e,t){if(e&1){let n=lh();Ie(0,"form",24)(1,"div",25),Kn("change",function(i){ai(n);let o=Tn();return ci(o.onFileSelected(i))}),Js(2,VLe,2,0,"div",26)(3,ULe,2,0,"div",27),Me()()}if(e&2){let n=Tn();lt(2),zn("ngIf",n.uploadMode==="single"),lt(),zn("ngIf",n.uploadMode==="multi"||n.uploadMode==="helper")}}function $Le(e,t){if(e&1){let n=lh();Ie(0,"select",32),mf("ngModelChange",function(i){ai(n);let o=Tn();return uh(o.currentVisualization,i)||(o.currentVisualization=i),ci(i)}),Kn("change",function(){ai(n);let i=Tn();return ci(i.onVisualizationChange())}),Ie(1,"option",33),St(2,"Cadence vs Stride Length vs Pace vs Power vs Heart Rate"),Me(),Ie(3,"option",34),St(4,"Dynamic Scatter Plot"),Me()()}if(e&2){let n=Tn();pf("ngModel",n.currentVisualization)}}function zLe(e,t){if(e&1&&(Ie(0,"h3",11),St(1),Me()),e&2){let n=Tn();lt(),na("Run from ",n.runDate,"")}}function HLe(e,t){if(e&1&&(Ie(0,"div",35)(1,"span",36),St(2),Cr(3,"average"),Cr(4,"number"),Me(),Ie(5,"span",37),St(6),Cr(7,"average"),Cr(8,"number"),Me(),Ie(9,"span",38),St(10),Cr(11,"average"),Cr(12,"paceFormat"),Me(),Ie(13,"span",39),St(14),Cr(15,"average"),Cr(16,"number"),Me(),Ie(17,"span",40),St(18),Cr(19,"average"),Cr(20,"number"),Me()()),e&2){let n=Tn();zn("ngClass",US(30,RLe,n.currentVisualization==="strideLength-power")),lt(2),na("Avg Cadence: ",ra(4,8,El(3,6,n.data.Cadence),"1.0-0")," SPM "),lt(4),na("Avg Stride Length: ",ra(8,13,El(7,11,n.data.StrideLength),"1.0-0")," mm "),lt(4),na("Avg Pace: ",El(12,18,El(11,16,n.data.Pace))," min/km "),lt(4),na("Avg Power: ",ra(16,22,El(15,20,n.data.Power),"1.0-0")," W "),lt(4),na("Avg Heart Rate: ",ra(20,27,El(19,25,n.data.HeartRate),"1.0-0")," BPM")}}function GLe(e,t){if(e&1){let n=lh();Ie(0,"div",41)(1,"label",42),St(2,"Smoothness:"),Me(),Ie(3,"input",43),Kn("input",function(i){ai(n);let o=Tn();return ci(o.updateSmoothness(i))}),Me(),Ie(4,"span",44),St(5,"10"),Me()()}}function qLe(e,t){if(e&1){let n=lh();Ie(0,"div",45)(1,"input",46),Kn("change",function(){ai(n);let i=Tn();return ci(i.onVisualizationChange())}),mf("ngModelChange",function(i){ai(n);let o=Tn();return uh(o.cadence,i)||(o.cadence=i),ci(i)}),Me(),Ie(2,"label",47),St(3,"Cadence"),Me(),Ie(4,"input",48),Kn("change",function(){ai(n);let i=Tn();return ci(i.onVisualizationChange())}),mf("ngModelChange",function(i){ai(n);let o=Tn();return uh(o.strideLength,i)||(o.strideLength=i),ci(i)}),Me(),Ie(5,"label",49),St(6,"Stride Length"),Me(),Ie(7,"input",50),Kn("change",function(){ai(n);let i=Tn();return ci(i.onVisualizationChange())}),mf("ngModelChange",function(i){ai(n);let o=Tn();return uh(o.pace,i)||(o.pace=i),ci(i)}),Me(),Ie(8,"label",51),St(9,"Pace"),Me(),Ie(10,"input",52),Kn("change",function(){ai(n);let i=Tn();return ci(i.onVisualizationChange())}),mf("ngModelChange",function(i){ai(n);let o=Tn();return uh(o.power,i)||(o.power=i),ci(i)}),Me(),Ie(11,"label",53),St(12,"Power"),Me(),Ie(13,"input",54),Kn("change",function(){ai(n);let i=Tn();return ci(i.onVisualizationChange())}),mf("ngModelChange",function(i){ai(n);let o=Tn();return uh(o.heartRate,i)||(o.heartRate=i),ci(i)}),Me(),Ie(14,"label",55),St(15,"Heart Rate"),Me()()}if(e&2){let n=Tn();lt(),pf("ngModel",n.cadence),lt(3),pf("ngModel",n.strideLength),lt(3),pf("ngModel",n.pace),lt(3),pf("ngModel",n.power),lt(3),pf("ngModel",n.heartRate)}}function WLe(e,t){if(e&1&&(Ie(0,"div",56),ms(1,"div",57),Me()),e&2){let n=Tn();lt(),zn("ngStyle",A_(1,PLe,n.currentVisualization==="cadence-distance"?"1":"0",n.currentVisualization==="cadence-distance"?"auto":"none"))}}function YLe(e,t){if(e&1&&(Ie(0,"tr")(1,"td"),St(2),Me(),Ie(3,"td"),St(4),Cr(5,"number"),Me(),Ie(6,"td"),St(7),Cr(8,"number"),Me(),Ie(9,"td"),St(10),Cr(11,"number"),Me(),Ie(12,"td"),St(13),Cr(14,"number"),Me(),Ie(15,"td"),St(16),Cr(17,"number"),Me(),Ie(18,"td"),St(19),Cr(20,"paceFormat"),Me(),Ie(21,"td"),St(22),Cr(23,"number"),Me()()),e&2){let n=t.$implicit,r=Tn(2);lt(2),ta(r.getRunDate(n.timestamp)),lt(2),ta(ra(5,8,n.distance,"1.1-1")),lt(3),ta(ra(8,11,n.elevation,"1.0-0")),lt(3),ta(ra(11,14,n.cadence,"1.0-0")),lt(3),ta(ra(14,17,n.strideLength,"1.0-0")),lt(3),ta(ra(17,20,n.power,"1.0-0")),lt(3),ta(El(20,23,n.pace)),lt(3),ta(ra(23,25,n.heartRate,"1.0-0"))}}function ZLe(e,t){if(e&1&&(Ie(0,"div",58)(1,"table",59)(2,"thead")(3,"tr")(4,"th"),St(5,"Run"),Me(),Ie(6,"th"),St(7,"Distance (km)"),Me(),Ie(8,"th"),St(9,"Elevation gained (m)"),Me(),Ie(10,"th"),St(11,"Avg Cadence (SPM)"),Me(),Ie(12,"th"),St(13,"Avg Stride Length (mm)"),Me(),Ie(14,"th"),St(15,"Avg Power (W)"),Me(),Ie(16,"th"),St(17,"Avg Pace (min/km)"),Me(),Ie(18,"th"),St(19,"Avg Heart Rate (BPM)"),Me()()(),Ie(20,"tbody"),Js(21,YLe,24,28,"tr",60),Me()()()),e&2){let n=Tn();lt(21),zn("ngForOf",n.runAverages)}}var ioe=(()=>{class e{constructor(n,r){this.http=n,this.apiService=r,this.selectedFile=null,this.currentVisualization="cadence-distance",this.data=null,this.map=null,this.polylines=null,this.uploadMode="single",this.cadence=!0,this.strideLength=!0,this.pace=!0,this.power=!0,this.heartRate=!0,this.markers=[],this.highlightedIndex=null,this.smoothness=10,this.runDate="Unknown",this.runAverages=[],this.visualizationLoaded=!1}updateSmoothness(n){let r=n.target;this.smoothness=parseInt(r.value,10),document.getElementById("smoothness-value").innerText=r.value,this.renderVisualization()}setUploadMode(n){this.uploadMode=n,this.uploadMode==="single"?this.currentVisualization="cadence-distance":this.uploadMode==="helper"?this.currentVisualization="cadence-helper":this.uploadMode==="multi"&&(this.visualizationLoaded=!1,this.currentVisualization="cadence-distance-multi");let r=document.getElementById("visualization-container");r&&(r.innerHTML="");let i=document.getElementById("five-graphs");i&&(i.innerHTML=""),this.data=null}onFileSelected(n){let r=n.target;r?.files?.length&&(this.selectedFile=r.files[0],this.uploadFile(),setTimeout(()=>{r.value=""},100))}onFilesSelected(n){let r=n.target;if(!r?.files)return;let i=r.files;if(i.length!==2){alert("Please select exactly 2 files for multi-upload."),r.value="";return}this.uploadFiles(i)}uploadFile(){if(!this.selectedFile)return;let n=new FormData;n.append("file",this.selectedFile),this.apiService.uploadFile(n).subscribe(r=>{this.data=r.data,this.renderVisualization(),this.renderMap(),this.runDate=this.data.Timestamp?new Date(this.data.Timestamp[0]).toLocaleDateString():"Unknown",Eie(this.data).then(()=>{console.log("SQL Data Inserted After Upload")}).catch(i=>console.error("QL Insert Failed:",i))},r=>console.error("Error uploading file:",r))}uploadFiles(n){let r=new FormData;Array.from(n).forEach(i=>r.append("files",i)),this.apiService.uploadFiles(r).subscribe(i=>{this.data=i.results,this.runAverages=this.calculateRunAverages(i.results),this.renderVisualization()},i=>console.error("Error uploading files:",i))}onVisualizationChange(){this.renderVisualization(),this.renderMap()}renderVisualization(){this.visualizationLoaded=!1;let n=document.getElementById("visualization-container"),r=document.getElementById("five-graphs");if(r&&(r.innerHTML=""),!!n&&this.data)switch(this.currentVisualization){case"cadence-distance":wA(n,this.data,this.highlightedIndex,this.cadence,this.strideLength,this.pace,this.power,this.heartRate,this.smoothness,o=>this.highlightMarkerOnMap(o)),cU(r,this.data,this.smoothness,this.highlightedIndex,o=>this.highlightMarkerOnMap(o));break;case"strideLength-power":aU(n,this.data);break;case"boxplot":Tie(n,this.data);break;case"cadence-distance-multi":Aie(n,this.data),new MutationObserver((o,s)=>{for(let a of o)if(a.addedNodes.length>0){this.visualizationLoaded=!0,s.disconnect();break}}).observe(n,{childList:!0});break;case"cadence-helper":Oie(n,this.data);break;default:console.error("Unknown visualization type")}}renderMap(){if(!this.data||!this.data.Latitude?.length||!this.data.Longitude?.length){console.error("Missing positional data.");return}if(this.currentVisualization!=="cadence-distance"){let o=document.getElementById("map");o&&(o.innerHTML="",o.style.backgroundColor="");return}if(!document.getElementById("map")){console.warn("Map container not found, skipping map rendering.");return}this.map&&this.map.remove();let r=this.data.Latitude.map((o,s)=>({lat:o,lng:this.data.Longitude[s],index:s}));if(r.length<2){console.error("Not enough positional data to draw a route.");return}this.map=il.map("map").setView([r[0].lat,r[0].lng],13),il.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(this.map),this.polylines=il.polyline(r.map(o=>[o.lat,o.lng]),{color:"red"}).addTo(this.map),this.markers.forEach(o=>this.map.removeLayer(o)),this.markers=[],r.forEach(o=>{let s=il.circleMarker([o.lat,o.lng],{radius:.5,color:"#007BFF",fillColor:"#007BFF",fillOpacity:.8}).addTo(this.map);this.markers.push(s),s.on("mouseover",()=>{this.highlightMarkerOnMap(o.index),this.highlightPointInVisualization(o.index)}),s.on("mouseout",()=>{this.clearHighlight()})});let i=il.latLngBounds(r.map(o=>[o.lat,o.lng]));this.map.fitBounds(i)}highlightMarkerOnMap(n){!this.map||!this.markers.length||(this.highlightedIndex=n,this.markers.forEach((r,i)=>{i===n?(this.map.removeLayer(r),r.setStyle({color:"red",fillColor:"red",fillOpacity:1,radius:6}),this.map.addLayer(r)):r.setStyle({color:"#007BFF",fillColor:"#007BFF",fillOpacity:.8,radius:.5})}))}clearHighlight(){this.currentVisualization=="cadence-distance"&&(this.highlightedIndex=null,this.markers.forEach(n=>{n.setStyle({color:"#007BFF",fillColor:"#007BFF",fillOpacity:.8,radius:.5})}),this.renderVisualization())}highlightPointInVisualization(n){if(this.currentVisualization!="cadence-distance")return;n!==null?this.highlightedIndex=n:this.highlightedIndex=null;let r=document.getElementById("visualization-container"),i=document.getElementById("five-graphs");if(!r)return;let o=this.currentVisualization==="cadence-distance"?wA:aU;o===wA&&(o(r,this.data,this.highlightedIndex,this.cadence,this.strideLength,this.pace,this.power,this.heartRate,this.smoothness,s=>{this.clearHighlight(),this.highlightMarkerOnMap(s)}),cU(i,this.data,this.smoothness,this.highlightedIndex,s=>this.highlightMarkerOnMap(s)))}calculateRunAverages(n){return n.map(r=>({filename:r.filename,cadence:this.calculateAverage(r.data.Cadence),strideLength:this.calculateAverage(r.data.StrideLength),power:this.calculateAverage(r.data.Power),pace:this.calculateAverage(r.data.Pace),heartRate:this.calculateAverage(r.data.HeartRate),timestamp:r.data.Timestamp,distance:Math.max(...r.data.Distance),elevation:r.data.Elevation.reduce((i,o,s,a)=>(s>0&&o>a[s-1]&&(i+=o-a[s-1]),i),0)}))}calculateAverage(n){return!n||n.length===0?0:n.reduce((r,i)=>r+i,0)/n.length}getRunDate(n){if(!n||n.length===0)return"Unknown";let r=n.map(o=>new Date(o).getTime()).filter(o=>!isNaN(o));return r.length===0?"Unknown":new Date(Math.min(...r)).toLocaleDateString("de-DE")}getTitle(n){switch(this.currentVisualization){case"cadence-distance":return"Cadence vs Stride Length vs Pace vs Power vs Heart Rate";case"strideLength-power":return"Dynamic Scatter Plot with Selection";case"cadence-distance-multi":return"Comparison between two runs";case"cadence-helper":return"Cadence Helper "}return n.name}static{this.\u0275fac=function(r){return new(r||e)(ut(B_),ut(roe))}}static{this.\u0275cmp=vl({type:e,selectors:[["app-visualization"]],standalone:!0,features:[Il],decls:33,vars:29,consts:[[1,"navbar","navbar-dark","sticky-top",2,"background-color","#3b4c5a","font-size","16px"],[1,"container","d-flex","justify-content-center"],[1,"nav","navbar-nav","d-flex","flex-row"],[1,"nav-item","mx-3"],[1,"nav-link","active",3,"click"],[1,"nav-link",3,"click"],[1,"d-flex,","justify-content-center"],["class","d-flex justify-content-center mb-2 mt-4",4,"ngIf"],[1,"d-flex","justify-content-center","mt-3",2,"color","#ffffff"],[2,"background-color","#3b4c5a","width","75%","border-radius","15px",3,"ngStyle"],["class","container mt-4 mb-4",4,"ngIf"],[1,"d-flex","justify-content-center","m-3"],["class","form-select form-select-sm","style","width: 50%",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","d-flex justify-content-center m-3",4,"ngIf"],["class","d-flex justify-content-center",3,"ngClass",4,"ngIf"],[1,"d-flex","justify-content-center"],["class","d-flex justify-content-center m-4",4,"ngIf"],["class","m-4",4,"ngIf"],[3,"ngClass"],["id","visualization-container",1,"m-3",2,"border-radius","15px",3,"ngStyle"],["class","m-3","id","map-container","style","border-radius: 15px; width: 47.5%;",4,"ngIf"],["class","d-flex","style","width: 47.5%; background-color: #3b4c5a; border-radius: 15px; height: 212px; position: sticky; top: 50%; transform: translateY(-50%);",4,"ngIf"],["id","five-graphs",2,"width","97.5%","padding","0"],[1,"d-flex","justify-content-center","mb-2","mt-4"],[1,"container","mt-4","mb-4"],[1,"row","g-3","d-flex","justify-content-center",3,"change"],["class","col-md-4",4,"ngIf"],["class","col-md-4",3,"change",4,"ngIf"],[1,"col-md-4"],["type","file","id","singleUpload",1,"form-control"],[1,"col-md-4",3,"change"],["type","file","id","multiUpload","multiple","",1,"form-control"],[1,"form-select","form-select-sm",2,"width","50%",3,"ngModelChange","change","ngModel"],["value","cadence-distance"],["value","strideLength-power"],[1,"d-flex","justify-content-center",3,"ngClass"],[1,"border","border-2","m-1","p-1","rounded",2,"border-color","#FF6600 !important"],[1,"border","border-2","m-1","p-1","rounded",2,"border-color","#007BFF !important"],[1,"border","border-2","m-1","p-1","rounded",2,"border-color","#A900FF !important"],[1,"border","border-2","m-1","p-1","rounded",2,"border-color","#28A745 !important"],[1,"border","border-2","m-1","p-1","rounded",2,"border-color","#DC3545 !important"],[1,"d-flex","justify-content-center","m-4"],["for","smoothness"],["type","range","id","smoothness","min","1","max","100","value","10","step","1",1,"form-range","ms-2","custom-range",3,"input"],["id","smoothness-value",1,"ms-2"],[1,"m-4"],["type","checkbox","id","option1","name","Cadence","checked","",1,"form-check-input","custom-checkbox","m-1",3,"change","ngModelChange","ngModel"],["for","option1"],["type","checkbox","id","option2","name","Stride Length","checked","",1,"form-check-input","custom-checkbox","m-1",3,"change","ngModelChange","ngModel"],["for","option2"],["type","checkbox","id","option3","name","Pace","checked","",1,"form-check-input","custom-checkbox","m-1",3,"change","ngModelChange","ngModel"],["for","option3"],["type","checkbox","id","option4","name","Power","checked","",1,"form-check-input","custom-checkbox","m-1",3,"change","ngModelChange","ngModel"],["for","option4"],["type","checkbox","id","option5","name","HeartRate","checked","",1,"form-check-input","custom-checkbox","m-1",3,"change","ngModelChange","ngModel"],["for","option5"],["id","map-container",1,"m-3",2,"border-radius","15px","width","47.5%"],["id","map",2,"height","400px","border-radius","15px",3,"ngStyle"],[1,"d-flex",2,"width","47.5%","background-color","#3b4c5a","border-radius","15px","height","212px","position","sticky","top","50%","transform","translateY(-50%)"],[1,"table","table-primary","table-striped","m-2",2,"height","170px"],[4,"ngFor","ngForOf"]],template:function(r,i){r&1&&(Ie(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4),Kn("click",function(){return i.setUploadMode("single")}),St(5,"Single Upload"),Me()(),Ie(6,"li",3)(7,"a",5),Kn("click",function(){return i.setUploadMode("multi")}),St(8,"Multi Upload"),Me()(),Ie(9,"li",3)(10,"a",5),Kn("click",function(){return i.setUploadMode("helper")}),St(11,"Cadence Helper"),Me()()()()(),Ie(12,"div",6),Js(13,LLe,2,0,"h3",7)(14,kLe,2,0,"h3",7)(15,FLe,2,0,"h3",7)(16,BLe,2,1,"h3",7),Me(),Ie(17,"div",8)(18,"div",9),Js(19,jLe,4,2,"form",10),Ie(20,"div",11),Js(21,$Le,5,1,"select",12),Me(),Js(22,zLe,2,1,"h3",13)(23,HLe,21,32,"div",14),Ie(24,"div",15),Js(25,GLe,6,0,"div",16)(26,qLe,16,5,"div",17),Me()()(),Ie(27,"div",18),ms(28,"div",19),Js(29,WLe,2,4,"div",20)(30,ZLe,22,1,"div",21),Me(),Ie(31,"div",15),ms(32,"div",22),Me()),r&2&&(lt(4),ea("active",i.uploadMode==="single"),lt(3),ea("active",i.uploadMode==="multi"),lt(3),ea("active",i.uploadMode==="helper"),lt(3),zn("ngIf",i.data==null&&i.uploadMode==="single"),lt(),zn("ngIf",i.data==null&&i.uploadMode==="multi"),lt(),zn("ngIf",i.data==null&&i.uploadMode==="helper"),lt(),zn("ngIf",i.data!=null),lt(2),zn("ngStyle",US(21,ALe,i.uploadMode==="single"||i.data===null?"100%":"0%")),lt(),zn("ngIf",i.data===null),lt(2),zn("ngIf",i.data!=null&&i.uploadMode=="single"),lt(),zn("ngIf",i.data&&i.uploadMode==="single"),lt(),zn("ngIf",i.data&&i.uploadMode==="single"),lt(2),zn("ngIf",i.data!=null&&i.currentVisualization=="cadence-distance"),lt(),zn("ngIf",i.data!=null&&i.currentVisualization=="cadence-distance"),lt(),zn("ngClass",A_(23,OLe,i.currentVisualization==="strideLength-power"||i.currentVisualization==="boxplot",i.currentVisualization!=="strideLength-power")),lt(),zn("ngStyle",A_(26,NLe,i.data!==null?"100%":"0%",i.uploadMode==="helper"?"90%":"47.5%")),lt(),zn("ngIf",i.uploadMode==="single"),lt(),zn("ngIf",i.uploadMode==="multi"&&i.visualizationLoaded))},dependencies:[Sk,uH,fH,dH,hH,pH,oG,eG,nG,iG,DF,AI,W9,Y9,MF,CF,Nie,Rie,noe],styles:[".navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{cursor:pointer}.custom-range[_ngcontent-%COMP%]::-webkit-slider-thumb{background:#4d6275}.custom-range[_ngcontent-%COMP%]::-moz-range-thumb{background:#4d6275}.custom-range[_ngcontent-%COMP%]::-ms-thumb{background:#4d6275}.form-check-input[_ngcontent-%COMP%]{cursor:pointer;border:2px solid #ffffff}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#4d6275;border-color:#4d6275}#map[_ngcontent-%COMP%]{background:transparent!important}"]})}}return e})();var ooe=[{path:"",redirectTo:"visualization",pathMatch:"full"},{path:"visualization",component:ioe}];LH(M9,{providers:[D9(ooe),EH()]}).catch(e=>console.error(e));
